function Jm(e,r){for(var s=0;s<r.length;s++){const n=r[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();function qc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gc={exports:{}},ea={},Qc={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var As=Symbol.for("react.element"),Ym=Symbol.for("react.portal"),Xm=Symbol.for("react.fragment"),Zm=Symbol.for("react.strict_mode"),e0=Symbol.for("react.profiler"),t0=Symbol.for("react.provider"),r0=Symbol.for("react.context"),s0=Symbol.for("react.forward_ref"),n0=Symbol.for("react.suspense"),a0=Symbol.for("react.memo"),i0=Symbol.for("react.lazy"),oo=Symbol.iterator;function l0(e){return e===null||typeof e!="object"?null:(e=oo&&e[oo]||e["@@iterator"],typeof e=="function"?e:null)}var Kc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jc=Object.assign,Yc={};function Ir(e,r,s){this.props=e,this.context=r,this.refs=Yc,this.updater=s||Kc}Ir.prototype.isReactComponent={};Ir.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};Ir.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xc(){}Xc.prototype=Ir.prototype;function al(e,r,s){this.props=e,this.context=r,this.refs=Yc,this.updater=s||Kc}var il=al.prototype=new Xc;il.constructor=al;Jc(il,Ir.prototype);il.isPureReactComponent=!0;var co=Array.isArray,Zc=Object.prototype.hasOwnProperty,ll={current:null},ed={key:!0,ref:!0,__self:!0,__source:!0};function td(e,r,s){var n,a={},i=null,l=null;if(r!=null)for(n in r.ref!==void 0&&(l=r.ref),r.key!==void 0&&(i=""+r.key),r)Zc.call(r,n)&&!ed.hasOwnProperty(n)&&(a[n]=r[n]);var o=arguments.length-2;if(o===1)a.children=s;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:As,type:e,key:i,ref:l,props:a,_owner:ll.current}}function o0(e,r){return{$$typeof:As,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function ol(e){return typeof e=="object"&&e!==null&&e.$$typeof===As}function c0(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return r[s]})}var uo=/\/+/g;function Ea(e,r){return typeof e=="object"&&e!==null&&e.key!=null?c0(""+e.key):r.toString(36)}function dn(e,r,s,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case As:case Ym:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+Ea(l,0):n,co(a)?(s="",e!=null&&(s=e.replace(uo,"$&/")+"/"),dn(a,r,s,"",function(u){return u})):a!=null&&(ol(a)&&(a=o0(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(uo,"$&/")+"/")+e)),r.push(a)),1;if(l=0,n=n===""?".":n+":",co(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Ea(i,o);l+=dn(i,r,s,c,a)}else if(c=l0(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Ea(i,o++),l+=dn(i,r,s,c,a);else if(i==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return l}function qs(e,r,s){if(e==null)return e;var n=[],a=0;return dn(e,n,"","",function(i){return r.call(s,i,a++)}),n}function d0(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},un={transition:null},u0={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:un,ReactCurrentOwner:ll};function rd(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:qs,forEach:function(e,r,s){qs(e,function(){r.apply(this,arguments)},s)},count:function(e){var r=0;return qs(e,function(){r++}),r},toArray:function(e){return qs(e,function(r){return r})||[]},only:function(e){if(!ol(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=Ir;H.Fragment=Xm;H.Profiler=e0;H.PureComponent=al;H.StrictMode=Zm;H.Suspense=n0;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u0;H.act=rd;H.cloneElement=function(e,r,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Jc({},e.props),a=e.key,i=e.ref,l=e._owner;if(r!=null){if(r.ref!==void 0&&(i=r.ref,l=ll.current),r.key!==void 0&&(a=""+r.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in r)Zc.call(r,c)&&!ed.hasOwnProperty(c)&&(n[c]=r[c]===void 0&&o!==void 0?o[c]:r[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:As,type:e.type,key:a,ref:i,props:n,_owner:l}};H.createContext=function(e){return e={$$typeof:r0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t0,_context:e},e.Consumer=e};H.createElement=td;H.createFactory=function(e){var r=td.bind(null,e);return r.type=e,r};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:s0,render:e}};H.isValidElement=ol;H.lazy=function(e){return{$$typeof:i0,_payload:{_status:-1,_result:e},_init:d0}};H.memo=function(e,r){return{$$typeof:a0,type:e,compare:r===void 0?null:r}};H.startTransition=function(e){var r=un.transition;un.transition={};try{e()}finally{un.transition=r}};H.unstable_act=rd;H.useCallback=function(e,r){return Pe.current.useCallback(e,r)};H.useContext=function(e){return Pe.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};H.useEffect=function(e,r){return Pe.current.useEffect(e,r)};H.useId=function(){return Pe.current.useId()};H.useImperativeHandle=function(e,r,s){return Pe.current.useImperativeHandle(e,r,s)};H.useInsertionEffect=function(e,r){return Pe.current.useInsertionEffect(e,r)};H.useLayoutEffect=function(e,r){return Pe.current.useLayoutEffect(e,r)};H.useMemo=function(e,r){return Pe.current.useMemo(e,r)};H.useReducer=function(e,r,s){return Pe.current.useReducer(e,r,s)};H.useRef=function(e){return Pe.current.useRef(e)};H.useState=function(e){return Pe.current.useState(e)};H.useSyncExternalStore=function(e,r,s){return Pe.current.useSyncExternalStore(e,r,s)};H.useTransition=function(){return Pe.current.useTransition()};H.version="18.3.1";Qc.exports=H;var v=Qc.exports;const ta=qc(v),m0=Jm({__proto__:null,default:ta},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0=v,h0=Symbol.for("react.element"),p0=Symbol.for("react.fragment"),f0=Object.prototype.hasOwnProperty,g0=x0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y0={key:!0,ref:!0,__self:!0,__source:!0};function sd(e,r,s){var n,a={},i=null,l=null;s!==void 0&&(i=""+s),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(l=r.ref);for(n in r)f0.call(r,n)&&!y0.hasOwnProperty(n)&&(a[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps,r)a[n]===void 0&&(a[n]=r[n]);return{$$typeof:h0,type:e,key:i,ref:l,props:a,_owner:g0.current}}ea.Fragment=p0;ea.jsx=sd;ea.jsxs=sd;Gc.exports=ea;var t=Gc.exports,nd={exports:{}},We={},ad={exports:{}},id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(D,O){var U=D.length;D.push(O);e:for(;0<U;){var le=U-1>>>1,pe=D[le];if(0<a(pe,O))D[le]=O,D[U]=pe,U=le;else break e}}function s(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var O=D[0],U=D.pop();if(U!==O){D[0]=U;e:for(var le=0,pe=D.length,Hs=pe>>>1;le<Hs;){var Kt=2*(le+1)-1,Sa=D[Kt],Jt=Kt+1,Ws=D[Jt];if(0>a(Sa,U))Jt<pe&&0>a(Ws,Sa)?(D[le]=Ws,D[Jt]=U,le=Jt):(D[le]=Sa,D[Kt]=U,le=Kt);else if(Jt<pe&&0>a(Ws,U))D[le]=Ws,D[Jt]=U,le=Jt;else break e}}return O}function a(D,O){var U=D.sortIndex-O.sortIndex;return U!==0?U:D.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],h=1,x=null,f=3,j=!1,b=!1,N=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(D){for(var O=s(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=D)n(u),O.sortIndex=O.expirationTime,r(c,O);else break;O=s(u)}}function g(D){if(N=!1,d(D),!b)if(s(c)!==null)b=!0,he(w);else{var O=s(u);O!==null&&Ca(g,O.startTime-D)}}function w(D,O){b=!1,N&&(N=!1,p(R),R=-1),j=!0;var U=f;try{for(d(O),x=s(c);x!==null&&(!(x.expirationTime>O)||D&&!I());){var le=x.callback;if(typeof le=="function"){x.callback=null,f=x.priorityLevel;var pe=le(x.expirationTime<=O);O=e.unstable_now(),typeof pe=="function"?x.callback=pe:x===s(c)&&n(c),d(O)}else n(c);x=s(c)}if(x!==null)var Hs=!0;else{var Kt=s(u);Kt!==null&&Ca(g,Kt.startTime-O),Hs=!1}return Hs}finally{x=null,f=U,j=!1}}var k=!1,C=null,R=-1,z=5,P=-1;function I(){return!(e.unstable_now()-P<z)}function A(){if(C!==null){var D=e.unstable_now();P=D;var O=!0;try{O=C(!0,D)}finally{O?L():(k=!1,C=null)}}else k=!1}var L;if(typeof m=="function")L=function(){m(A)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,V=$.port2;$.port1.onmessage=A,L=function(){V.postMessage(null)}}else L=function(){y(A,0)};function he(D){C=D,k||(k=!0,L())}function Ca(D,O){R=y(function(){D(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){b||j||(b=!0,he(w))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var U=f;f=O;try{return D()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,O){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=f;f=D;try{return O()}finally{f=U}},e.unstable_scheduleCallback=function(D,O,U){var le=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?le+U:le):U=le,D){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=U+pe,D={id:h++,callback:O,priorityLevel:D,startTime:U,expirationTime:pe,sortIndex:-1},U>le?(D.sortIndex=U,r(u,D),s(c)===null&&D===s(u)&&(N?(p(R),R=-1):N=!0,Ca(g,U-le))):(D.sortIndex=pe,r(c,D),b||j||(b=!0,he(w))),D},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(D){var O=f;return function(){var U=f;f=O;try{return D.apply(this,arguments)}finally{f=U}}}})(id);ad.exports=id;var v0=ad.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0=v,He=v0;function E(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ld=new Set,gs={};function xr(e,r){Fr(e,r),Fr(e+"Capture",r)}function Fr(e,r){for(gs[e]=r,e=0;e<r.length;e++)ld.add(r[e])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ni=Object.prototype.hasOwnProperty,b0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mo={},xo={};function N0(e){return ni.call(xo,e)?!0:ni.call(mo,e)?!1:b0.test(e)?xo[e]=!0:(mo[e]=!0,!1)}function w0(e,r,s,n){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k0(e,r,s,n){if(r===null||typeof r>"u"||w0(e,r,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function De(e,r,s,n,a,i,l){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=r,this.sanitizeURL=i,this.removeEmptyString=l}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){we[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];we[r]=new De(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){we[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){we[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){we[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){we[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){we[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){we[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){we[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var cl=/[\-:]([a-z])/g;function dl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(cl,dl);we[r]=new De(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(cl,dl);we[r]=new De(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(cl,dl);we[r]=new De(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){we[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});we.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){we[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function ul(e,r,s,n){var a=we.hasOwnProperty(r)?we[r]:null;(a!==null?a.type!==0:n||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(k0(r,s,a,n)&&(s=null),n||a===null?N0(r)&&(s===null?e.removeAttribute(r):e.setAttribute(r,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(r=a.attributeName,n=a.attributeNamespace,s===null?e.removeAttribute(r):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?e.setAttributeNS(n,r,s):e.setAttribute(r,s))))}var wt=j0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gs=Symbol.for("react.element"),fr=Symbol.for("react.portal"),gr=Symbol.for("react.fragment"),ml=Symbol.for("react.strict_mode"),ai=Symbol.for("react.profiler"),od=Symbol.for("react.provider"),cd=Symbol.for("react.context"),xl=Symbol.for("react.forward_ref"),ii=Symbol.for("react.suspense"),li=Symbol.for("react.suspense_list"),hl=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),dd=Symbol.for("react.offscreen"),ho=Symbol.iterator;function Qr(e){return e===null||typeof e!="object"?null:(e=ho&&e[ho]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Object.assign,La;function ss(e){if(La===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);La=r&&r[1]||""}return`
`+La+e}var Ra=!1;function Ma(e,r){if(!e||Ra)return"";Ra=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(u){var n=u}Reflect.construct(e,[],r)}else{try{r.call()}catch(u){n=u}e.call(r.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Ra=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?ss(e):""}function _0(e){switch(e.tag){case 5:return ss(e.type);case 16:return ss("Lazy");case 13:return ss("Suspense");case 19:return ss("SuspenseList");case 0:case 2:case 15:return e=Ma(e.type,!1),e;case 11:return e=Ma(e.type.render,!1),e;case 1:return e=Ma(e.type,!0),e;default:return""}}function oi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gr:return"Fragment";case fr:return"Portal";case ai:return"Profiler";case ml:return"StrictMode";case ii:return"Suspense";case li:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cd:return(e.displayName||"Context")+".Consumer";case od:return(e._context.displayName||"Context")+".Provider";case xl:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hl:return r=e.displayName||null,r!==null?r:oi(e.type)||"Memo";case Ct:r=e._payload,e=e._init;try{return oi(e(r))}catch{}}return null}function C0(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oi(r);case 8:return r===ml?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ut(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ud(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function S0(e){var r=ud(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),n=""+e[r];if(!e.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,i=s.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,r,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Qs(e){e._valueTracker||(e._valueTracker=S0(e))}function md(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),n="";return e&&(n=ud(e)?e.checked?"true":"false":e.value),e=n,e!==s?(r.setValue(e),!0):!1}function _n(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ci(e,r){var s=r.checked;return ae({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function po(e,r){var s=r.defaultValue==null?"":r.defaultValue,n=r.checked!=null?r.checked:r.defaultChecked;s=Ut(r.value!=null?r.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function xd(e,r){r=r.checked,r!=null&&ul(e,"checked",r,!1)}function di(e,r){xd(e,r);var s=Ut(r.value),n=r.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?ui(e,r.type,s):r.hasOwnProperty("defaultValue")&&ui(e,r.type,Ut(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function fo(e,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var n=r.type;if(!(n!=="submit"&&n!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,s||r===e.value||(e.value=r),e.defaultValue=r}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function ui(e,r,s){(r!=="number"||_n(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var ns=Array.isArray;function Er(e,r,s,n){if(e=e.options,r){r={};for(var a=0;a<s.length;a++)r["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=r.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Ut(s),r=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}r!==null||e[a].disabled||(r=e[a])}r!==null&&(r.selected=!0)}}function mi(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(E(91));return ae({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function go(e,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(E(92));if(ns(s)){if(1<s.length)throw Error(E(93));s=s[0]}r=s}r==null&&(r=""),s=r}e._wrapperState={initialValue:Ut(s)}}function hd(e,r){var s=Ut(r.value),n=Ut(r.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),r.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function yo(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function pd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xi(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?pd(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ks,fd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(r,s,n,a)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Ks=Ks||document.createElement("div"),Ks.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Ks.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function ys(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E0=["Webkit","ms","Moz","O"];Object.keys(os).forEach(function(e){E0.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),os[r]=os[e]})});function gd(e,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||os.hasOwnProperty(e)&&os[e]?(""+r).trim():r+"px"}function yd(e,r){e=e.style;for(var s in r)if(r.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=gd(s,r[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}var L0=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hi(e,r){if(r){if(L0[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(E(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(E(61))}if(r.style!=null&&typeof r.style!="object")throw Error(E(62))}}function pi(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fi=null;function pl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gi=null,Lr=null,Rr=null;function vo(e){if(e=Os(e)){if(typeof gi!="function")throw Error(E(280));var r=e.stateNode;r&&(r=ia(r),gi(e.stateNode,e.type,r))}}function vd(e){Lr?Rr?Rr.push(e):Rr=[e]:Lr=e}function jd(){if(Lr){var e=Lr,r=Rr;if(Rr=Lr=null,vo(e),r)for(e=0;e<r.length;e++)vo(r[e])}}function bd(e,r){return e(r)}function Nd(){}var Pa=!1;function wd(e,r,s){if(Pa)return e(r,s);Pa=!0;try{return bd(e,r,s)}finally{Pa=!1,(Lr!==null||Rr!==null)&&(Nd(),jd())}}function vs(e,r){var s=e.stateNode;if(s===null)return null;var n=ia(s);if(n===null)return null;s=n[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(E(231,r,typeof s));return s}var yi=!1;if(vt)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){yi=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{yi=!1}function R0(e,r,s,n,a,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{r.apply(s,u)}catch(h){this.onError(h)}}var cs=!1,Cn=null,Sn=!1,vi=null,M0={onError:function(e){cs=!0,Cn=e}};function P0(e,r,s,n,a,i,l,o,c){cs=!1,Cn=null,R0.apply(M0,arguments)}function D0(e,r,s,n,a,i,l,o,c){if(P0.apply(this,arguments),cs){if(cs){var u=Cn;cs=!1,Cn=null}else throw Error(E(198));Sn||(Sn=!0,vi=u)}}function hr(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function kd(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function jo(e){if(hr(e)!==e)throw Error(E(188))}function F0(e){var r=e.alternate;if(!r){if(r=hr(e),r===null)throw Error(E(188));return r!==e?null:e}for(var s=e,n=r;;){var a=s.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return jo(a),e;if(i===n)return jo(a),r;i=i.sibling}throw Error(E(188))}if(s.return!==n.return)s=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===s){l=!0,s=a,n=i;break}if(o===n){l=!0,n=a,s=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===s){l=!0,s=i,n=a;break}if(o===n){l=!0,n=i,s=a;break}o=o.sibling}if(!l)throw Error(E(189))}}if(s.alternate!==n)throw Error(E(190))}if(s.tag!==3)throw Error(E(188));return s.stateNode.current===s?e:r}function _d(e){return e=F0(e),e!==null?Cd(e):null}function Cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=Cd(e);if(r!==null)return r;e=e.sibling}return null}var Sd=He.unstable_scheduleCallback,bo=He.unstable_cancelCallback,z0=He.unstable_shouldYield,T0=He.unstable_requestPaint,oe=He.unstable_now,A0=He.unstable_getCurrentPriorityLevel,fl=He.unstable_ImmediatePriority,Ed=He.unstable_UserBlockingPriority,En=He.unstable_NormalPriority,$0=He.unstable_LowPriority,Ld=He.unstable_IdlePriority,ra=null,ut=null;function B0(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(ra,e,void 0,(e.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:V0,O0=Math.log,I0=Math.LN2;function V0(e){return e>>>=0,e===0?32:31-(O0(e)/I0|0)|0}var Js=64,Ys=4194304;function as(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ln(e,r){var s=e.pendingLanes;if(s===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=s&268435455;if(l!==0){var o=l&~a;o!==0?n=as(o):(i&=l,i!==0&&(n=as(i)))}else l=s&~a,l!==0?n=as(l):i!==0&&(n=as(i));if(n===0)return 0;if(r!==0&&r!==n&&!(r&a)&&(a=n&-n,i=r&-r,a>=i||a===16&&(i&4194240)!==0))return r;if(n&4&&(n|=s&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=n;0<r;)s=31-st(r),a=1<<s,n|=e[s],r&=~a;return n}function U0(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H0(e,r){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-st(i),o=1<<l,c=a[l];c===-1?(!(o&s)||o&n)&&(a[l]=U0(o,r)):c<=r&&(e.expiredLanes|=o),i&=~o}}function ji(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rd(){var e=Js;return Js<<=1,!(Js&4194240)&&(Js=64),e}function Da(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function $s(e,r,s){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-st(r),e[r]=s}function W0(e,r){var s=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-st(s),i=1<<a;r[a]=0,n[a]=-1,e[a]=-1,s&=~i}}function gl(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var n=31-st(s),a=1<<n;a&r|e[n]&r&&(e[n]|=r),s&=~a}}var K=0;function Md(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pd,yl,Dd,Fd,zd,bi=!1,Xs=[],Ft=null,zt=null,Tt=null,js=new Map,bs=new Map,Et=[],q0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function No(e,r){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":js.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(r.pointerId)}}function Jr(e,r,s,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:r,domEventName:s,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},r!==null&&(r=Os(r),r!==null&&yl(r)),e):(e.eventSystemFlags|=n,r=e.targetContainers,a!==null&&r.indexOf(a)===-1&&r.push(a),e)}function G0(e,r,s,n,a){switch(r){case"focusin":return Ft=Jr(Ft,e,r,s,n,a),!0;case"dragenter":return zt=Jr(zt,e,r,s,n,a),!0;case"mouseover":return Tt=Jr(Tt,e,r,s,n,a),!0;case"pointerover":var i=a.pointerId;return js.set(i,Jr(js.get(i)||null,e,r,s,n,a)),!0;case"gotpointercapture":return i=a.pointerId,bs.set(i,Jr(bs.get(i)||null,e,r,s,n,a)),!0}return!1}function Td(e){var r=er(e.target);if(r!==null){var s=hr(r);if(s!==null){if(r=s.tag,r===13){if(r=kd(s),r!==null){e.blockedOn=r,zd(e.priority,function(){Dd(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mn(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=Ni(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);fi=n,s.target.dispatchEvent(n),fi=null}else return r=Os(s),r!==null&&yl(r),e.blockedOn=s,!1;r.shift()}return!0}function wo(e,r,s){mn(e)&&s.delete(r)}function Q0(){bi=!1,Ft!==null&&mn(Ft)&&(Ft=null),zt!==null&&mn(zt)&&(zt=null),Tt!==null&&mn(Tt)&&(Tt=null),js.forEach(wo),bs.forEach(wo)}function Yr(e,r){e.blockedOn===r&&(e.blockedOn=null,bi||(bi=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,Q0)))}function Ns(e){function r(a){return Yr(a,e)}if(0<Xs.length){Yr(Xs[0],e);for(var s=1;s<Xs.length;s++){var n=Xs[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Ft!==null&&Yr(Ft,e),zt!==null&&Yr(zt,e),Tt!==null&&Yr(Tt,e),js.forEach(r),bs.forEach(r),s=0;s<Et.length;s++)n=Et[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Et.length&&(s=Et[0],s.blockedOn===null);)Td(s),s.blockedOn===null&&Et.shift()}var Mr=wt.ReactCurrentBatchConfig,Rn=!0;function K0(e,r,s,n){var a=K,i=Mr.transition;Mr.transition=null;try{K=1,vl(e,r,s,n)}finally{K=a,Mr.transition=i}}function J0(e,r,s,n){var a=K,i=Mr.transition;Mr.transition=null;try{K=4,vl(e,r,s,n)}finally{K=a,Mr.transition=i}}function vl(e,r,s,n){if(Rn){var a=Ni(e,r,s,n);if(a===null)Ua(e,r,n,Mn,s),No(e,n);else if(G0(a,e,r,s,n))n.stopPropagation();else if(No(e,n),r&4&&-1<q0.indexOf(e)){for(;a!==null;){var i=Os(a);if(i!==null&&Pd(i),i=Ni(e,r,s,n),i===null&&Ua(e,r,n,Mn,s),i===a)break;a=i}a!==null&&n.stopPropagation()}else Ua(e,r,n,null,s)}}var Mn=null;function Ni(e,r,s,n){if(Mn=null,e=pl(n),e=er(e),e!==null)if(r=hr(e),r===null)e=null;else if(s=r.tag,s===13){if(e=kd(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Mn=e,null}function Ad(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A0()){case fl:return 1;case Ed:return 4;case En:case $0:return 16;case Ld:return 536870912;default:return 16}default:return 16}}var Mt=null,jl=null,xn=null;function $d(){if(xn)return xn;var e,r=jl,s=r.length,n,a="value"in Mt?Mt.value:Mt.textContent,i=a.length;for(e=0;e<s&&r[e]===a[e];e++);var l=s-e;for(n=1;n<=l&&r[s-n]===a[i-n];n++);return xn=a.slice(e,1<n?1-n:void 0)}function hn(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Zs(){return!0}function ko(){return!1}function qe(e){function r(s,n,a,i,l){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zs:ko,this.isPropagationStopped=ko,this}return ae(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),r}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=qe(Vr),Bs=ae({},Vr,{view:0,detail:0}),Y0=qe(Bs),Fa,za,Xr,sa=ae({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xr&&(Xr&&e.type==="mousemove"?(Fa=e.screenX-Xr.screenX,za=e.screenY-Xr.screenY):za=Fa=0,Xr=e),Fa)},movementY:function(e){return"movementY"in e?e.movementY:za}}),_o=qe(sa),X0=ae({},sa,{dataTransfer:0}),Z0=qe(X0),ex=ae({},Bs,{relatedTarget:0}),Ta=qe(ex),tx=ae({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),rx=qe(tx),sx=ae({},Vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nx=qe(sx),ax=ae({},Vr,{data:0}),Co=qe(ax),ix={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ox={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cx(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=ox[e])?!!r[e]:!1}function Nl(){return cx}var dx=ae({},Bs,{key:function(e){if(e.key){var r=ix[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=hn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nl,charCode:function(e){return e.type==="keypress"?hn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ux=qe(dx),mx=ae({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=qe(mx),xx=ae({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nl}),hx=qe(xx),px=ae({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fx=qe(px),gx=ae({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yx=qe(gx),vx=[9,13,27,32],wl=vt&&"CompositionEvent"in window,ds=null;vt&&"documentMode"in document&&(ds=document.documentMode);var jx=vt&&"TextEvent"in window&&!ds,Bd=vt&&(!wl||ds&&8<ds&&11>=ds),Eo=" ",Lo=!1;function Od(e,r){switch(e){case"keyup":return vx.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yr=!1;function bx(e,r){switch(e){case"compositionend":return Id(r);case"keypress":return r.which!==32?null:(Lo=!0,Eo);case"textInput":return e=r.data,e===Eo&&Lo?null:e;default:return null}}function Nx(e,r){if(yr)return e==="compositionend"||!wl&&Od(e,r)?(e=$d(),xn=jl=Mt=null,yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Bd&&r.locale!=="ko"?null:r.data;default:return null}}var wx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ro(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!wx[e.type]:r==="textarea"}function Vd(e,r,s,n){vd(n),r=Pn(r,"onChange"),0<r.length&&(s=new bl("onChange","change",null,s,n),e.push({event:s,listeners:r}))}var us=null,ws=null;function kx(e){Zd(e,0)}function na(e){var r=br(e);if(md(r))return e}function _x(e,r){if(e==="change")return r}var Ud=!1;if(vt){var Aa;if(vt){var $a="oninput"in document;if(!$a){var Mo=document.createElement("div");Mo.setAttribute("oninput","return;"),$a=typeof Mo.oninput=="function"}Aa=$a}else Aa=!1;Ud=Aa&&(!document.documentMode||9<document.documentMode)}function Po(){us&&(us.detachEvent("onpropertychange",Hd),ws=us=null)}function Hd(e){if(e.propertyName==="value"&&na(ws)){var r=[];Vd(r,ws,e,pl(e)),wd(kx,r)}}function Cx(e,r,s){e==="focusin"?(Po(),us=r,ws=s,us.attachEvent("onpropertychange",Hd)):e==="focusout"&&Po()}function Sx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return na(ws)}function Ex(e,r){if(e==="click")return na(r)}function Lx(e,r){if(e==="input"||e==="change")return na(r)}function Rx(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var at=typeof Object.is=="function"?Object.is:Rx;function ks(e,r){if(at(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),n=Object.keys(r);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!ni.call(r,a)||!at(e[a],r[a]))return!1}return!0}function Do(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fo(e,r){var s=Do(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=r&&n>=r)return{node:s,offset:r-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Do(s)}}function Wd(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Wd(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function qd(){for(var e=window,r=_n();r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=_n(e.document)}return r}function kl(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function Mx(e){var r=qd(),s=e.focusedElem,n=e.selectionRange;if(r!==s&&s&&s.ownerDocument&&Wd(s.ownerDocument.documentElement,s)){if(n!==null&&kl(s)){if(r=n.start,e=n.end,e===void 0&&(e=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(e,s.value.length);else if(e=(r=s.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Fo(s,i);var l=Fo(s,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(r=r.createRange(),r.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(r),e.extend(l.node,l.offset)):(r.setEnd(l.node,l.offset),e.addRange(r)))}}for(r=[],e=s;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)e=r[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Px=vt&&"documentMode"in document&&11>=document.documentMode,vr=null,wi=null,ms=null,ki=!1;function zo(e,r,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ki||vr==null||vr!==_n(n)||(n=vr,"selectionStart"in n&&kl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ms&&ks(ms,n)||(ms=n,n=Pn(wi,"onSelect"),0<n.length&&(r=new bl("onSelect","select",null,r,s),e.push({event:r,listeners:n}),r.target=vr)))}function en(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var jr={animationend:en("Animation","AnimationEnd"),animationiteration:en("Animation","AnimationIteration"),animationstart:en("Animation","AnimationStart"),transitionend:en("Transition","TransitionEnd")},Ba={},Gd={};vt&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function aa(e){if(Ba[e])return Ba[e];if(!jr[e])return e;var r=jr[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in Gd)return Ba[e]=r[s];return e}var Qd=aa("animationend"),Kd=aa("animationiteration"),Jd=aa("animationstart"),Yd=aa("transitionend"),Xd=new Map,To="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wt(e,r){Xd.set(e,r),xr(r,[e])}for(var Oa=0;Oa<To.length;Oa++){var Ia=To[Oa],Dx=Ia.toLowerCase(),Fx=Ia[0].toUpperCase()+Ia.slice(1);Wt(Dx,"on"+Fx)}Wt(Qd,"onAnimationEnd");Wt(Kd,"onAnimationIteration");Wt(Jd,"onAnimationStart");Wt("dblclick","onDoubleClick");Wt("focusin","onFocus");Wt("focusout","onBlur");Wt(Yd,"onTransitionEnd");Fr("onMouseEnter",["mouseout","mouseover"]);Fr("onMouseLeave",["mouseout","mouseover"]);Fr("onPointerEnter",["pointerout","pointerover"]);Fr("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zx=new Set("cancel close invalid load scroll toggle".split(" ").concat(is));function Ao(e,r,s){var n=e.type||"unknown-event";e.currentTarget=s,D0(n,r,void 0,e),e.currentTarget=null}function Zd(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var i=void 0;if(r)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Ao(a,o,u),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Ao(a,o,u),i=c}}}if(Sn)throw e=vi,Sn=!1,vi=null,e}function Y(e,r){var s=r[Li];s===void 0&&(s=r[Li]=new Set);var n=e+"__bubble";s.has(n)||(eu(r,e,2,!1),s.add(n))}function Va(e,r,s){var n=0;r&&(n|=4),eu(s,e,n,r)}var tn="_reactListening"+Math.random().toString(36).slice(2);function _s(e){if(!e[tn]){e[tn]=!0,ld.forEach(function(s){s!=="selectionchange"&&(zx.has(s)||Va(s,!1,e),Va(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[tn]||(r[tn]=!0,Va("selectionchange",!1,r))}}function eu(e,r,s,n){switch(Ad(r)){case 1:var a=K0;break;case 4:a=J0;break;default:a=vl}s=a.bind(null,r,s,e),a=void 0,!yi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(r,s,{capture:!0,passive:a}):e.addEventListener(r,s,!0):a!==void 0?e.addEventListener(r,s,{passive:a}):e.addEventListener(r,s,!1)}function Ua(e,r,s,n,a){var i=n;if(!(r&1)&&!(r&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=er(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}wd(function(){var u=i,h=pl(s),x=[];e:{var f=Xd.get(e);if(f!==void 0){var j=bl,b=e;switch(e){case"keypress":if(hn(s)===0)break e;case"keydown":case"keyup":j=ux;break;case"focusin":b="focus",j=Ta;break;case"focusout":b="blur",j=Ta;break;case"beforeblur":case"afterblur":j=Ta;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=_o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Z0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=hx;break;case Qd:case Kd:case Jd:j=rx;break;case Yd:j=fx;break;case"scroll":j=Y0;break;case"wheel":j=yx;break;case"copy":case"cut":case"paste":j=nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=So}var N=(r&4)!==0,y=!N&&e==="scroll",p=N?f!==null?f+"Capture":null:f;N=[];for(var m=u,d;m!==null;){d=m;var g=d.stateNode;if(d.tag===5&&g!==null&&(d=g,p!==null&&(g=vs(m,p),g!=null&&N.push(Cs(m,g,d)))),y)break;m=m.return}0<N.length&&(f=new j(f,b,null,s,h),x.push({event:f,listeners:N}))}}if(!(r&7)){e:{if(f=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",f&&s!==fi&&(b=s.relatedTarget||s.fromElement)&&(er(b)||b[jt]))break e;if((j||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,j?(b=s.relatedTarget||s.toElement,j=u,b=b?er(b):null,b!==null&&(y=hr(b),b!==y||b.tag!==5&&b.tag!==6)&&(b=null)):(j=null,b=u),j!==b)){if(N=_o,g="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(N=So,g="onPointerLeave",p="onPointerEnter",m="pointer"),y=j==null?f:br(j),d=b==null?f:br(b),f=new N(g,m+"leave",j,s,h),f.target=y,f.relatedTarget=d,g=null,er(h)===u&&(N=new N(p,m+"enter",b,s,h),N.target=d,N.relatedTarget=y,g=N),y=g,j&&b)t:{for(N=j,p=b,m=0,d=N;d;d=pr(d))m++;for(d=0,g=p;g;g=pr(g))d++;for(;0<m-d;)N=pr(N),m--;for(;0<d-m;)p=pr(p),d--;for(;m--;){if(N===p||p!==null&&N===p.alternate)break t;N=pr(N),p=pr(p)}N=null}else N=null;j!==null&&$o(x,f,j,N,!1),b!==null&&y!==null&&$o(x,y,b,N,!0)}}e:{if(f=u?br(u):window,j=f.nodeName&&f.nodeName.toLowerCase(),j==="select"||j==="input"&&f.type==="file")var w=_x;else if(Ro(f))if(Ud)w=Lx;else{w=Sx;var k=Cx}else(j=f.nodeName)&&j.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=Ex);if(w&&(w=w(e,u))){Vd(x,w,s,h);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&ui(f,"number",f.value)}switch(k=u?br(u):window,e){case"focusin":(Ro(k)||k.contentEditable==="true")&&(vr=k,wi=u,ms=null);break;case"focusout":ms=wi=vr=null;break;case"mousedown":ki=!0;break;case"contextmenu":case"mouseup":case"dragend":ki=!1,zo(x,s,h);break;case"selectionchange":if(Px)break;case"keydown":case"keyup":zo(x,s,h)}var C;if(wl)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else yr?Od(e,s)&&(R="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(R="onCompositionStart");R&&(Bd&&s.locale!=="ko"&&(yr||R!=="onCompositionStart"?R==="onCompositionEnd"&&yr&&(C=$d()):(Mt=h,jl="value"in Mt?Mt.value:Mt.textContent,yr=!0)),k=Pn(u,R),0<k.length&&(R=new Co(R,e,null,s,h),x.push({event:R,listeners:k}),C?R.data=C:(C=Id(s),C!==null&&(R.data=C)))),(C=jx?bx(e,s):Nx(e,s))&&(u=Pn(u,"onBeforeInput"),0<u.length&&(h=new Co("onBeforeInput","beforeinput",null,s,h),x.push({event:h,listeners:u}),h.data=C))}Zd(x,r)})}function Cs(e,r,s){return{instance:e,listener:r,currentTarget:s}}function Pn(e,r){for(var s=r+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=vs(e,s),i!=null&&n.unshift(Cs(e,i,a)),i=vs(e,r),i!=null&&n.push(Cs(e,i,a))),e=e.return}return n}function pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $o(e,r,s,n,a){for(var i=r._reactName,l=[];s!==null&&s!==n;){var o=s,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=vs(s,i),c!=null&&l.unshift(Cs(s,c,o))):a||(c=vs(s,i),c!=null&&l.push(Cs(s,c,o)))),s=s.return}l.length!==0&&e.push({event:r,listeners:l})}var Tx=/\r\n?/g,Ax=/\u0000|\uFFFD/g;function Bo(e){return(typeof e=="string"?e:""+e).replace(Tx,`
`).replace(Ax,"")}function rn(e,r,s){if(r=Bo(r),Bo(e)!==r&&s)throw Error(E(425))}function Dn(){}var _i=null,Ci=null;function Si(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ei=typeof setTimeout=="function"?setTimeout:void 0,$x=typeof clearTimeout=="function"?clearTimeout:void 0,Oo=typeof Promise=="function"?Promise:void 0,Bx=typeof queueMicrotask=="function"?queueMicrotask:typeof Oo<"u"?function(e){return Oo.resolve(null).then(e).catch(Ox)}:Ei;function Ox(e){setTimeout(function(){throw e})}function Ha(e,r){var s=r,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){e.removeChild(a),Ns(r);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);Ns(r)}function At(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function Io(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return e;r--}else s==="/$"&&r++}e=e.previousSibling}return null}var Ur=Math.random().toString(36).slice(2),dt="__reactFiber$"+Ur,Ss="__reactProps$"+Ur,jt="__reactContainer$"+Ur,Li="__reactEvents$"+Ur,Ix="__reactListeners$"+Ur,Vx="__reactHandles$"+Ur;function er(e){var r=e[dt];if(r)return r;for(var s=e.parentNode;s;){if(r=s[jt]||s[dt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=Io(e);e!==null;){if(s=e[dt])return s;e=Io(e)}return r}e=s,s=e.parentNode}return null}function Os(e){return e=e[dt]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function ia(e){return e[Ss]||null}var Ri=[],Nr=-1;function qt(e){return{current:e}}function Z(e){0>Nr||(e.current=Ri[Nr],Ri[Nr]=null,Nr--)}function J(e,r){Nr++,Ri[Nr]=e.current,e.current=r}var Ht={},Ee=qt(Ht),Te=qt(!1),lr=Ht;function zr(e,r){var s=e.type.contextTypes;if(!s)return Ht;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===r)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in s)a[i]=r[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ae(e){return e=e.childContextTypes,e!=null}function Fn(){Z(Te),Z(Ee)}function Vo(e,r,s){if(Ee.current!==Ht)throw Error(E(168));J(Ee,r),J(Te,s)}function tu(e,r,s){var n=e.stateNode;if(r=r.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in r))throw Error(E(108,C0(e)||"Unknown",a));return ae({},s,n)}function zn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ht,lr=Ee.current,J(Ee,e),J(Te,Te.current),!0}function Uo(e,r,s){var n=e.stateNode;if(!n)throw Error(E(169));s?(e=tu(e,r,lr),n.__reactInternalMemoizedMergedChildContext=e,Z(Te),Z(Ee),J(Ee,e)):Z(Te),J(Te,s)}var pt=null,la=!1,Wa=!1;function ru(e){pt===null?pt=[e]:pt.push(e)}function Ux(e){la=!0,ru(e)}function Gt(){if(!Wa&&pt!==null){Wa=!0;var e=0,r=K;try{var s=pt;for(K=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}pt=null,la=!1}catch(a){throw pt!==null&&(pt=pt.slice(e+1)),Sd(fl,Gt),a}finally{K=r,Wa=!1}}return null}var wr=[],kr=0,Tn=null,An=0,Ge=[],Qe=0,or=null,ft=1,gt="";function Xt(e,r){wr[kr++]=An,wr[kr++]=Tn,Tn=e,An=r}function su(e,r,s){Ge[Qe++]=ft,Ge[Qe++]=gt,Ge[Qe++]=or,or=e;var n=ft;e=gt;var a=32-st(n)-1;n&=~(1<<a),s+=1;var i=32-st(r)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,ft=1<<32-st(r)+a|s<<a|n,gt=i+e}else ft=1<<i|s<<a|n,gt=e}function _l(e){e.return!==null&&(Xt(e,1),su(e,1,0))}function Cl(e){for(;e===Tn;)Tn=wr[--kr],wr[kr]=null,An=wr[--kr],wr[kr]=null;for(;e===or;)or=Ge[--Qe],Ge[Qe]=null,gt=Ge[--Qe],Ge[Qe]=null,ft=Ge[--Qe],Ge[Qe]=null}var Ue=null,Ve=null,ee=!1,rt=null;function nu(e,r){var s=Ke(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=e,r=e.deletions,r===null?(e.deletions=[s],e.flags|=16):r.push(s)}function Ho(e,r){switch(e.tag){case 5:var s=e.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,Ue=e,Ve=At(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,Ue=e,Ve=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=or!==null?{id:ft,overflow:gt}:null,e.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=Ke(18,null,null,0),s.stateNode=r,s.return=e,e.child=s,Ue=e,Ve=null,!0):!1;default:return!1}}function Mi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pi(e){if(ee){var r=Ve;if(r){var s=r;if(!Ho(e,r)){if(Mi(e))throw Error(E(418));r=At(s.nextSibling);var n=Ue;r&&Ho(e,r)?nu(n,s):(e.flags=e.flags&-4097|2,ee=!1,Ue=e)}}else{if(Mi(e))throw Error(E(418));e.flags=e.flags&-4097|2,ee=!1,Ue=e}}}function Wo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ue=e}function sn(e){if(e!==Ue)return!1;if(!ee)return Wo(e),ee=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Si(e.type,e.memoizedProps)),r&&(r=Ve)){if(Mi(e))throw au(),Error(E(418));for(;r;)nu(e,r),r=At(r.nextSibling)}if(Wo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(r===0){Ve=At(e.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}e=e.nextSibling}Ve=null}}else Ve=Ue?At(e.stateNode.nextSibling):null;return!0}function au(){for(var e=Ve;e;)e=At(e.nextSibling)}function Tr(){Ve=Ue=null,ee=!1}function Sl(e){rt===null?rt=[e]:rt.push(e)}var Hx=wt.ReactCurrentBatchConfig;function Zr(e,r,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(E(309));var n=s.stateNode}if(!n)throw Error(E(147,e));var a=n,i=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===i?r.ref:(r=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},r._stringRef=i,r)}if(typeof e!="string")throw Error(E(284));if(!s._owner)throw Error(E(290,e))}return e}function nn(e,r){throw e=Object.prototype.toString.call(r),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function qo(e){var r=e._init;return r(e._payload)}function iu(e){function r(p,m){if(e){var d=p.deletions;d===null?(p.deletions=[m],p.flags|=16):d.push(m)}}function s(p,m){if(!e)return null;for(;m!==null;)r(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function a(p,m){return p=It(p,m),p.index=0,p.sibling=null,p}function i(p,m,d){return p.index=d,e?(d=p.alternate,d!==null?(d=d.index,d<m?(p.flags|=2,m):d):(p.flags|=2,m)):(p.flags|=1048576,m)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,m,d,g){return m===null||m.tag!==6?(m=Xa(d,p.mode,g),m.return=p,m):(m=a(m,d),m.return=p,m)}function c(p,m,d,g){var w=d.type;return w===gr?h(p,m,d.props.children,g,d.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ct&&qo(w)===m.type)?(g=a(m,d.props),g.ref=Zr(p,m,d),g.return=p,g):(g=bn(d.type,d.key,d.props,null,p.mode,g),g.ref=Zr(p,m,d),g.return=p,g)}function u(p,m,d,g){return m===null||m.tag!==4||m.stateNode.containerInfo!==d.containerInfo||m.stateNode.implementation!==d.implementation?(m=Za(d,p.mode,g),m.return=p,m):(m=a(m,d.children||[]),m.return=p,m)}function h(p,m,d,g,w){return m===null||m.tag!==7?(m=ar(d,p.mode,g,w),m.return=p,m):(m=a(m,d),m.return=p,m)}function x(p,m,d){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Xa(""+m,p.mode,d),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Gs:return d=bn(m.type,m.key,m.props,null,p.mode,d),d.ref=Zr(p,null,m),d.return=p,d;case fr:return m=Za(m,p.mode,d),m.return=p,m;case Ct:var g=m._init;return x(p,g(m._payload),d)}if(ns(m)||Qr(m))return m=ar(m,p.mode,d,null),m.return=p,m;nn(p,m)}return null}function f(p,m,d,g){var w=m!==null?m.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return w!==null?null:o(p,m,""+d,g);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Gs:return d.key===w?c(p,m,d,g):null;case fr:return d.key===w?u(p,m,d,g):null;case Ct:return w=d._init,f(p,m,w(d._payload),g)}if(ns(d)||Qr(d))return w!==null?null:h(p,m,d,g,null);nn(p,d)}return null}function j(p,m,d,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return p=p.get(d)||null,o(m,p,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Gs:return p=p.get(g.key===null?d:g.key)||null,c(m,p,g,w);case fr:return p=p.get(g.key===null?d:g.key)||null,u(m,p,g,w);case Ct:var k=g._init;return j(p,m,d,k(g._payload),w)}if(ns(g)||Qr(g))return p=p.get(d)||null,h(m,p,g,w,null);nn(m,g)}return null}function b(p,m,d,g){for(var w=null,k=null,C=m,R=m=0,z=null;C!==null&&R<d.length;R++){C.index>R?(z=C,C=null):z=C.sibling;var P=f(p,C,d[R],g);if(P===null){C===null&&(C=z);break}e&&C&&P.alternate===null&&r(p,C),m=i(P,m,R),k===null?w=P:k.sibling=P,k=P,C=z}if(R===d.length)return s(p,C),ee&&Xt(p,R),w;if(C===null){for(;R<d.length;R++)C=x(p,d[R],g),C!==null&&(m=i(C,m,R),k===null?w=C:k.sibling=C,k=C);return ee&&Xt(p,R),w}for(C=n(p,C);R<d.length;R++)z=j(C,p,R,d[R],g),z!==null&&(e&&z.alternate!==null&&C.delete(z.key===null?R:z.key),m=i(z,m,R),k===null?w=z:k.sibling=z,k=z);return e&&C.forEach(function(I){return r(p,I)}),ee&&Xt(p,R),w}function N(p,m,d,g){var w=Qr(d);if(typeof w!="function")throw Error(E(150));if(d=w.call(d),d==null)throw Error(E(151));for(var k=w=null,C=m,R=m=0,z=null,P=d.next();C!==null&&!P.done;R++,P=d.next()){C.index>R?(z=C,C=null):z=C.sibling;var I=f(p,C,P.value,g);if(I===null){C===null&&(C=z);break}e&&C&&I.alternate===null&&r(p,C),m=i(I,m,R),k===null?w=I:k.sibling=I,k=I,C=z}if(P.done)return s(p,C),ee&&Xt(p,R),w;if(C===null){for(;!P.done;R++,P=d.next())P=x(p,P.value,g),P!==null&&(m=i(P,m,R),k===null?w=P:k.sibling=P,k=P);return ee&&Xt(p,R),w}for(C=n(p,C);!P.done;R++,P=d.next())P=j(C,p,R,P.value,g),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?R:P.key),m=i(P,m,R),k===null?w=P:k.sibling=P,k=P);return e&&C.forEach(function(A){return r(p,A)}),ee&&Xt(p,R),w}function y(p,m,d,g){if(typeof d=="object"&&d!==null&&d.type===gr&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case Gs:e:{for(var w=d.key,k=m;k!==null;){if(k.key===w){if(w=d.type,w===gr){if(k.tag===7){s(p,k.sibling),m=a(k,d.props.children),m.return=p,p=m;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ct&&qo(w)===k.type){s(p,k.sibling),m=a(k,d.props),m.ref=Zr(p,k,d),m.return=p,p=m;break e}s(p,k);break}else r(p,k);k=k.sibling}d.type===gr?(m=ar(d.props.children,p.mode,g,d.key),m.return=p,p=m):(g=bn(d.type,d.key,d.props,null,p.mode,g),g.ref=Zr(p,m,d),g.return=p,p=g)}return l(p);case fr:e:{for(k=d.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===d.containerInfo&&m.stateNode.implementation===d.implementation){s(p,m.sibling),m=a(m,d.children||[]),m.return=p,p=m;break e}else{s(p,m);break}else r(p,m);m=m.sibling}m=Za(d,p.mode,g),m.return=p,p=m}return l(p);case Ct:return k=d._init,y(p,m,k(d._payload),g)}if(ns(d))return b(p,m,d,g);if(Qr(d))return N(p,m,d,g);nn(p,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,m!==null&&m.tag===6?(s(p,m.sibling),m=a(m,d),m.return=p,p=m):(s(p,m),m=Xa(d,p.mode,g),m.return=p,p=m),l(p)):s(p,m)}return y}var Ar=iu(!0),lu=iu(!1),$n=qt(null),Bn=null,_r=null,El=null;function Ll(){El=_r=Bn=null}function Rl(e){var r=$n.current;Z($n),e._currentValue=r}function Di(e,r,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,n!==null&&(n.childLanes|=r)):n!==null&&(n.childLanes&r)!==r&&(n.childLanes|=r),e===s)break;e=e.return}}function Pr(e,r){Bn=e,El=_r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(ze=!0),e.firstContext=null)}function Ye(e){var r=e._currentValue;if(El!==e)if(e={context:e,memoizedValue:r,next:null},_r===null){if(Bn===null)throw Error(E(308));_r=e,Bn.dependencies={lanes:0,firstContext:e}}else _r=_r.next=e;return r}var tr=null;function Ml(e){tr===null?tr=[e]:tr.push(e)}function ou(e,r,s,n){var a=r.interleaved;return a===null?(s.next=s,Ml(r)):(s.next=a.next,a.next=s),r.interleaved=s,bt(e,n)}function bt(e,r){e.lanes|=r;var s=e.alternate;for(s!==null&&(s.lanes|=r),s=e,e=e.return;e!==null;)e.childLanes|=r,s=e.alternate,s!==null&&(s.childLanes|=r),s=e,e=e.return;return s.tag===3?s.stateNode:null}var St=!1;function Pl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cu(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yt(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function $t(e,r,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,q&2){var a=n.pending;return a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r,bt(e,s)}return a=n.interleaved,a===null?(r.next=r,Ml(n)):(r.next=a.next,a.next=r),n.interleaved=r,bt(e,s)}function pn(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var n=r.lanes;n&=e.pendingLanes,s|=n,r.lanes=s,gl(e,s)}}function Go(e,r){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?a=i=l:i=i.next=l,s=s.next}while(s!==null);i===null?a=i=r:i=i.next=r}else a=i=r;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}function On(e,r,s,n){var a=e.updateQueue;St=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==l&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(i!==null){var x=a.baseState;l=0,h=u=c=null,o=i;do{var f=o.lane,j=o.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=e,N=o;switch(f=r,j=s,N.tag){case 1:if(b=N.payload,typeof b=="function"){x=b.call(j,x,f);break e}x=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=N.payload,f=typeof b=="function"?b.call(j,x,f):b,f==null)break e;x=ae({},x,f);break e;case 2:St=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[o]:f.push(o))}else j={eventTime:j,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=j,c=x):h=h.next=j,l|=f;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;f=o,o=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(h===null&&(c=x),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=h,r=a.shared.interleaved,r!==null){a=r;do l|=a.lane,a=a.next;while(a!==r)}else i===null&&(a.shared.lanes=0);dr|=l,e.lanes=l,e.memoizedState=x}}function Qo(e,r,s){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var n=e[r],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(E(191,a));a.call(n)}}}var Is={},mt=qt(Is),Es=qt(Is),Ls=qt(Is);function rr(e){if(e===Is)throw Error(E(174));return e}function Dl(e,r){switch(J(Ls,r),J(Es,e),J(mt,Is),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:xi(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=xi(r,e)}Z(mt),J(mt,r)}function $r(){Z(mt),Z(Es),Z(Ls)}function du(e){rr(Ls.current);var r=rr(mt.current),s=xi(r,e.type);r!==s&&(J(Es,e),J(mt,s))}function Fl(e){Es.current===e&&(Z(mt),Z(Es))}var te=qt(0);function In(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var qa=[];function zl(){for(var e=0;e<qa.length;e++)qa[e]._workInProgressVersionPrimary=null;qa.length=0}var fn=wt.ReactCurrentDispatcher,Ga=wt.ReactCurrentBatchConfig,cr=0,ne=null,me=null,fe=null,Vn=!1,xs=!1,Rs=0,Wx=0;function ke(){throw Error(E(321))}function Tl(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!at(e[s],r[s]))return!1;return!0}function Al(e,r,s,n,a,i){if(cr=i,ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,fn.current=e===null||e.memoizedState===null?Kx:Jx,e=s(n,a),xs){i=0;do{if(xs=!1,Rs=0,25<=i)throw Error(E(301));i+=1,fe=me=null,r.updateQueue=null,fn.current=Yx,e=s(n,a)}while(xs)}if(fn.current=Un,r=me!==null&&me.next!==null,cr=0,fe=me=ne=null,Vn=!1,r)throw Error(E(300));return e}function $l(){var e=Rs!==0;return Rs=0,e}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?ne.memoizedState=fe=e:fe=fe.next=e,fe}function Xe(){if(me===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var r=fe===null?ne.memoizedState:fe.next;if(r!==null)fe=r,me=e;else{if(e===null)throw Error(E(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},fe===null?ne.memoizedState=fe=e:fe=fe.next=e}return fe}function Ms(e,r){return typeof r=="function"?r(e):r}function Qa(e){var r=Xe(),s=r.queue;if(s===null)throw Error(E(311));s.lastRenderedReducer=e;var n=me,a=n.baseQueue,i=s.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,s.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,u=i;do{var h=u.lane;if((cr&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var x={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=x,l=n):c=c.next=x,ne.lanes|=h,dr|=h}u=u.next}while(u!==null&&u!==i);c===null?l=n:c.next=o,at(n,r.memoizedState)||(ze=!0),r.memoizedState=n,r.baseState=l,r.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){a=e;do i=a.lane,ne.lanes|=i,dr|=i,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function Ka(e){var r=Xe(),s=r.queue;if(s===null)throw Error(E(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,i=r.memoizedState;if(a!==null){s.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);at(i,r.memoizedState)||(ze=!0),r.memoizedState=i,r.baseQueue===null&&(r.baseState=i),s.lastRenderedState=i}return[i,n]}function uu(){}function mu(e,r){var s=ne,n=Xe(),a=r(),i=!at(n.memoizedState,a);if(i&&(n.memoizedState=a,ze=!0),n=n.queue,Bl(pu.bind(null,s,n,e),[e]),n.getSnapshot!==r||i||fe!==null&&fe.memoizedState.tag&1){if(s.flags|=2048,Ps(9,hu.bind(null,s,n,a,r),void 0,null),ye===null)throw Error(E(349));cr&30||xu(s,r,a)}return a}function xu(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=ne.updateQueue,r===null?(r={lastEffect:null,stores:null},ne.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function hu(e,r,s,n){r.value=s,r.getSnapshot=n,fu(r)&&gu(e)}function pu(e,r,s){return s(function(){fu(r)&&gu(e)})}function fu(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!at(e,s)}catch{return!0}}function gu(e){var r=bt(e,1);r!==null&&nt(r,e,1,-1)}function Ko(e){var r=ct();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:e},r.queue=e,e=e.dispatch=Qx.bind(null,ne,e),[r.memoizedState,e]}function Ps(e,r,s,n){return e={tag:e,create:r,destroy:s,deps:n,next:null},r=ne.updateQueue,r===null?(r={lastEffect:null,stores:null},ne.updateQueue=r,r.lastEffect=e.next=e):(s=r.lastEffect,s===null?r.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,r.lastEffect=e)),e}function yu(){return Xe().memoizedState}function gn(e,r,s,n){var a=ct();ne.flags|=e,a.memoizedState=Ps(1|r,s,void 0,n===void 0?null:n)}function oa(e,r,s,n){var a=Xe();n=n===void 0?null:n;var i=void 0;if(me!==null){var l=me.memoizedState;if(i=l.destroy,n!==null&&Tl(n,l.deps)){a.memoizedState=Ps(r,s,i,n);return}}ne.flags|=e,a.memoizedState=Ps(1|r,s,i,n)}function Jo(e,r){return gn(8390656,8,e,r)}function Bl(e,r){return oa(2048,8,e,r)}function vu(e,r){return oa(4,2,e,r)}function ju(e,r){return oa(4,4,e,r)}function bu(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Nu(e,r,s){return s=s!=null?s.concat([e]):null,oa(4,4,bu.bind(null,r,e),s)}function Ol(){}function wu(e,r){var s=Xe();r=r===void 0?null:r;var n=s.memoizedState;return n!==null&&r!==null&&Tl(r,n[1])?n[0]:(s.memoizedState=[e,r],e)}function ku(e,r){var s=Xe();r=r===void 0?null:r;var n=s.memoizedState;return n!==null&&r!==null&&Tl(r,n[1])?n[0]:(e=e(),s.memoizedState=[e,r],e)}function _u(e,r,s){return cr&21?(at(s,r)||(s=Rd(),ne.lanes|=s,dr|=s,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=s)}function qx(e,r){var s=K;K=s!==0&&4>s?s:4,e(!0);var n=Ga.transition;Ga.transition={};try{e(!1),r()}finally{K=s,Ga.transition=n}}function Cu(){return Xe().memoizedState}function Gx(e,r,s){var n=Ot(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},Su(e))Eu(r,s);else if(s=ou(e,r,s,n),s!==null){var a=Me();nt(s,e,n,a),Lu(s,r,n)}}function Qx(e,r,s){var n=Ot(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(Su(e))Eu(r,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=r.lastRenderedReducer,i!==null))try{var l=r.lastRenderedState,o=i(l,s);if(a.hasEagerState=!0,a.eagerState=o,at(o,l)){var c=r.interleaved;c===null?(a.next=a,Ml(r)):(a.next=c.next,c.next=a),r.interleaved=a;return}}catch{}finally{}s=ou(e,r,a,n),s!==null&&(a=Me(),nt(s,e,n,a),Lu(s,r,n))}}function Su(e){var r=e.alternate;return e===ne||r!==null&&r===ne}function Eu(e,r){xs=Vn=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function Lu(e,r,s){if(s&4194240){var n=r.lanes;n&=e.pendingLanes,s|=n,r.lanes=s,gl(e,s)}}var Un={readContext:Ye,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},Kx={readContext:Ye,useCallback:function(e,r){return ct().memoizedState=[e,r===void 0?null:r],e},useContext:Ye,useEffect:Jo,useImperativeHandle:function(e,r,s){return s=s!=null?s.concat([e]):null,gn(4194308,4,bu.bind(null,r,e),s)},useLayoutEffect:function(e,r){return gn(4194308,4,e,r)},useInsertionEffect:function(e,r){return gn(4,2,e,r)},useMemo:function(e,r){var s=ct();return r=r===void 0?null:r,e=e(),s.memoizedState=[e,r],e},useReducer:function(e,r,s){var n=ct();return r=s!==void 0?s(r):r,n.memoizedState=n.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=Gx.bind(null,ne,e),[n.memoizedState,e]},useRef:function(e){var r=ct();return e={current:e},r.memoizedState=e},useState:Ko,useDebugValue:Ol,useDeferredValue:function(e){return ct().memoizedState=e},useTransition:function(){var e=Ko(!1),r=e[0];return e=qx.bind(null,e[1]),ct().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,s){var n=ne,a=ct();if(ee){if(s===void 0)throw Error(E(407));s=s()}else{if(s=r(),ye===null)throw Error(E(349));cr&30||xu(n,r,s)}a.memoizedState=s;var i={value:s,getSnapshot:r};return a.queue=i,Jo(pu.bind(null,n,i,e),[e]),n.flags|=2048,Ps(9,hu.bind(null,n,i,s,r),void 0,null),s},useId:function(){var e=ct(),r=ye.identifierPrefix;if(ee){var s=gt,n=ft;s=(n&~(1<<32-st(n)-1)).toString(32)+s,r=":"+r+"R"+s,s=Rs++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=Wx++,r=":"+r+"r"+s.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Jx={readContext:Ye,useCallback:wu,useContext:Ye,useEffect:Bl,useImperativeHandle:Nu,useInsertionEffect:vu,useLayoutEffect:ju,useMemo:ku,useReducer:Qa,useRef:yu,useState:function(){return Qa(Ms)},useDebugValue:Ol,useDeferredValue:function(e){var r=Xe();return _u(r,me.memoizedState,e)},useTransition:function(){var e=Qa(Ms)[0],r=Xe().memoizedState;return[e,r]},useMutableSource:uu,useSyncExternalStore:mu,useId:Cu,unstable_isNewReconciler:!1},Yx={readContext:Ye,useCallback:wu,useContext:Ye,useEffect:Bl,useImperativeHandle:Nu,useInsertionEffect:vu,useLayoutEffect:ju,useMemo:ku,useReducer:Ka,useRef:yu,useState:function(){return Ka(Ms)},useDebugValue:Ol,useDeferredValue:function(e){var r=Xe();return me===null?r.memoizedState=e:_u(r,me.memoizedState,e)},useTransition:function(){var e=Ka(Ms)[0],r=Xe().memoizedState;return[e,r]},useMutableSource:uu,useSyncExternalStore:mu,useId:Cu,unstable_isNewReconciler:!1};function et(e,r){if(e&&e.defaultProps){r=ae({},r),e=e.defaultProps;for(var s in e)r[s]===void 0&&(r[s]=e[s]);return r}return r}function Fi(e,r,s,n){r=e.memoizedState,s=s(n,r),s=s==null?r:ae({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var ca={isMounted:function(e){return(e=e._reactInternals)?hr(e)===e:!1},enqueueSetState:function(e,r,s){e=e._reactInternals;var n=Me(),a=Ot(e),i=yt(n,a);i.payload=r,s!=null&&(i.callback=s),r=$t(e,i,a),r!==null&&(nt(r,e,a,n),pn(r,e,a))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var n=Me(),a=Ot(e),i=yt(n,a);i.tag=1,i.payload=r,s!=null&&(i.callback=s),r=$t(e,i,a),r!==null&&(nt(r,e,a,n),pn(r,e,a))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=Me(),n=Ot(e),a=yt(s,n);a.tag=2,r!=null&&(a.callback=r),r=$t(e,a,n),r!==null&&(nt(r,e,n,s),pn(r,e,n))}};function Yo(e,r,s,n,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):r.prototype&&r.prototype.isPureReactComponent?!ks(s,n)||!ks(a,i):!0}function Ru(e,r,s){var n=!1,a=Ht,i=r.contextType;return typeof i=="object"&&i!==null?i=Ye(i):(a=Ae(r)?lr:Ee.current,n=r.contextTypes,i=(n=n!=null)?zr(e,a):Ht),r=new r(s,i),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ca,e.stateNode=r,r._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),r}function Xo(e,r,s,n){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,n),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,n),r.state!==e&&ca.enqueueReplaceState(r,r.state,null)}function zi(e,r,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Pl(e);var i=r.contextType;typeof i=="object"&&i!==null?a.context=Ye(i):(i=Ae(r)?lr:Ee.current,a.context=zr(e,i)),a.state=e.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(Fi(e,r,i,s),a.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&ca.enqueueReplaceState(a,a.state,null),On(e,s,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Br(e,r){try{var s="",n=r;do s+=_0(n),n=n.return;while(n);var a=s}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:r,stack:a,digest:null}}function Ja(e,r,s){return{value:e,source:null,stack:s??null,digest:r??null}}function Ti(e,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var Xx=typeof WeakMap=="function"?WeakMap:Map;function Mu(e,r,s){s=yt(-1,s),s.tag=3,s.payload={element:null};var n=r.value;return s.callback=function(){Wn||(Wn=!0,qi=n),Ti(e,r)},s}function Pu(e,r,s){s=yt(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=r.value;s.payload=function(){return n(a)},s.callback=function(){Ti(e,r)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){Ti(e,r),typeof n!="function"&&(Bt===null?Bt=new Set([this]):Bt.add(this));var l=r.stack;this.componentDidCatch(r.value,{componentStack:l!==null?l:""})}),s}function Zo(e,r,s){var n=e.pingCache;if(n===null){n=e.pingCache=new Xx;var a=new Set;n.set(r,a)}else a=n.get(r),a===void 0&&(a=new Set,n.set(r,a));a.has(s)||(a.add(s),e=mh.bind(null,e,r,s),r.then(e,e))}function ec(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function tc(e,r,s,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===r?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=yt(-1,1),r.tag=2,$t(s,r,1))),s.lanes|=1),e)}var Zx=wt.ReactCurrentOwner,ze=!1;function Re(e,r,s,n){r.child=e===null?lu(r,null,s,n):Ar(r,e.child,s,n)}function rc(e,r,s,n,a){s=s.render;var i=r.ref;return Pr(r,a),n=Al(e,r,s,n,i,a),s=$l(),e!==null&&!ze?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a,Nt(e,r,a)):(ee&&s&&_l(r),r.flags|=1,Re(e,r,n,a),r.child)}function sc(e,r,s,n,a){if(e===null){var i=s.type;return typeof i=="function"&&!Ql(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=i,Du(e,r,i,n,a)):(e=bn(s.type,null,n,r,r.mode,a),e.ref=r.ref,e.return=r,r.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(s=s.compare,s=s!==null?s:ks,s(l,n)&&e.ref===r.ref)return Nt(e,r,a)}return r.flags|=1,e=It(i,n),e.ref=r.ref,e.return=r,r.child=e}function Du(e,r,s,n,a){if(e!==null){var i=e.memoizedProps;if(ks(i,n)&&e.ref===r.ref)if(ze=!1,r.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(ze=!0);else return r.lanes=e.lanes,Nt(e,r,a)}return Ai(e,r,s,n,a)}function Fu(e,r,s){var n=r.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Sr,Ie),Ie|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,J(Sr,Ie),Ie|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:s,J(Sr,Ie),Ie|=n}else i!==null?(n=i.baseLanes|s,r.memoizedState=null):n=s,J(Sr,Ie),Ie|=n;return Re(e,r,a,s),r.child}function zu(e,r){var s=r.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function Ai(e,r,s,n,a){var i=Ae(s)?lr:Ee.current;return i=zr(r,i),Pr(r,a),s=Al(e,r,s,n,i,a),n=$l(),e!==null&&!ze?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a,Nt(e,r,a)):(ee&&n&&_l(r),r.flags|=1,Re(e,r,s,a),r.child)}function nc(e,r,s,n,a){if(Ae(s)){var i=!0;zn(r)}else i=!1;if(Pr(r,a),r.stateNode===null)yn(e,r),Ru(r,s,n),zi(r,s,n,a),n=!0;else if(e===null){var l=r.stateNode,o=r.memoizedProps;l.props=o;var c=l.context,u=s.contextType;typeof u=="object"&&u!==null?u=Ye(u):(u=Ae(s)?lr:Ee.current,u=zr(r,u));var h=s.getDerivedStateFromProps,x=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";x||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Xo(r,l,n,u),St=!1;var f=r.memoizedState;l.state=f,On(r,n,l,a),c=r.memoizedState,o!==n||f!==c||Te.current||St?(typeof h=="function"&&(Fi(r,s,h,n),c=r.memoizedState),(o=St||Yo(r,s,o,n,f,c,u))?(x||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(r.flags|=4194308)):(typeof l.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=n,r.memoizedState=c),l.props=n,l.state=c,l.context=u,n=o):(typeof l.componentDidMount=="function"&&(r.flags|=4194308),n=!1)}else{l=r.stateNode,cu(e,r),o=r.memoizedProps,u=r.type===r.elementType?o:et(r.type,o),l.props=u,x=r.pendingProps,f=l.context,c=s.contextType,typeof c=="object"&&c!==null?c=Ye(c):(c=Ae(s)?lr:Ee.current,c=zr(r,c));var j=s.getDerivedStateFromProps;(h=typeof j=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==x||f!==c)&&Xo(r,l,n,c),St=!1,f=r.memoizedState,l.state=f,On(r,n,l,a);var b=r.memoizedState;o!==x||f!==b||Te.current||St?(typeof j=="function"&&(Fi(r,s,j,n),b=r.memoizedState),(u=St||Yo(r,s,u,n,f,b,c)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,b,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,b,c)),typeof l.componentDidUpdate=="function"&&(r.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(r.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(r.flags|=1024),r.memoizedProps=n,r.memoizedState=b),l.props=n,l.state=b,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(r.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(r.flags|=1024),n=!1)}return $i(e,r,s,n,i,a)}function $i(e,r,s,n,a,i){zu(e,r);var l=(r.flags&128)!==0;if(!n&&!l)return a&&Uo(r,s,!1),Nt(e,r,i);n=r.stateNode,Zx.current=r;var o=l&&typeof s.getDerivedStateFromError!="function"?null:n.render();return r.flags|=1,e!==null&&l?(r.child=Ar(r,e.child,null,i),r.child=Ar(r,null,o,i)):Re(e,r,o,i),r.memoizedState=n.state,a&&Uo(r,s,!0),r.child}function Tu(e){var r=e.stateNode;r.pendingContext?Vo(e,r.pendingContext,r.pendingContext!==r.context):r.context&&Vo(e,r.context,!1),Dl(e,r.containerInfo)}function ac(e,r,s,n,a){return Tr(),Sl(a),r.flags|=256,Re(e,r,s,n),r.child}var Bi={dehydrated:null,treeContext:null,retryLane:0};function Oi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Au(e,r,s){var n=r.pendingProps,a=te.current,i=!1,l=(r.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),J(te,a&1),e===null)return Pi(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(l=n.children,e=n.fallback,i?(n=r.mode,i=r.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ma(l,n,0,null),e=ar(e,n,s,null),i.return=r,e.return=r,i.sibling=e,r.child=i,r.child.memoizedState=Oi(s),r.memoizedState=Bi,e):Il(r,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return eh(e,r,l,n,o,a,s);if(i){i=n.fallback,l=r.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&r.child!==a?(n=r.child,n.childLanes=0,n.pendingProps=c,r.deletions=null):(n=It(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=It(o,i):(i=ar(i,l,s,null),i.flags|=2),i.return=r,n.return=r,n.sibling=i,r.child=n,n=i,i=r.child,l=e.child.memoizedState,l=l===null?Oi(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~s,r.memoizedState=Bi,n}return i=e.child,e=i.sibling,n=It(i,{mode:"visible",children:n.children}),!(r.mode&1)&&(n.lanes=s),n.return=r,n.sibling=null,e!==null&&(s=r.deletions,s===null?(r.deletions=[e],r.flags|=16):s.push(e)),r.child=n,r.memoizedState=null,n}function Il(e,r){return r=ma({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function an(e,r,s,n){return n!==null&&Sl(n),Ar(r,e.child,null,s),e=Il(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function eh(e,r,s,n,a,i,l){if(s)return r.flags&256?(r.flags&=-257,n=Ja(Error(E(422))),an(e,r,l,n)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(i=n.fallback,a=r.mode,n=ma({mode:"visible",children:n.children},a,0,null),i=ar(i,a,l,null),i.flags|=2,n.return=r,i.return=r,n.sibling=i,r.child=n,r.mode&1&&Ar(r,e.child,null,l),r.child.memoizedState=Oi(l),r.memoizedState=Bi,i);if(!(r.mode&1))return an(e,r,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(E(419)),n=Ja(i,n,void 0),an(e,r,l,n)}if(o=(l&e.childLanes)!==0,ze||o){if(n=ye,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,bt(e,a),nt(n,e,a,-1))}return Gl(),n=Ja(Error(E(421))),an(e,r,l,n)}return a.data==="$?"?(r.flags|=128,r.child=e.child,r=xh.bind(null,e),a._reactRetry=r,null):(e=i.treeContext,Ve=At(a.nextSibling),Ue=r,ee=!0,rt=null,e!==null&&(Ge[Qe++]=ft,Ge[Qe++]=gt,Ge[Qe++]=or,ft=e.id,gt=e.overflow,or=r),r=Il(r,n.children),r.flags|=4096,r)}function ic(e,r,s){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r),Di(e.return,r,s)}function Ya(e,r,s,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=s,i.tailMode=a)}function $u(e,r,s){var n=r.pendingProps,a=n.revealOrder,i=n.tail;if(Re(e,r,n.children,s),n=te.current,n&2)n=n&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ic(e,s,r);else if(e.tag===19)ic(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(J(te,n),!(r.mode&1))r.memoizedState=null;else switch(a){case"forwards":for(s=r.child,a=null;s!==null;)e=s.alternate,e!==null&&In(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=r.child,r.child=null):(a=s.sibling,s.sibling=null),Ya(r,!1,a,s,i);break;case"backwards":for(s=null,a=r.child,r.child=null;a!==null;){if(e=a.alternate,e!==null&&In(e)===null){r.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}Ya(r,!0,s,null,i);break;case"together":Ya(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function yn(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function Nt(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),dr|=r.lanes,!(s&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(E(153));if(r.child!==null){for(e=r.child,s=It(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=It(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function th(e,r,s){switch(r.tag){case 3:Tu(r),Tr();break;case 5:du(r);break;case 1:Ae(r.type)&&zn(r);break;case 4:Dl(r,r.stateNode.containerInfo);break;case 10:var n=r.type._context,a=r.memoizedProps.value;J($n,n._currentValue),n._currentValue=a;break;case 13:if(n=r.memoizedState,n!==null)return n.dehydrated!==null?(J(te,te.current&1),r.flags|=128,null):s&r.child.childLanes?Au(e,r,s):(J(te,te.current&1),e=Nt(e,r,s),e!==null?e.sibling:null);J(te,te.current&1);break;case 19:if(n=(s&r.childLanes)!==0,e.flags&128){if(n)return $u(e,r,s);r.flags|=128}if(a=r.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),J(te,te.current),n)break;return null;case 22:case 23:return r.lanes=0,Fu(e,r,s)}return Nt(e,r,s)}var Bu,Ii,Ou,Iu;Bu=function(e,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Ii=function(){};Ou=function(e,r,s,n){var a=e.memoizedProps;if(a!==n){e=r.stateNode,rr(mt.current);var i=null;switch(s){case"input":a=ci(e,a),n=ci(e,n),i=[];break;case"select":a=ae({},a,{value:void 0}),n=ae({},n,{value:void 0}),i=[];break;case"textarea":a=mi(e,a),n=mi(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Dn)}hi(s,n);var l;s=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(i||(i=[]),i.push(u,s)),s=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Y("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}s&&(i=i||[]).push("style",s);var u=i;(r.updateQueue=u)&&(r.flags|=4)}};Iu=function(e,r,s,n){s!==n&&(r.flags|=4)};function es(e,r){if(!ee)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function _e(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(r)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,r}function rh(e,r,s){var n=r.pendingProps;switch(Cl(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(r),null;case 1:return Ae(r.type)&&Fn(),_e(r),null;case 3:return n=r.stateNode,$r(),Z(Te),Z(Ee),zl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sn(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,rt!==null&&(Ki(rt),rt=null))),Ii(e,r),_e(r),null;case 5:Fl(r);var a=rr(Ls.current);if(s=r.type,e!==null&&r.stateNode!=null)Ou(e,r,s,n,a),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!n){if(r.stateNode===null)throw Error(E(166));return _e(r),null}if(e=rr(mt.current),sn(r)){n=r.stateNode,s=r.type;var i=r.memoizedProps;switch(n[dt]=r,n[Ss]=i,e=(r.mode&1)!==0,s){case"dialog":Y("cancel",n),Y("close",n);break;case"iframe":case"object":case"embed":Y("load",n);break;case"video":case"audio":for(a=0;a<is.length;a++)Y(is[a],n);break;case"source":Y("error",n);break;case"img":case"image":case"link":Y("error",n),Y("load",n);break;case"details":Y("toggle",n);break;case"input":po(n,i),Y("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Y("invalid",n);break;case"textarea":go(n,i),Y("invalid",n)}hi(s,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&rn(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&rn(n.textContent,o,e),a=["children",""+o]):gs.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Y("scroll",n)}switch(s){case"input":Qs(n),fo(n,i,!0);break;case"textarea":Qs(n),yo(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Dn)}n=a,r.updateQueue=n,n!==null&&(r.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pd(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(s,{is:n.is}):(e=l.createElement(s),s==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,s),e[dt]=r,e[Ss]=n,Bu(e,r,!1,!1),r.stateNode=e;e:{switch(l=pi(s,n),s){case"dialog":Y("cancel",e),Y("close",e),a=n;break;case"iframe":case"object":case"embed":Y("load",e),a=n;break;case"video":case"audio":for(a=0;a<is.length;a++)Y(is[a],e);a=n;break;case"source":Y("error",e),a=n;break;case"img":case"image":case"link":Y("error",e),Y("load",e),a=n;break;case"details":Y("toggle",e),a=n;break;case"input":po(e,n),a=ci(e,n),Y("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ae({},n,{value:void 0}),Y("invalid",e);break;case"textarea":go(e,n),a=mi(e,n),Y("invalid",e);break;default:a=n}hi(s,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?yd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&fd(e,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&ys(e,c):typeof c=="number"&&ys(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Y("scroll",e):c!=null&&ul(e,i,c,l))}switch(s){case"input":Qs(e),fo(e,n,!1);break;case"textarea":Qs(e),yo(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ut(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Er(e,!!n.multiple,i,!1):n.defaultValue!=null&&Er(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Dn)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return _e(r),null;case 6:if(e&&r.stateNode!=null)Iu(e,r,e.memoizedProps,n);else{if(typeof n!="string"&&r.stateNode===null)throw Error(E(166));if(s=rr(Ls.current),rr(mt.current),sn(r)){if(n=r.stateNode,s=r.memoizedProps,n[dt]=r,(i=n.nodeValue!==s)&&(e=Ue,e!==null))switch(e.tag){case 3:rn(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rn(n.nodeValue,s,(e.mode&1)!==0)}i&&(r.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[dt]=r,r.stateNode=n}return _e(r),null;case 13:if(Z(te),n=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&Ve!==null&&r.mode&1&&!(r.flags&128))au(),Tr(),r.flags|=98560,i=!1;else if(i=sn(r),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[dt]=r}else Tr(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;_e(r),i=!1}else rt!==null&&(Ki(rt),rt=null),i=!0;if(!i)return r.flags&65536?r:null}return r.flags&128?(r.lanes=s,r):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(r.child.flags|=8192,r.mode&1&&(e===null||te.current&1?xe===0&&(xe=3):Gl())),r.updateQueue!==null&&(r.flags|=4),_e(r),null);case 4:return $r(),Ii(e,r),e===null&&_s(r.stateNode.containerInfo),_e(r),null;case 10:return Rl(r.type._context),_e(r),null;case 17:return Ae(r.type)&&Fn(),_e(r),null;case 19:if(Z(te),i=r.memoizedState,i===null)return _e(r),null;if(n=(r.flags&128)!==0,l=i.rendering,l===null)if(n)es(i,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(l=In(e),l!==null){for(r.flags|=128,es(i,!1),n=l.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),r.subtreeFlags=0,n=s,s=r.child;s!==null;)i=s,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return J(te,te.current&1|2),r.child}e=e.sibling}i.tail!==null&&oe()>Or&&(r.flags|=128,n=!0,es(i,!1),r.lanes=4194304)}else{if(!n)if(e=In(l),e!==null){if(r.flags|=128,n=!0,s=e.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),es(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ee)return _e(r),null}else 2*oe()-i.renderingStartTime>Or&&s!==1073741824&&(r.flags|=128,n=!0,es(i,!1),r.lanes=4194304);i.isBackwards?(l.sibling=r.child,r.child=l):(s=i.last,s!==null?s.sibling=l:r.child=l,i.last=l)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=oe(),r.sibling=null,s=te.current,J(te,n?s&1|2:s&1),r):(_e(r),null);case 22:case 23:return ql(),n=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(r.flags|=8192),n&&r.mode&1?Ie&1073741824&&(_e(r),r.subtreeFlags&6&&(r.flags|=8192)):_e(r),null;case 24:return null;case 25:return null}throw Error(E(156,r.tag))}function sh(e,r){switch(Cl(r),r.tag){case 1:return Ae(r.type)&&Fn(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return $r(),Z(Te),Z(Ee),zl(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return Fl(r),null;case 13:if(Z(te),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(E(340));Tr()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Z(te),null;case 4:return $r(),null;case 10:return Rl(r.type._context),null;case 22:case 23:return ql(),null;case 24:return null;default:return null}}var ln=!1,Ce=!1,nh=typeof WeakSet=="function"?WeakSet:Set,M=null;function Cr(e,r){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){ie(e,r,n)}else s.current=null}function Vi(e,r,s){try{s()}catch(n){ie(e,r,n)}}var lc=!1;function ah(e,r){if(_i=Rn,e=qd(),kl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var l=0,o=-1,c=-1,u=0,h=0,x=e,f=null;t:for(;;){for(var j;x!==s||a!==0&&x.nodeType!==3||(o=l+a),x!==i||n!==0&&x.nodeType!==3||(c=l+n),x.nodeType===3&&(l+=x.nodeValue.length),(j=x.firstChild)!==null;)f=x,x=j;for(;;){if(x===e)break t;if(f===s&&++u===a&&(o=l),f===i&&++h===n&&(c=l),(j=x.nextSibling)!==null)break;x=f,f=x.parentNode}x=j}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ci={focusedElem:e,selectionRange:s},Rn=!1,M=r;M!==null;)if(r=M,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,M=e;else for(;M!==null;){r=M;try{var b=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var N=b.memoizedProps,y=b.memoizedState,p=r.stateNode,m=p.getSnapshotBeforeUpdate(r.elementType===r.type?N:et(r.type,N),y);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var d=r.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(g){ie(r,r.return,g)}if(e=r.sibling,e!==null){e.return=r.return,M=e;break}M=r.return}return b=lc,lc=!1,b}function hs(e,r,s){var n=r.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Vi(r,s,i)}a=a.next}while(a!==n)}}function da(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==r)}}function Ui(e){var r=e.ref;if(r!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof r=="function"?r(e):r.current=e}}function Vu(e){var r=e.alternate;r!==null&&(e.alternate=null,Vu(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[dt],delete r[Ss],delete r[Li],delete r[Ix],delete r[Vx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uu(e){return e.tag===5||e.tag===3||e.tag===4}function oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hi(e,r,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(e,r):s.insertBefore(e,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(e,s)):(r=s,r.appendChild(e)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Dn));else if(n!==4&&(e=e.child,e!==null))for(Hi(e,r,s),e=e.sibling;e!==null;)Hi(e,r,s),e=e.sibling}function Wi(e,r,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Wi(e,r,s),e=e.sibling;e!==null;)Wi(e,r,s),e=e.sibling}var be=null,tt=!1;function _t(e,r,s){for(s=s.child;s!==null;)Hu(e,r,s),s=s.sibling}function Hu(e,r,s){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(ra,s)}catch{}switch(s.tag){case 5:Ce||Cr(s,r);case 6:var n=be,a=tt;be=null,_t(e,r,s),be=n,tt=a,be!==null&&(tt?(e=be,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):be.removeChild(s.stateNode));break;case 18:be!==null&&(tt?(e=be,s=s.stateNode,e.nodeType===8?Ha(e.parentNode,s):e.nodeType===1&&Ha(e,s),Ns(e)):Ha(be,s.stateNode));break;case 4:n=be,a=tt,be=s.stateNode.containerInfo,tt=!0,_t(e,r,s),be=n,tt=a;break;case 0:case 11:case 14:case 15:if(!Ce&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Vi(s,r,l),a=a.next}while(a!==n)}_t(e,r,s);break;case 1:if(!Ce&&(Cr(s,r),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(o){ie(s,r,o)}_t(e,r,s);break;case 21:_t(e,r,s);break;case 22:s.mode&1?(Ce=(n=Ce)||s.memoizedState!==null,_t(e,r,s),Ce=n):_t(e,r,s);break;default:_t(e,r,s)}}function cc(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new nh),r.forEach(function(n){var a=hh.bind(null,e,n);s.has(n)||(s.add(n),n.then(a,a))})}}function Ze(e,r){var s=r.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var i=e,l=r,o=l;e:for(;o!==null;){switch(o.tag){case 5:be=o.stateNode,tt=!1;break e;case 3:be=o.stateNode.containerInfo,tt=!0;break e;case 4:be=o.stateNode.containerInfo,tt=!0;break e}o=o.return}if(be===null)throw Error(E(160));Hu(i,l,a),be=null,tt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){ie(a,r,u)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Wu(r,e),r=r.sibling}function Wu(e,r){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ze(r,e),lt(e),n&4){try{hs(3,e,e.return),da(3,e)}catch(N){ie(e,e.return,N)}try{hs(5,e,e.return)}catch(N){ie(e,e.return,N)}}break;case 1:Ze(r,e),lt(e),n&512&&s!==null&&Cr(s,s.return);break;case 5:if(Ze(r,e),lt(e),n&512&&s!==null&&Cr(s,s.return),e.flags&32){var a=e.stateNode;try{ys(a,"")}catch(N){ie(e,e.return,N)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=s!==null?s.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&xd(a,i),pi(o,l);var u=pi(o,i);for(l=0;l<c.length;l+=2){var h=c[l],x=c[l+1];h==="style"?yd(a,x):h==="dangerouslySetInnerHTML"?fd(a,x):h==="children"?ys(a,x):ul(a,h,x,u)}switch(o){case"input":di(a,i);break;case"textarea":hd(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var j=i.value;j!=null?Er(a,!!i.multiple,j,!1):f!==!!i.multiple&&(i.defaultValue!=null?Er(a,!!i.multiple,i.defaultValue,!0):Er(a,!!i.multiple,i.multiple?[]:"",!1))}a[Ss]=i}catch(N){ie(e,e.return,N)}}break;case 6:if(Ze(r,e),lt(e),n&4){if(e.stateNode===null)throw Error(E(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(N){ie(e,e.return,N)}}break;case 3:if(Ze(r,e),lt(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Ns(r.containerInfo)}catch(N){ie(e,e.return,N)}break;case 4:Ze(r,e),lt(e);break;case 13:Ze(r,e),lt(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Hl=oe())),n&4&&cc(e);break;case 22:if(h=s!==null&&s.memoizedState!==null,e.mode&1?(Ce=(u=Ce)||h,Ze(r,e),Ce=u):Ze(r,e),lt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(M=e,h=e.child;h!==null;){for(x=M=h;M!==null;){switch(f=M,j=f.child,f.tag){case 0:case 11:case 14:case 15:hs(4,f,f.return);break;case 1:Cr(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){n=f,s=f.return;try{r=n,b.props=r.memoizedProps,b.state=r.memoizedState,b.componentWillUnmount()}catch(N){ie(n,s,N)}}break;case 5:Cr(f,f.return);break;case 22:if(f.memoizedState!==null){uc(x);continue}}j!==null?(j.return=f,M=j):uc(x)}h=h.sibling}e:for(h=null,x=e;;){if(x.tag===5){if(h===null){h=x;try{a=x.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=x.stateNode,c=x.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=gd("display",l))}catch(N){ie(e,e.return,N)}}}else if(x.tag===6){if(h===null)try{x.stateNode.nodeValue=u?"":x.memoizedProps}catch(N){ie(e,e.return,N)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;h===x&&(h=null),x=x.return}h===x&&(h=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Ze(r,e),lt(e),n&4&&cc(e);break;case 21:break;default:Ze(r,e),lt(e)}}function lt(e){var r=e.flags;if(r&2){try{e:{for(var s=e.return;s!==null;){if(Uu(s)){var n=s;break e}s=s.return}throw Error(E(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ys(a,""),n.flags&=-33);var i=oc(e);Wi(e,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=oc(e);Hi(e,o,l);break;default:throw Error(E(161))}}catch(c){ie(e,e.return,c)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function ih(e,r,s){M=e,qu(e)}function qu(e,r,s){for(var n=(e.mode&1)!==0;M!==null;){var a=M,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||ln;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Ce;o=ln;var u=Ce;if(ln=l,(Ce=c)&&!u)for(M=a;M!==null;)l=M,c=l.child,l.tag===22&&l.memoizedState!==null?mc(a):c!==null?(c.return=l,M=c):mc(a);for(;i!==null;)M=i,qu(i),i=i.sibling;M=a,ln=o,Ce=u}dc(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,M=i):dc(e)}}function dc(e){for(;M!==null;){var r=M;if(r.flags&8772){var s=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Ce||da(5,r);break;case 1:var n=r.stateNode;if(r.flags&4&&!Ce)if(s===null)n.componentDidMount();else{var a=r.elementType===r.type?s.memoizedProps:et(r.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;i!==null&&Qo(r,i,n);break;case 3:var l=r.updateQueue;if(l!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}Qo(r,l,s)}break;case 5:var o=r.stateNode;if(s===null&&r.flags&4){s=o;var c=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var u=r.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var x=h.dehydrated;x!==null&&Ns(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Ce||r.flags&512&&Ui(r)}catch(f){ie(r,r.return,f)}}if(r===e){M=null;break}if(s=r.sibling,s!==null){s.return=r.return,M=s;break}M=r.return}}function uc(e){for(;M!==null;){var r=M;if(r===e){M=null;break}var s=r.sibling;if(s!==null){s.return=r.return,M=s;break}M=r.return}}function mc(e){for(;M!==null;){var r=M;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{da(4,r)}catch(c){ie(r,s,c)}break;case 1:var n=r.stateNode;if(typeof n.componentDidMount=="function"){var a=r.return;try{n.componentDidMount()}catch(c){ie(r,a,c)}}var i=r.return;try{Ui(r)}catch(c){ie(r,i,c)}break;case 5:var l=r.return;try{Ui(r)}catch(c){ie(r,l,c)}}}catch(c){ie(r,r.return,c)}if(r===e){M=null;break}var o=r.sibling;if(o!==null){o.return=r.return,M=o;break}M=r.return}}var lh=Math.ceil,Hn=wt.ReactCurrentDispatcher,Vl=wt.ReactCurrentOwner,Je=wt.ReactCurrentBatchConfig,q=0,ye=null,ue=null,Ne=0,Ie=0,Sr=qt(0),xe=0,Ds=null,dr=0,ua=0,Ul=0,ps=null,Fe=null,Hl=0,Or=1/0,ht=null,Wn=!1,qi=null,Bt=null,on=!1,Pt=null,qn=0,fs=0,Gi=null,vn=-1,jn=0;function Me(){return q&6?oe():vn!==-1?vn:vn=oe()}function Ot(e){return e.mode&1?q&2&&Ne!==0?Ne&-Ne:Hx.transition!==null?(jn===0&&(jn=Rd()),jn):(e=K,e!==0||(e=window.event,e=e===void 0?16:Ad(e.type)),e):1}function nt(e,r,s,n){if(50<fs)throw fs=0,Gi=null,Error(E(185));$s(e,s,n),(!(q&2)||e!==ye)&&(e===ye&&(!(q&2)&&(ua|=s),xe===4&&Lt(e,Ne)),$e(e,n),s===1&&q===0&&!(r.mode&1)&&(Or=oe()+500,la&&Gt()))}function $e(e,r){var s=e.callbackNode;H0(e,r);var n=Ln(e,e===ye?Ne:0);if(n===0)s!==null&&bo(s),e.callbackNode=null,e.callbackPriority=0;else if(r=n&-n,e.callbackPriority!==r){if(s!=null&&bo(s),r===1)e.tag===0?Ux(xc.bind(null,e)):ru(xc.bind(null,e)),Bx(function(){!(q&6)&&Gt()}),s=null;else{switch(Md(n)){case 1:s=fl;break;case 4:s=Ed;break;case 16:s=En;break;case 536870912:s=Ld;break;default:s=En}s=em(s,Gu.bind(null,e))}e.callbackPriority=r,e.callbackNode=s}}function Gu(e,r){if(vn=-1,jn=0,q&6)throw Error(E(327));var s=e.callbackNode;if(Dr()&&e.callbackNode!==s)return null;var n=Ln(e,e===ye?Ne:0);if(n===0)return null;if(n&30||n&e.expiredLanes||r)r=Gn(e,n);else{r=n;var a=q;q|=2;var i=Ku();(ye!==e||Ne!==r)&&(ht=null,Or=oe()+500,nr(e,r));do try{dh();break}catch(o){Qu(e,o)}while(!0);Ll(),Hn.current=i,q=a,ue!==null?r=0:(ye=null,Ne=0,r=xe)}if(r!==0){if(r===2&&(a=ji(e),a!==0&&(n=a,r=Qi(e,a))),r===1)throw s=Ds,nr(e,0),Lt(e,n),$e(e,oe()),s;if(r===6)Lt(e,n);else{if(a=e.current.alternate,!(n&30)&&!oh(a)&&(r=Gn(e,n),r===2&&(i=ji(e),i!==0&&(n=i,r=Qi(e,i))),r===1))throw s=Ds,nr(e,0),Lt(e,n),$e(e,oe()),s;switch(e.finishedWork=a,e.finishedLanes=n,r){case 0:case 1:throw Error(E(345));case 2:Zt(e,Fe,ht);break;case 3:if(Lt(e,n),(n&130023424)===n&&(r=Hl+500-oe(),10<r)){if(Ln(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Me(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ei(Zt.bind(null,e,Fe,ht),r);break}Zt(e,Fe,ht);break;case 4:if(Lt(e,n),(n&4194240)===n)break;for(r=e.eventTimes,a=-1;0<n;){var l=31-st(n);i=1<<l,l=r[l],l>a&&(a=l),n&=~i}if(n=a,n=oe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lh(n/1960))-n,10<n){e.timeoutHandle=Ei(Zt.bind(null,e,Fe,ht),n);break}Zt(e,Fe,ht);break;case 5:Zt(e,Fe,ht);break;default:throw Error(E(329))}}}return $e(e,oe()),e.callbackNode===s?Gu.bind(null,e):null}function Qi(e,r){var s=ps;return e.current.memoizedState.isDehydrated&&(nr(e,r).flags|=256),e=Gn(e,r),e!==2&&(r=Fe,Fe=s,r!==null&&Ki(r)),e}function Ki(e){Fe===null?Fe=e:Fe.push.apply(Fe,e)}function oh(e){for(var r=e;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],i=a.getSnapshot;a=a.value;try{if(!at(i(),a))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Lt(e,r){for(r&=~Ul,r&=~ua,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var s=31-st(r),n=1<<s;e[s]=-1,r&=~n}}function xc(e){if(q&6)throw Error(E(327));Dr();var r=Ln(e,0);if(!(r&1))return $e(e,oe()),null;var s=Gn(e,r);if(e.tag!==0&&s===2){var n=ji(e);n!==0&&(r=n,s=Qi(e,n))}if(s===1)throw s=Ds,nr(e,0),Lt(e,r),$e(e,oe()),s;if(s===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Zt(e,Fe,ht),$e(e,oe()),null}function Wl(e,r){var s=q;q|=1;try{return e(r)}finally{q=s,q===0&&(Or=oe()+500,la&&Gt())}}function ur(e){Pt!==null&&Pt.tag===0&&!(q&6)&&Dr();var r=q;q|=1;var s=Je.transition,n=K;try{if(Je.transition=null,K=1,e)return e()}finally{K=n,Je.transition=s,q=r,!(q&6)&&Gt()}}function ql(){Ie=Sr.current,Z(Sr)}function nr(e,r){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,$x(s)),ue!==null)for(s=ue.return;s!==null;){var n=s;switch(Cl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fn();break;case 3:$r(),Z(Te),Z(Ee),zl();break;case 5:Fl(n);break;case 4:$r();break;case 13:Z(te);break;case 19:Z(te);break;case 10:Rl(n.type._context);break;case 22:case 23:ql()}s=s.return}if(ye=e,ue=e=It(e.current,null),Ne=Ie=r,xe=0,Ds=null,Ul=ua=dr=0,Fe=ps=null,tr!==null){for(r=0;r<tr.length;r++)if(s=tr[r],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,i=s.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}s.pending=n}tr=null}return e}function Qu(e,r){do{var s=ue;try{if(Ll(),fn.current=Un,Vn){for(var n=ne.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Vn=!1}if(cr=0,fe=me=ne=null,xs=!1,Rs=0,Vl.current=null,s===null||s.return===null){xe=1,Ds=r,ue=null;break}e:{var i=e,l=s.return,o=s,c=r;if(r=Ne,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,x=h.tag;if(!(h.mode&1)&&(x===0||x===11||x===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var j=ec(l);if(j!==null){j.flags&=-257,tc(j,l,o,i,r),j.mode&1&&Zo(i,u,r),r=j,c=u;var b=r.updateQueue;if(b===null){var N=new Set;N.add(c),r.updateQueue=N}else b.add(c);break e}else{if(!(r&1)){Zo(i,u,r),Gl();break e}c=Error(E(426))}}else if(ee&&o.mode&1){var y=ec(l);if(y!==null){!(y.flags&65536)&&(y.flags|=256),tc(y,l,o,i,r),Sl(Br(c,o));break e}}i=c=Br(c,o),xe!==4&&(xe=2),ps===null?ps=[i]:ps.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r;var p=Mu(i,c,r);Go(i,p);break e;case 1:o=c;var m=i.type,d=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Bt===null||!Bt.has(d)))){i.flags|=65536,r&=-r,i.lanes|=r;var g=Pu(i,o,r);Go(i,g);break e}}i=i.return}while(i!==null)}Yu(s)}catch(w){r=w,ue===s&&s!==null&&(ue=s=s.return);continue}break}while(!0)}function Ku(){var e=Hn.current;return Hn.current=Un,e===null?Un:e}function Gl(){(xe===0||xe===3||xe===2)&&(xe=4),ye===null||!(dr&268435455)&&!(ua&268435455)||Lt(ye,Ne)}function Gn(e,r){var s=q;q|=2;var n=Ku();(ye!==e||Ne!==r)&&(ht=null,nr(e,r));do try{ch();break}catch(a){Qu(e,a)}while(!0);if(Ll(),q=s,Hn.current=n,ue!==null)throw Error(E(261));return ye=null,Ne=0,xe}function ch(){for(;ue!==null;)Ju(ue)}function dh(){for(;ue!==null&&!z0();)Ju(ue)}function Ju(e){var r=Zu(e.alternate,e,Ie);e.memoizedProps=e.pendingProps,r===null?Yu(e):ue=r,Vl.current=null}function Yu(e){var r=e;do{var s=r.alternate;if(e=r.return,r.flags&32768){if(s=sh(s,r),s!==null){s.flags&=32767,ue=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,ue=null;return}}else if(s=rh(s,r,Ie),s!==null){ue=s;return}if(r=r.sibling,r!==null){ue=r;return}ue=r=e}while(r!==null);xe===0&&(xe=5)}function Zt(e,r,s){var n=K,a=Je.transition;try{Je.transition=null,K=1,uh(e,r,s,n)}finally{Je.transition=a,K=n}return null}function uh(e,r,s,n){do Dr();while(Pt!==null);if(q&6)throw Error(E(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(W0(e,i),e===ye&&(ue=ye=null,Ne=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||on||(on=!0,em(En,function(){return Dr(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=Je.transition,Je.transition=null;var l=K;K=1;var o=q;q|=4,Vl.current=null,ah(e,s),Wu(s,e),Mx(Ci),Rn=!!_i,Ci=_i=null,e.current=s,ih(s),T0(),q=o,K=l,Je.transition=i}else e.current=s;if(on&&(on=!1,Pt=e,qn=a),i=e.pendingLanes,i===0&&(Bt=null),B0(s.stateNode),$e(e,oe()),r!==null)for(n=e.onRecoverableError,s=0;s<r.length;s++)a=r[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(Wn)throw Wn=!1,e=qi,qi=null,e;return qn&1&&e.tag!==0&&Dr(),i=e.pendingLanes,i&1?e===Gi?fs++:(fs=0,Gi=e):fs=0,Gt(),null}function Dr(){if(Pt!==null){var e=Md(qn),r=Je.transition,s=K;try{if(Je.transition=null,K=16>e?16:e,Pt===null)var n=!1;else{if(e=Pt,Pt=null,qn=0,q&6)throw Error(E(331));var a=q;for(q|=4,M=e.current;M!==null;){var i=M,l=i.child;if(M.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(M=u;M!==null;){var h=M;switch(h.tag){case 0:case 11:case 15:hs(8,h,i)}var x=h.child;if(x!==null)x.return=h,M=x;else for(;M!==null;){h=M;var f=h.sibling,j=h.return;if(Vu(h),h===u){M=null;break}if(f!==null){f.return=j,M=f;break}M=j}}}var b=i.alternate;if(b!==null){var N=b.child;if(N!==null){b.child=null;do{var y=N.sibling;N.sibling=null,N=y}while(N!==null)}}M=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,M=l;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hs(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,M=p;break e}M=i.return}}var m=e.current;for(M=m;M!==null;){l=M;var d=l.child;if(l.subtreeFlags&2064&&d!==null)d.return=l,M=d;else e:for(l=m;M!==null;){if(o=M,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:da(9,o)}}catch(w){ie(o,o.return,w)}if(o===l){M=null;break e}var g=o.sibling;if(g!==null){g.return=o.return,M=g;break e}M=o.return}}if(q=a,Gt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(ra,e)}catch{}n=!0}return n}finally{K=s,Je.transition=r}}return!1}function hc(e,r,s){r=Br(s,r),r=Mu(e,r,1),e=$t(e,r,1),r=Me(),e!==null&&($s(e,1,r),$e(e,r))}function ie(e,r,s){if(e.tag===3)hc(e,e,s);else for(;r!==null;){if(r.tag===3){hc(r,e,s);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bt===null||!Bt.has(n))){e=Br(s,e),e=Pu(r,e,1),r=$t(r,e,1),e=Me(),r!==null&&($s(r,1,e),$e(r,e));break}}r=r.return}}function mh(e,r,s){var n=e.pingCache;n!==null&&n.delete(r),r=Me(),e.pingedLanes|=e.suspendedLanes&s,ye===e&&(Ne&s)===s&&(xe===4||xe===3&&(Ne&130023424)===Ne&&500>oe()-Hl?nr(e,0):Ul|=s),$e(e,r)}function Xu(e,r){r===0&&(e.mode&1?(r=Ys,Ys<<=1,!(Ys&130023424)&&(Ys=4194304)):r=1);var s=Me();e=bt(e,r),e!==null&&($s(e,r,s),$e(e,s))}function xh(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),Xu(e,s)}function hh(e,r){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(r),Xu(e,s)}var Zu;Zu=function(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps||Te.current)ze=!0;else{if(!(e.lanes&s)&&!(r.flags&128))return ze=!1,th(e,r,s);ze=!!(e.flags&131072)}else ze=!1,ee&&r.flags&1048576&&su(r,An,r.index);switch(r.lanes=0,r.tag){case 2:var n=r.type;yn(e,r),e=r.pendingProps;var a=zr(r,Ee.current);Pr(r,s),a=Al(null,r,n,e,a,s);var i=$l();return r.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ae(n)?(i=!0,zn(r)):i=!1,r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Pl(r),a.updater=ca,r.stateNode=a,a._reactInternals=r,zi(r,n,e,s),r=$i(null,r,n,!0,i,s)):(r.tag=0,ee&&i&&_l(r),Re(null,r,a,s),r=r.child),r;case 16:n=r.elementType;e:{switch(yn(e,r),e=r.pendingProps,a=n._init,n=a(n._payload),r.type=n,a=r.tag=fh(n),e=et(n,e),a){case 0:r=Ai(null,r,n,e,s);break e;case 1:r=nc(null,r,n,e,s);break e;case 11:r=rc(null,r,n,e,s);break e;case 14:r=sc(null,r,n,et(n.type,e),s);break e}throw Error(E(306,n,""))}return r;case 0:return n=r.type,a=r.pendingProps,a=r.elementType===n?a:et(n,a),Ai(e,r,n,a,s);case 1:return n=r.type,a=r.pendingProps,a=r.elementType===n?a:et(n,a),nc(e,r,n,a,s);case 3:e:{if(Tu(r),e===null)throw Error(E(387));n=r.pendingProps,i=r.memoizedState,a=i.element,cu(e,r),On(r,n,null,s);var l=r.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},r.updateQueue.baseState=i,r.memoizedState=i,r.flags&256){a=Br(Error(E(423)),r),r=ac(e,r,n,s,a);break e}else if(n!==a){a=Br(Error(E(424)),r),r=ac(e,r,n,s,a);break e}else for(Ve=At(r.stateNode.containerInfo.firstChild),Ue=r,ee=!0,rt=null,s=lu(r,null,n,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Tr(),n===a){r=Nt(e,r,s);break e}Re(e,r,n,s)}r=r.child}return r;case 5:return du(r),e===null&&Pi(r),n=r.type,a=r.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,Si(n,a)?l=null:i!==null&&Si(n,i)&&(r.flags|=32),zu(e,r),Re(e,r,l,s),r.child;case 6:return e===null&&Pi(r),null;case 13:return Au(e,r,s);case 4:return Dl(r,r.stateNode.containerInfo),n=r.pendingProps,e===null?r.child=Ar(r,null,n,s):Re(e,r,n,s),r.child;case 11:return n=r.type,a=r.pendingProps,a=r.elementType===n?a:et(n,a),rc(e,r,n,a,s);case 7:return Re(e,r,r.pendingProps,s),r.child;case 8:return Re(e,r,r.pendingProps.children,s),r.child;case 12:return Re(e,r,r.pendingProps.children,s),r.child;case 10:e:{if(n=r.type._context,a=r.pendingProps,i=r.memoizedProps,l=a.value,J($n,n._currentValue),n._currentValue=l,i!==null)if(at(i.value,l)){if(i.children===a.children&&!Te.current){r=Nt(e,r,s);break e}}else for(i=r.child,i!==null&&(i.return=r);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=yt(-1,s&-s),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),Di(i.return,s,r),o.lanes|=s;break}c=c.next}}else if(i.tag===10)l=i.type===r.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(E(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),Di(l,s,r),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===r){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Re(e,r,a.children,s),r=r.child}return r;case 9:return a=r.type,n=r.pendingProps.children,Pr(r,s),a=Ye(a),n=n(a),r.flags|=1,Re(e,r,n,s),r.child;case 14:return n=r.type,a=et(n,r.pendingProps),a=et(n.type,a),sc(e,r,n,a,s);case 15:return Du(e,r,r.type,r.pendingProps,s);case 17:return n=r.type,a=r.pendingProps,a=r.elementType===n?a:et(n,a),yn(e,r),r.tag=1,Ae(n)?(e=!0,zn(r)):e=!1,Pr(r,s),Ru(r,n,a),zi(r,n,a,s),$i(null,r,n,!0,e,s);case 19:return $u(e,r,s);case 22:return Fu(e,r,s)}throw Error(E(156,r.tag))};function em(e,r){return Sd(e,r)}function ph(e,r,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,r,s,n){return new ph(e,r,s,n)}function Ql(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fh(e){if(typeof e=="function")return Ql(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xl)return 11;if(e===hl)return 14}return 2}function It(e,r){var s=e.alternate;return s===null?(s=Ke(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function bn(e,r,s,n,a,i){var l=2;if(n=e,typeof e=="function")Ql(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case gr:return ar(s.children,a,i,r);case ml:l=8,a|=8;break;case ai:return e=Ke(12,s,r,a|2),e.elementType=ai,e.lanes=i,e;case ii:return e=Ke(13,s,r,a),e.elementType=ii,e.lanes=i,e;case li:return e=Ke(19,s,r,a),e.elementType=li,e.lanes=i,e;case dd:return ma(s,a,i,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case od:l=10;break e;case cd:l=9;break e;case xl:l=11;break e;case hl:l=14;break e;case Ct:l=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return r=Ke(l,s,r,a),r.elementType=e,r.type=n,r.lanes=i,r}function ar(e,r,s,n){return e=Ke(7,e,n,r),e.lanes=s,e}function ma(e,r,s,n){return e=Ke(22,e,n,r),e.elementType=dd,e.lanes=s,e.stateNode={isHidden:!1},e}function Xa(e,r,s){return e=Ke(6,e,null,r),e.lanes=s,e}function Za(e,r,s){return r=Ke(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function gh(e,r,s,n,a){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Da(0),this.expirationTimes=Da(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Kl(e,r,s,n,a,i,l,o,c){return e=new gh(e,r,s,o,c),r===1?(r=1,i===!0&&(r|=8)):r=0,i=Ke(3,null,null,r),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pl(i),e}function yh(e,r,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fr,key:n==null?null:""+n,children:e,containerInfo:r,implementation:s}}function tm(e){if(!e)return Ht;e=e._reactInternals;e:{if(hr(e)!==e||e.tag!==1)throw Error(E(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ae(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(E(171))}if(e.tag===1){var s=e.type;if(Ae(s))return tu(e,s,r)}return r}function rm(e,r,s,n,a,i,l,o,c){return e=Kl(s,n,!0,e,a,i,l,o,c),e.context=tm(null),s=e.current,n=Me(),a=Ot(s),i=yt(n,a),i.callback=r??null,$t(s,i,a),e.current.lanes=a,$s(e,a,n),$e(e,n),e}function xa(e,r,s,n){var a=r.current,i=Me(),l=Ot(a);return s=tm(s),r.context===null?r.context=s:r.pendingContext=s,r=yt(i,l),r.payload={element:e},n=n===void 0?null:n,n!==null&&(r.callback=n),e=$t(a,r,l),e!==null&&(nt(e,a,l,i),pn(e,a,l)),l}function Qn(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pc(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function Jl(e,r){pc(e,r),(e=e.alternate)&&pc(e,r)}function vh(){return null}var sm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}ha.prototype.render=Yl.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(E(409));xa(e,r,null,null)};ha.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;ur(function(){xa(null,e,null,null)}),r[jt]=null}};function ha(e){this._internalRoot=e}ha.prototype.unstable_scheduleHydration=function(e){if(e){var r=Fd();e={blockedOn:null,target:e,priority:r};for(var s=0;s<Et.length&&r!==0&&r<Et[s].priority;s++);Et.splice(s,0,e),s===0&&Td(e)}};function Xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fc(){}function jh(e,r,s,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Qn(l);i.call(u)}}var l=rm(r,n,e,0,null,!1,!1,"",fc);return e._reactRootContainer=l,e[jt]=l.current,_s(e.nodeType===8?e.parentNode:e),ur(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=Qn(c);o.call(u)}}var c=Kl(e,0,!1,null,null,!1,!1,"",fc);return e._reactRootContainer=c,e[jt]=c.current,_s(e.nodeType===8?e.parentNode:e),ur(function(){xa(r,c,s,n)}),c}function fa(e,r,s,n,a){var i=s._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=Qn(l);o.call(c)}}xa(r,l,e,a)}else l=jh(s,r,e,a,n);return Qn(l)}Pd=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var s=as(r.pendingLanes);s!==0&&(gl(r,s|1),$e(r,oe()),!(q&6)&&(Or=oe()+500,Gt()))}break;case 13:ur(function(){var n=bt(e,1);if(n!==null){var a=Me();nt(n,e,1,a)}}),Jl(e,1)}};yl=function(e){if(e.tag===13){var r=bt(e,134217728);if(r!==null){var s=Me();nt(r,e,134217728,s)}Jl(e,134217728)}};Dd=function(e){if(e.tag===13){var r=Ot(e),s=bt(e,r);if(s!==null){var n=Me();nt(s,e,r,n)}Jl(e,r)}};Fd=function(){return K};zd=function(e,r){var s=K;try{return K=e,r()}finally{K=s}};gi=function(e,r,s){switch(r){case"input":if(di(e,s),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var n=s[r];if(n!==e&&n.form===e.form){var a=ia(n);if(!a)throw Error(E(90));md(n),di(n,a)}}}break;case"textarea":hd(e,s);break;case"select":r=s.value,r!=null&&Er(e,!!s.multiple,r,!1)}};bd=Wl;Nd=ur;var bh={usingClientEntryPoint:!1,Events:[Os,br,ia,vd,jd,Wl]},ts={findFiberByHostInstance:er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nh={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_d(e),e===null?null:e.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||vh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cn.isDisabled&&cn.supportsFiber)try{ra=cn.inject(Nh),ut=cn}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bh;We.createPortal=function(e,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xl(r))throw Error(E(200));return yh(e,r,null,s)};We.createRoot=function(e,r){if(!Xl(e))throw Error(E(299));var s=!1,n="",a=sm;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(n=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),r=Kl(e,1,!1,null,null,s,!1,n,a),e[jt]=r.current,_s(e.nodeType===8?e.parentNode:e),new Yl(r)};We.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=_d(r),e=e===null?null:e.stateNode,e};We.flushSync=function(e){return ur(e)};We.hydrate=function(e,r,s){if(!pa(r))throw Error(E(200));return fa(null,e,r,!0,s)};We.hydrateRoot=function(e,r,s){if(!Xl(e))throw Error(E(405));var n=s!=null&&s.hydratedSources||null,a=!1,i="",l=sm;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),r=rm(r,null,e,1,s??null,a,!1,i,l),e[jt]=r.current,_s(e),n)for(e=0;e<n.length;e++)s=n[e],a=s._getVersion,a=a(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,a]:r.mutableSourceEagerHydrationData.push(s,a);return new ha(r)};We.render=function(e,r,s){if(!pa(r))throw Error(E(200));return fa(null,e,r,!1,s)};We.unmountComponentAtNode=function(e){if(!pa(e))throw Error(E(40));return e._reactRootContainer?(ur(function(){fa(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};We.unstable_batchedUpdates=Wl;We.unstable_renderSubtreeIntoContainer=function(e,r,s,n){if(!pa(s))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return fa(e,r,s,!1,n)};We.version="18.3.1-next-f1338f8080-20240426";function nm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nm)}catch(e){console.error(e)}}nm(),nd.exports=We;var wh=nd.exports,am,gc=wh;am=gc.createRoot,gc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Fs.apply(this,arguments)}var Dt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dt||(Dt={}));const yc="popstate";function kh(e){e===void 0&&(e={});function r(n,a){let{pathname:i,search:l,hash:o}=n.location;return Ji("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:Kn(a)}return Ch(r,s,null,e)}function ce(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function im(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function _h(){return Math.random().toString(36).substr(2,8)}function vc(e,r){return{usr:e.state,key:e.key,idx:r}}function Ji(e,r,s,n){return s===void 0&&(s=null),Fs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Hr(r):r,{state:s,key:r&&r.key||n||_h()})}function Kn(e){let{pathname:r="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Hr(e){let r={};if(e){let s=e.indexOf("#");s>=0&&(r.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(r.search=e.substr(n),e=e.substr(0,n)),e&&(r.pathname=e)}return r}function Ch(e,r,s,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o=Dt.Pop,c=null,u=h();u==null&&(u=0,l.replaceState(Fs({},l.state,{idx:u}),""));function h(){return(l.state||{idx:null}).idx}function x(){o=Dt.Pop;let y=h(),p=y==null?null:y-u;u=y,c&&c({action:o,location:N.location,delta:p})}function f(y,p){o=Dt.Push;let m=Ji(N.location,y,p);u=h()+1;let d=vc(m,u),g=N.createHref(m);try{l.pushState(d,"",g)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(g)}i&&c&&c({action:o,location:N.location,delta:1})}function j(y,p){o=Dt.Replace;let m=Ji(N.location,y,p);u=h();let d=vc(m,u),g=N.createHref(m);l.replaceState(d,"",g),i&&c&&c({action:o,location:N.location,delta:0})}function b(y){let p=a.location.origin!=="null"?a.location.origin:a.location.href,m=typeof y=="string"?y:Kn(y);return m=m.replace(/ $/,"%20"),ce(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let N={get action(){return o},get location(){return e(a,l)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(yc,x),c=y,()=>{a.removeEventListener(yc,x),c=null}},createHref(y){return r(a,y)},createURL:b,encodeLocation(y){let p=b(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:j,go(y){return l.go(y)}};return N}var jc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jc||(jc={}));function Sh(e,r,s){return s===void 0&&(s="/"),Eh(e,r,s)}function Eh(e,r,s,n){let a=typeof r=="string"?Hr(r):r,i=Zl(a.pathname||"/",s);if(i==null)return null;let l=lm(e);Lh(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=Ih(i);o=$h(l[c],u)}return o}function lm(e,r,s,n){r===void 0&&(r=[]),s===void 0&&(s=[]),n===void 0&&(n="");let a=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(ce(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Vt([n,c.relativePath]),h=s.concat(c);i.children&&i.children.length>0&&(ce(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lm(i.children,r,h,u)),!(i.path==null&&!i.index)&&r.push({path:u,score:Th(u,i.index),routesMeta:h})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let c of om(i.path))a(i,l,c)}),r}function om(e){let r=e.split("/");if(r.length===0)return[];let[s,...n]=r,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=om(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Lh(e){e.sort((r,s)=>r.score!==s.score?s.score-r.score:Ah(r.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const Rh=/^:[\w-]+$/,Mh=3,Ph=2,Dh=1,Fh=10,zh=-2,bc=e=>e==="*";function Th(e,r){let s=e.split("/"),n=s.length;return s.some(bc)&&(n+=zh),r&&(n+=Ph),s.filter(a=>!bc(a)).reduce((a,i)=>a+(Rh.test(i)?Mh:i===""?Dh:Fh),n)}function Ah(e,r){return e.length===r.length&&e.slice(0,-1).every((n,a)=>n===r[a])?e[e.length-1]-r[r.length-1]:0}function $h(e,r,s){let{routesMeta:n}=e,a={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,h=i==="/"?r:r.slice(i.length)||"/",x=Bh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!x)return null;Object.assign(a,x.params),l.push({params:a,pathname:Vt([i,x.pathname]),pathnameBase:Wh(Vt([i,x.pathnameBase])),route:f}),x.pathnameBase!=="/"&&(i=Vt([i,x.pathnameBase]))}return l}function Bh(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=Oh(e.path,e.caseSensitive,e.end),a=r.match(s);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,h,x)=>{let{paramName:f,isOptional:j}=h;if(f==="*"){let N=o[x]||"";l=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const b=o[x];return j&&!b?u[f]=void 0:u[f]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function Oh(e,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),im(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),n]}function Ih(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return im(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function Zl(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function Vh(e,r){r===void 0&&(r="/");let{pathname:s,search:n="",hash:a=""}=typeof e=="string"?Hr(e):e;return{pathname:s?s.startsWith("/")?s:Uh(s,r):r,search:qh(n),hash:Gh(a)}}function Uh(e,r){let s=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function ei(e,r,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hh(e){return e.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function eo(e,r){let s=Hh(e);return r?s.map((n,a)=>a===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function to(e,r,s,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Hr(e):(a=Fs({},e),ce(!a.pathname||!a.pathname.includes("?"),ei("?","pathname","search",a)),ce(!a.pathname||!a.pathname.includes("#"),ei("#","pathname","hash",a)),ce(!a.search||!a.search.includes("#"),ei("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=s;else{let x=r.length-1;if(!n&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),x-=1;a.pathname=f.join("/")}o=x>=0?r[x]:"/"}let c=Vh(a,o),u=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Vt=e=>e.join("/").replace(/\/\/+/g,"/"),Wh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qh=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Gh=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Qh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cm=["post","put","patch","delete"];new Set(cm);const Kh=["get",...cm];new Set(Kh);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},zs.apply(this,arguments)}const ro=v.createContext(null),Jh=v.createContext(null),Qt=v.createContext(null),ga=v.createContext(null),xt=v.createContext({outlet:null,matches:[],isDataRoute:!1}),dm=v.createContext(null);function Yh(e,r){let{relative:s}=r===void 0?{}:r;Wr()||ce(!1);let{basename:n,navigator:a}=v.useContext(Qt),{hash:i,pathname:l,search:o}=mm(e,{relative:s}),c=l;return n!=="/"&&(c=l==="/"?n:Vt([n,l])),a.createHref({pathname:c,search:o,hash:i})}function Wr(){return v.useContext(ga)!=null}function kt(){return Wr()||ce(!1),v.useContext(ga).location}function um(e){v.useContext(Qt).static||v.useLayoutEffect(e)}function W(){let{isDataRoute:e}=v.useContext(xt);return e?mp():Xh()}function Xh(){Wr()||ce(!1);let e=v.useContext(ro),{basename:r,future:s,navigator:n}=v.useContext(Qt),{matches:a}=v.useContext(xt),{pathname:i}=kt(),l=JSON.stringify(eo(a,s.v7_relativeSplatPath)),o=v.useRef(!1);return um(()=>{o.current=!0}),v.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let x=to(u,JSON.parse(l),i,h.relative==="path");e==null&&r!=="/"&&(x.pathname=x.pathname==="/"?r:Vt([r,x.pathname])),(h.replace?n.replace:n.push)(x,h.state,h)},[r,n,l,i,e])}const Zh=v.createContext(null);function ep(e){let r=v.useContext(xt).outlet;return r&&v.createElement(Zh.Provider,{value:e},r)}function ve(){let{matches:e}=v.useContext(xt),r=e[e.length-1];return r?r.params:{}}function mm(e,r){let{relative:s}=r===void 0?{}:r,{future:n}=v.useContext(Qt),{matches:a}=v.useContext(xt),{pathname:i}=kt(),l=JSON.stringify(eo(a,n.v7_relativeSplatPath));return v.useMemo(()=>to(e,JSON.parse(l),i,s==="path"),[e,l,i,s])}function tp(e,r){return rp(e,r)}function rp(e,r,s,n){Wr()||ce(!1);let{navigator:a,static:i}=v.useContext(Qt),{matches:l}=v.useContext(xt),o=l[l.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=kt(),x;if(r){var f;let p=typeof r=="string"?Hr(r):r;u==="/"||(f=p.pathname)!=null&&f.startsWith(u)||ce(!1),x=p}else x=h;let j=x.pathname||"/",b=j;if(u!=="/"){let p=u.replace(/^\//,"").split("/");b="/"+j.replace(/^\//,"").split("/").slice(p.length).join("/")}let N=Sh(e,{pathname:b}),y=lp(N&&N.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:Vt([u,a.encodeLocation?a.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:Vt([u,a.encodeLocation?a.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),l,s,n);return r&&y?v.createElement(ga.Provider,{value:{location:zs({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Dt.Pop}},y):y}function sp(){let e=up(),r=Qh(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},r),s?v.createElement("pre",{style:a},s):null,null)}const np=v.createElement(sp,null);class ap extends v.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?v.createElement(xt.Provider,{value:this.props.routeContext},v.createElement(dm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ip(e){let{routeContext:r,match:s,children:n}=e,a=v.useContext(ro);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),v.createElement(xt.Provider,{value:r},n)}function lp(e,r,s,n){var a;if(r===void 0&&(r=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=n)!=null&&i.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,o=(a=s)==null?void 0:a.errors;if(o!=null){let h=l.findIndex(x=>x.route.id&&(o==null?void 0:o[x.route.id])!==void 0);h>=0||ce(!1),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,u=-1;if(s&&n&&n.v7_partialHydration)for(let h=0;h<l.length;h++){let x=l[h];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(u=h),x.route.id){let{loaderData:f,errors:j}=s,b=x.route.loader&&f[x.route.id]===void 0&&(!j||j[x.route.id]===void 0);if(x.route.lazy||b){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((h,x,f)=>{let j,b=!1,N=null,y=null;s&&(j=o&&x.route.id?o[x.route.id]:void 0,N=x.route.errorElement||np,c&&(u<0&&f===0?(xp("route-fallback"),b=!0,y=null):u===f&&(b=!0,y=x.route.hydrateFallbackElement||null)));let p=r.concat(l.slice(0,f+1)),m=()=>{let d;return j?d=N:b?d=y:x.route.Component?d=v.createElement(x.route.Component,null):x.route.element?d=x.route.element:d=h,v.createElement(ip,{match:x,routeContext:{outlet:h,matches:p,isDataRoute:s!=null},children:d})};return s&&(x.route.ErrorBoundary||x.route.errorElement||f===0)?v.createElement(ap,{location:s.location,revalidation:s.revalidation,component:N,error:j,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var xm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xm||{}),hm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hm||{});function op(e){let r=v.useContext(ro);return r||ce(!1),r}function cp(e){let r=v.useContext(Jh);return r||ce(!1),r}function dp(e){let r=v.useContext(xt);return r||ce(!1),r}function pm(e){let r=dp(),s=r.matches[r.matches.length-1];return s.route.id||ce(!1),s.route.id}function up(){var e;let r=v.useContext(dm),s=cp(),n=pm();return r!==void 0?r:(e=s.errors)==null?void 0:e[n]}function mp(){let{router:e}=op(xm.UseNavigateStable),r=pm(hm.UseNavigateStable),s=v.useRef(!1);return um(()=>{s.current=!0}),v.useCallback(function(a,i){i===void 0&&(i={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,zs({fromRouteId:r},i)))},[e,r])}const Nc={};function xp(e,r,s){Nc[e]||(Nc[e]=!0)}function hp(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Jn(e){let{to:r,replace:s,state:n,relative:a}=e;Wr()||ce(!1);let{future:i,static:l}=v.useContext(Qt),{matches:o}=v.useContext(xt),{pathname:c}=kt(),u=W(),h=to(r,eo(o,i.v7_relativeSplatPath),c,a==="path"),x=JSON.stringify(h);return v.useEffect(()=>u(JSON.parse(x),{replace:s,state:n,relative:a}),[u,x,a,s,n]),null}function fm(e){return ep(e.context)}function F(e){ce(!1)}function pp(e){let{basename:r="/",children:s=null,location:n,navigationType:a=Dt.Pop,navigator:i,static:l=!1,future:o}=e;Wr()&&ce(!1);let c=r.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:l,future:zs({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof n=="string"&&(n=Hr(n));let{pathname:h="/",search:x="",hash:f="",state:j=null,key:b="default"}=n,N=v.useMemo(()=>{let y=Zl(h,c);return y==null?null:{location:{pathname:y,search:x,hash:f,state:j,key:b},navigationType:a}},[c,h,x,f,j,b,a]);return N==null?null:v.createElement(Qt.Provider,{value:u},v.createElement(ga.Provider,{children:s,value:N}))}function fp(e){let{children:r,location:s}=e;return tp(Yi(r),s)}new Promise(()=>{});function Yi(e,r){r===void 0&&(r=[]);let s=[];return v.Children.forEach(e,(n,a)=>{if(!v.isValidElement(n))return;let i=[...r,a];if(n.type===v.Fragment){s.push.apply(s,Yi(n.props.children,i));return}n.type!==F&&ce(!1),!n.props.index||!n.props.children||ce(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Yi(n.props.children,i)),s.push(l)}),s}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Xi.apply(this,arguments)}function gp(e,r){if(e==null)return{};var s={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(r.indexOf(a)>=0)&&(s[a]=e[a]);return s}function yp(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vp(e,r){return e.button===0&&(!r||r==="_self")&&!yp(e)}const jp=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bp="6";try{window.__reactRouterVersion=bp}catch{}const Np="startTransition",wc=m0[Np];function wp(e){let{basename:r,children:s,future:n,window:a}=e,i=v.useRef();i.current==null&&(i.current=kh({window:a,v5Compat:!0}));let l=i.current,[o,c]=v.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},h=v.useCallback(x=>{u&&wc?wc(()=>c(x)):c(x)},[c,u]);return v.useLayoutEffect(()=>l.listen(h),[l,h]),v.useEffect(()=>hp(n),[n]),v.createElement(pp,{basename:r,children:s,location:o.location,navigationType:o.action,navigator:l,future:n})}const kp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_p=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T=v.forwardRef(function(r,s){let{onClick:n,relative:a,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:h,viewTransition:x}=r,f=gp(r,jp),{basename:j}=v.useContext(Qt),b,N=!1;if(typeof u=="string"&&_p.test(u)&&(b=u,kp))try{let d=new URL(window.location.href),g=u.startsWith("//")?new URL(d.protocol+u):new URL(u),w=Zl(g.pathname,j);g.origin===d.origin&&w!=null?u=w+g.search+g.hash:N=!0}catch{}let y=Yh(u,{relative:a}),p=Cp(u,{replace:l,state:o,target:c,preventScrollReset:h,relative:a,viewTransition:x});function m(d){n&&n(d),d.defaultPrevented||p(d)}return v.createElement("a",Xi({},f,{href:b||y,onClick:N||i?n:m,ref:s,target:c}))});var kc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kc||(kc={}));var _c;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_c||(_c={}));function Cp(e,r){let{target:s,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:o}=r===void 0?{}:r,c=W(),u=kt(),h=mm(e,{relative:l});return v.useCallback(x=>{if(vp(x,s)){x.preventDefault();let f=n!==void 0?n:Kn(u)===Kn(h);c(e,{replace:f,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[u,c,h,n,a,s,e,i,l,o])}function gm(e,r){return function(){return e.apply(r,arguments)}}const{toString:Sp}=Object.prototype,{getPrototypeOf:so}=Object,{iterator:ya,toStringTag:ym}=Symbol,va=(e=>r=>{const s=Sp.call(r);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),it=e=>(e=e.toLowerCase(),r=>va(r)===e),ja=e=>r=>typeof r===e,{isArray:qr}=Array,Ts=ja("undefined");function Ep(e){return e!==null&&!Ts(e)&&e.constructor!==null&&!Ts(e.constructor)&&Be(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const vm=it("ArrayBuffer");function Lp(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&vm(e.buffer),r}const Rp=ja("string"),Be=ja("function"),jm=ja("number"),ba=e=>e!==null&&typeof e=="object",Mp=e=>e===!0||e===!1,Nn=e=>{if(va(e)!=="object")return!1;const r=so(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(ym in e)&&!(ya in e)},Pp=it("Date"),Dp=it("File"),Fp=it("Blob"),zp=it("FileList"),Tp=e=>ba(e)&&Be(e.pipe),Ap=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||Be(e.append)&&((r=va(e))==="formdata"||r==="object"&&Be(e.toString)&&e.toString()==="[object FormData]"))},$p=it("URLSearchParams"),[Bp,Op,Ip,Vp]=["ReadableStream","Request","Response","Headers"].map(it),Up=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vs(e,r,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),qr(e))for(n=0,a=e.length;n<a;n++)r.call(null,e[n],n,e);else{const i=s?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(n=0;n<l;n++)o=i[n],r.call(null,e[o],o,e)}}function bm(e,r){r=r.toLowerCase();const s=Object.keys(e);let n=s.length,a;for(;n-- >0;)if(a=s[n],r===a.toLowerCase())return a;return null}const sr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Nm=e=>!Ts(e)&&e!==sr;function Zi(){const{caseless:e}=Nm(this)&&this||{},r={},s=(n,a)=>{const i=e&&bm(r,a)||a;Nn(r[i])&&Nn(n)?r[i]=Zi(r[i],n):Nn(n)?r[i]=Zi({},n):qr(n)?r[i]=n.slice():r[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Vs(arguments[n],s);return r}const Hp=(e,r,s,{allOwnKeys:n}={})=>(Vs(r,(a,i)=>{s&&Be(a)?e[i]=gm(a,s):e[i]=a},{allOwnKeys:n}),e),Wp=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),qp=(e,r,s,n)=>{e.prototype=Object.create(r.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),s&&Object.assign(e.prototype,s)},Gp=(e,r,s,n)=>{let a,i,l;const o={};if(r=r||{},e==null)return r;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)l=a[i],(!n||n(l,e,r))&&!o[l]&&(r[l]=e[l],o[l]=!0);e=s!==!1&&so(e)}while(e&&(!s||s(e,r))&&e!==Object.prototype);return r},Qp=(e,r,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=r.length;const n=e.indexOf(r,s);return n!==-1&&n===s},Kp=e=>{if(!e)return null;if(qr(e))return e;let r=e.length;if(!jm(r))return null;const s=new Array(r);for(;r-- >0;)s[r]=e[r];return s},Jp=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&so(Uint8Array)),Yp=(e,r)=>{const n=(e&&e[ya]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;r.call(e,i[0],i[1])}},Xp=(e,r)=>{let s;const n=[];for(;(s=e.exec(r))!==null;)n.push(s);return n},Zp=it("HTMLFormElement"),ef=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,a){return n.toUpperCase()+a}),Cc=(({hasOwnProperty:e})=>(r,s)=>e.call(r,s))(Object.prototype),tf=it("RegExp"),wm=(e,r)=>{const s=Object.getOwnPropertyDescriptors(e),n={};Vs(s,(a,i)=>{let l;(l=r(a,i,e))!==!1&&(n[i]=l||a)}),Object.defineProperties(e,n)},rf=e=>{wm(e,(r,s)=>{if(Be(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(Be(n)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},sf=(e,r)=>{const s={},n=a=>{a.forEach(i=>{s[i]=!0})};return qr(e)?n(e):n(String(e).split(r)),s},nf=()=>{},af=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function lf(e){return!!(e&&Be(e.append)&&e[ym]==="FormData"&&e[ya])}const of=e=>{const r=new Array(10),s=(n,a)=>{if(ba(n)){if(r.indexOf(n)>=0)return;if(!("toJSON"in n)){r[a]=n;const i=qr(n)?[]:{};return Vs(n,(l,o)=>{const c=s(l,a+1);!Ts(c)&&(i[o]=c)}),r[a]=void 0,i}}return n};return s(e,0)},cf=it("AsyncFunction"),df=e=>e&&(ba(e)||Be(e))&&Be(e.then)&&Be(e.catch),km=((e,r)=>e?setImmediate:r?((s,n)=>(sr.addEventListener("message",({source:a,data:i})=>{a===sr&&i===s&&n.length&&n.shift()()},!1),a=>{n.push(a),sr.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Be(sr.postMessage)),uf=typeof queueMicrotask<"u"?queueMicrotask.bind(sr):typeof process<"u"&&process.nextTick||km,mf=e=>e!=null&&Be(e[ya]),_={isArray:qr,isArrayBuffer:vm,isBuffer:Ep,isFormData:Ap,isArrayBufferView:Lp,isString:Rp,isNumber:jm,isBoolean:Mp,isObject:ba,isPlainObject:Nn,isReadableStream:Bp,isRequest:Op,isResponse:Ip,isHeaders:Vp,isUndefined:Ts,isDate:Pp,isFile:Dp,isBlob:Fp,isRegExp:tf,isFunction:Be,isStream:Tp,isURLSearchParams:$p,isTypedArray:Jp,isFileList:zp,forEach:Vs,merge:Zi,extend:Hp,trim:Up,stripBOM:Wp,inherits:qp,toFlatObject:Gp,kindOf:va,kindOfTest:it,endsWith:Qp,toArray:Kp,forEachEntry:Yp,matchAll:Xp,isHTMLForm:Zp,hasOwnProperty:Cc,hasOwnProp:Cc,reduceDescriptors:wm,freezeMethods:rf,toObjectSet:sf,toCamelCase:ef,noop:nf,toFiniteNumber:af,findKey:bm,global:sr,isContextDefined:Nm,isSpecCompliantForm:lf,toJSONObject:of,isAsyncFn:cf,isThenable:df,setImmediate:km,asap:uf,isIterable:mf};function B(e,r,s,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),s&&(this.config=s),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}_.inherits(B,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.status}}});const _m=B.prototype,Cm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Cm[e]={value:e}});Object.defineProperties(B,Cm);Object.defineProperty(_m,"isAxiosError",{value:!0});B.from=(e,r,s,n,a,i)=>{const l=Object.create(_m);return _.toFlatObject(e,l,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),B.call(l,e.message,r,s,n,a),l.cause=e,l.name=e.name,i&&Object.assign(l,i),l};const xf=null;function el(e){return _.isPlainObject(e)||_.isArray(e)}function Sm(e){return _.endsWith(e,"[]")?e.slice(0,-2):e}function Sc(e,r,s){return e?e.concat(r).map(function(a,i){return a=Sm(a),!s&&i?"["+a+"]":a}).join(s?".":""):r}function hf(e){return _.isArray(e)&&!e.some(el)}const pf=_.toFlatObject(_,{},null,function(r){return/^is[A-Z]/.test(r)});function Na(e,r,s){if(!_.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,s=_.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,y){return!_.isUndefined(y[N])});const n=s.metaTokens,a=s.visitor||h,i=s.dots,l=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(r);if(!_.isFunction(a))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(_.isDate(b))return b.toISOString();if(!c&&_.isBlob(b))throw new B("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(b)||_.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,N,y){let p=b;if(b&&!y&&typeof b=="object"){if(_.endsWith(N,"{}"))N=n?N:N.slice(0,-2),b=JSON.stringify(b);else if(_.isArray(b)&&hf(b)||(_.isFileList(b)||_.endsWith(N,"[]"))&&(p=_.toArray(b)))return N=Sm(N),p.forEach(function(d,g){!(_.isUndefined(d)||d===null)&&r.append(l===!0?Sc([N],g,i):l===null?N:N+"[]",u(d))}),!1}return el(b)?!0:(r.append(Sc(y,N,i),u(b)),!1)}const x=[],f=Object.assign(pf,{defaultVisitor:h,convertValue:u,isVisitable:el});function j(b,N){if(!_.isUndefined(b)){if(x.indexOf(b)!==-1)throw Error("Circular reference detected in "+N.join("."));x.push(b),_.forEach(b,function(p,m){(!(_.isUndefined(p)||p===null)&&a.call(r,p,_.isString(m)?m.trim():m,N,f))===!0&&j(p,N?N.concat(m):[m])}),x.pop()}}if(!_.isObject(e))throw new TypeError("data must be an object");return j(e),r}function Ec(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return r[n]})}function no(e,r){this._pairs=[],e&&Na(e,this,r)}const Em=no.prototype;Em.append=function(r,s){this._pairs.push([r,s])};Em.toString=function(r){const s=r?function(n){return r.call(this,n,Ec)}:Ec;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function ff(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Lm(e,r,s){if(!r)return e;const n=s&&s.encode||ff;_.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let i;if(a?i=a(r,s):i=_.isURLSearchParams(r)?r.toString():new no(r,s).toString(n),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Lc{constructor(){this.handlers=[]}use(r,s,n){return this.handlers.push({fulfilled:r,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){_.forEach(this.handlers,function(n){n!==null&&r(n)})}}const Rm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gf=typeof URLSearchParams<"u"?URLSearchParams:no,yf=typeof FormData<"u"?FormData:null,vf=typeof Blob<"u"?Blob:null,jf={isBrowser:!0,classes:{URLSearchParams:gf,FormData:yf,Blob:vf},protocols:["http","https","file","blob","url","data"]},ao=typeof window<"u"&&typeof document<"u",tl=typeof navigator=="object"&&navigator||void 0,bf=ao&&(!tl||["ReactNative","NativeScript","NS"].indexOf(tl.product)<0),Nf=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wf=ao&&window.location.href||"http://localhost",kf=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ao,hasStandardBrowserEnv:bf,hasStandardBrowserWebWorkerEnv:Nf,navigator:tl,origin:wf},Symbol.toStringTag,{value:"Module"})),Se={...kf,...jf};function _f(e,r){return Na(e,new Se.classes.URLSearchParams,Object.assign({visitor:function(s,n,a,i){return Se.isNode&&_.isBuffer(s)?(this.append(n,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},r))}function Cf(e){return _.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Sf(e){const r={},s=Object.keys(e);let n;const a=s.length;let i;for(n=0;n<a;n++)i=s[n],r[i]=e[i];return r}function Mm(e){function r(s,n,a,i){let l=s[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=s.length;return l=!l&&_.isArray(a)?a.length:l,c?(_.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!o):((!a[l]||!_.isObject(a[l]))&&(a[l]=[]),r(s,n,a[l],i)&&_.isArray(a[l])&&(a[l]=Sf(a[l])),!o)}if(_.isFormData(e)&&_.isFunction(e.entries)){const s={};return _.forEachEntry(e,(n,a)=>{r(Cf(n),a,s,0)}),s}return null}function Ef(e,r,s){if(_.isString(e))try{return(r||JSON.parse)(e),_.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const Us={transitional:Rm,adapter:["xhr","http","fetch"],transformRequest:[function(r,s){const n=s.getContentType()||"",a=n.indexOf("application/json")>-1,i=_.isObject(r);if(i&&_.isHTMLForm(r)&&(r=new FormData(r)),_.isFormData(r))return a?JSON.stringify(Mm(r)):r;if(_.isArrayBuffer(r)||_.isBuffer(r)||_.isStream(r)||_.isFile(r)||_.isBlob(r)||_.isReadableStream(r))return r;if(_.isArrayBufferView(r))return r.buffer;if(_.isURLSearchParams(r))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _f(r,this.formSerializer).toString();if((o=_.isFileList(r))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Na(o?{"files[]":r}:r,c&&new c,this.formSerializer)}}return i||a?(s.setContentType("application/json",!1),Ef(r)):r}],transformResponse:[function(r){const s=this.transitional||Us.transitional,n=s&&s.forcedJSONParsing,a=this.responseType==="json";if(_.isResponse(r)||_.isReadableStream(r))return r;if(r&&_.isString(r)&&(n&&!this.responseType||a)){const l=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(r)}catch(o){if(l)throw o.name==="SyntaxError"?B.from(o,B.ERR_BAD_RESPONSE,this,null,this.response):o}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Se.classes.FormData,Blob:Se.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],e=>{Us.headers[e]={}});const Lf=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Rf=e=>{const r={};let s,n,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),s=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!s||r[s]&&Lf[s])&&(s==="set-cookie"?r[s]?r[s].push(n):r[s]=[n]:r[s]=r[s]?r[s]+", "+n:n)}),r},Rc=Symbol("internals");function rs(e){return e&&String(e).trim().toLowerCase()}function wn(e){return e===!1||e==null?e:_.isArray(e)?e.map(wn):String(e)}function Mf(e){const r=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)r[n[1]]=n[2];return r}const Pf=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ti(e,r,s,n,a){if(_.isFunction(n))return n.call(this,r,s);if(a&&(r=s),!!_.isString(r)){if(_.isString(n))return r.indexOf(n)!==-1;if(_.isRegExp(n))return n.test(r)}}function Df(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,s,n)=>s.toUpperCase()+n)}function Ff(e,r){const s=_.toCamelCase(" "+r);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(a,i,l){return this[n].call(this,r,a,i,l)},configurable:!0})})}let Oe=class{constructor(r){r&&this.set(r)}set(r,s,n){const a=this;function i(o,c,u){const h=rs(c);if(!h)throw new Error("header name must be a non-empty string");const x=_.findKey(a,h);(!x||a[x]===void 0||u===!0||u===void 0&&a[x]!==!1)&&(a[x||c]=wn(o))}const l=(o,c)=>_.forEach(o,(u,h)=>i(u,h,c));if(_.isPlainObject(r)||r instanceof this.constructor)l(r,s);else if(_.isString(r)&&(r=r.trim())&&!Pf(r))l(Rf(r),s);else if(_.isObject(r)&&_.isIterable(r)){let o={},c,u;for(const h of r){if(!_.isArray(h))throw TypeError("Object iterator must return a key-value pair");o[u=h[0]]=(c=o[u])?_.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}l(o,s)}else r!=null&&i(s,r,n);return this}get(r,s){if(r=rs(r),r){const n=_.findKey(this,r);if(n){const a=this[n];if(!s)return a;if(s===!0)return Mf(a);if(_.isFunction(s))return s.call(this,a,n);if(_.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,s){if(r=rs(r),r){const n=_.findKey(this,r);return!!(n&&this[n]!==void 0&&(!s||ti(this,this[n],n,s)))}return!1}delete(r,s){const n=this;let a=!1;function i(l){if(l=rs(l),l){const o=_.findKey(n,l);o&&(!s||ti(n,n[o],o,s))&&(delete n[o],a=!0)}}return _.isArray(r)?r.forEach(i):i(r),a}clear(r){const s=Object.keys(this);let n=s.length,a=!1;for(;n--;){const i=s[n];(!r||ti(this,this[i],i,r,!0))&&(delete this[i],a=!0)}return a}normalize(r){const s=this,n={};return _.forEach(this,(a,i)=>{const l=_.findKey(n,i);if(l){s[l]=wn(a),delete s[i];return}const o=r?Df(i):String(i).trim();o!==i&&delete s[i],s[o]=wn(a),n[o]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const s=Object.create(null);return _.forEach(this,(n,a)=>{n!=null&&n!==!1&&(s[a]=r&&_.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,s])=>r+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...s){const n=new this(r);return s.forEach(a=>n.set(a)),n}static accessor(r){const n=(this[Rc]=this[Rc]={accessors:{}}).accessors,a=this.prototype;function i(l){const o=rs(l);n[o]||(Ff(a,l),n[o]=!0)}return _.isArray(r)?r.forEach(i):i(r),this}};Oe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(Oe.prototype,({value:e},r)=>{let s=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(n){this[s]=n}}});_.freezeMethods(Oe);function ri(e,r){const s=this||Us,n=r||s,a=Oe.from(n.headers);let i=n.data;return _.forEach(e,function(o){i=o.call(s,i,a.normalize(),r?r.status:void 0)}),a.normalize(),i}function Pm(e){return!!(e&&e.__CANCEL__)}function Gr(e,r,s){B.call(this,e??"canceled",B.ERR_CANCELED,r,s),this.name="CanceledError"}_.inherits(Gr,B,{__CANCEL__:!0});function Dm(e,r,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):r(new B("Request failed with status code "+s.status,[B.ERR_BAD_REQUEST,B.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function zf(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function Tf(e,r){e=e||10;const s=new Array(e),n=new Array(e);let a=0,i=0,l;return r=r!==void 0?r:1e3,function(c){const u=Date.now(),h=n[i];l||(l=u),s[a]=c,n[a]=u;let x=i,f=0;for(;x!==a;)f+=s[x++],x=x%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-l<r)return;const j=h&&u-h;return j?Math.round(f*1e3/j):void 0}}function Af(e,r){let s=0,n=1e3/r,a,i;const l=(u,h=Date.now())=>{s=h,a=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const h=Date.now(),x=h-s;x>=n?l(u,h):(a=u,i||(i=setTimeout(()=>{i=null,l(a)},n-x)))},()=>a&&l(a)]}const Yn=(e,r,s=3)=>{let n=0;const a=Tf(50,250);return Af(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-n,u=a(c),h=l<=o;n=l;const x={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&h?(o-l)/u:void 0,event:i,lengthComputable:o!=null,[r?"download":"upload"]:!0};e(x)},s)},Mc=(e,r)=>{const s=e!=null;return[n=>r[0]({lengthComputable:s,total:e,loaded:n}),r[1]]},Pc=e=>(...r)=>_.asap(()=>e(...r)),$f=Se.hasStandardBrowserEnv?((e,r)=>s=>(s=new URL(s,Se.origin),e.protocol===s.protocol&&e.host===s.host&&(r||e.port===s.port)))(new URL(Se.origin),Se.navigator&&/(msie|trident)/i.test(Se.navigator.userAgent)):()=>!0,Bf=Se.hasStandardBrowserEnv?{write(e,r,s,n,a,i){const l=[e+"="+encodeURIComponent(r)];_.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),_.isString(n)&&l.push("path="+n),_.isString(a)&&l.push("domain="+a),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Of(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function If(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function Fm(e,r,s){let n=!Of(r);return e&&(n||s==!1)?If(e,r):r}const Dc=e=>e instanceof Oe?{...e}:e;function mr(e,r){r=r||{};const s={};function n(u,h,x,f){return _.isPlainObject(u)&&_.isPlainObject(h)?_.merge.call({caseless:f},u,h):_.isPlainObject(h)?_.merge({},h):_.isArray(h)?h.slice():h}function a(u,h,x,f){if(_.isUndefined(h)){if(!_.isUndefined(u))return n(void 0,u,x,f)}else return n(u,h,x,f)}function i(u,h){if(!_.isUndefined(h))return n(void 0,h)}function l(u,h){if(_.isUndefined(h)){if(!_.isUndefined(u))return n(void 0,u)}else return n(void 0,h)}function o(u,h,x){if(x in r)return n(u,h);if(x in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(u,h,x)=>a(Dc(u),Dc(h),x,!0)};return _.forEach(Object.keys(Object.assign({},e,r)),function(h){const x=c[h]||a,f=x(e[h],r[h],h);_.isUndefined(f)&&x!==o||(s[h]=f)}),s}const zm=e=>{const r=mr({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:l,auth:o}=r;r.headers=l=Oe.from(l),r.url=Lm(Fm(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(_.isFormData(s)){if(Se.hasStandardBrowserEnv||Se.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((c=l.getContentType())!==!1){const[u,...h]=c?c.split(";").map(x=>x.trim()).filter(Boolean):[];l.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Se.hasStandardBrowserEnv&&(n&&_.isFunction(n)&&(n=n(r)),n||n!==!1&&$f(r.url))){const u=a&&i&&Bf.read(i);u&&l.set(a,u)}return r},Vf=typeof XMLHttpRequest<"u",Uf=Vf&&function(e){return new Promise(function(s,n){const a=zm(e);let i=a.data;const l=Oe.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=a,h,x,f,j,b;function N(){j&&j(),b&&b(),a.cancelToken&&a.cancelToken.unsubscribe(h),a.signal&&a.signal.removeEventListener("abort",h)}let y=new XMLHttpRequest;y.open(a.method.toUpperCase(),a.url,!0),y.timeout=a.timeout;function p(){if(!y)return;const d=Oe.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:d,config:e,request:y};Dm(function(C){s(C),N()},function(C){n(C),N()},w),y=null}"onloadend"in y?y.onloadend=p:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(p)},y.onabort=function(){y&&(n(new B("Request aborted",B.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new B("Network Error",B.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let g=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const w=a.transitional||Rm;a.timeoutErrorMessage&&(g=a.timeoutErrorMessage),n(new B(g,w.clarifyTimeoutError?B.ETIMEDOUT:B.ECONNABORTED,e,y)),y=null},i===void 0&&l.setContentType(null),"setRequestHeader"in y&&_.forEach(l.toJSON(),function(g,w){y.setRequestHeader(w,g)}),_.isUndefined(a.withCredentials)||(y.withCredentials=!!a.withCredentials),o&&o!=="json"&&(y.responseType=a.responseType),u&&([f,b]=Yn(u,!0),y.addEventListener("progress",f)),c&&y.upload&&([x,j]=Yn(c),y.upload.addEventListener("progress",x),y.upload.addEventListener("loadend",j)),(a.cancelToken||a.signal)&&(h=d=>{y&&(n(!d||d.type?new Gr(null,e,y):d),y.abort(),y=null)},a.cancelToken&&a.cancelToken.subscribe(h),a.signal&&(a.signal.aborted?h():a.signal.addEventListener("abort",h)));const m=zf(a.url);if(m&&Se.protocols.indexOf(m)===-1){n(new B("Unsupported protocol "+m+":",B.ERR_BAD_REQUEST,e));return}y.send(i||null)})},Hf=(e,r)=>{const{length:s}=e=e?e.filter(Boolean):[];if(r||s){let n=new AbortController,a;const i=function(u){if(!a){a=!0,o();const h=u instanceof Error?u:this.reason;n.abort(h instanceof B?h:new Gr(h instanceof Error?h.message:h))}};let l=r&&setTimeout(()=>{l=null,i(new B(`timeout ${r} of ms exceeded`,B.ETIMEDOUT))},r);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>_.asap(o),c}},Wf=function*(e,r){let s=e.byteLength;if(s<r){yield e;return}let n=0,a;for(;n<s;)a=n+r,yield e.slice(n,a),n=a},qf=async function*(e,r){for await(const s of Gf(e))yield*Wf(s,r)},Gf=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:s,value:n}=await r.read();if(s)break;yield n}}finally{await r.cancel()}},Fc=(e,r,s,n)=>{const a=qf(e,r);let i=0,l,o=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await a.next();if(u){o(),c.close();return}let x=h.byteLength;if(s){let f=i+=x;s(f)}c.enqueue(new Uint8Array(h))}catch(u){throw o(u),u}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},wa=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Tm=wa&&typeof ReadableStream=="function",Qf=wa&&(typeof TextEncoder=="function"?(e=>r=>e.encode(r))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Am=(e,...r)=>{try{return!!e(...r)}catch{return!1}},Kf=Tm&&Am(()=>{let e=!1;const r=new Request(Se.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!r}),zc=64*1024,rl=Tm&&Am(()=>_.isReadableStream(new Response("").body)),Xn={stream:rl&&(e=>e.body)};wa&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!Xn[r]&&(Xn[r]=_.isFunction(e[r])?s=>s[r]():(s,n)=>{throw new B(`Response type '${r}' is not supported`,B.ERR_NOT_SUPPORT,n)})})})(new Response);const Jf=async e=>{if(e==null)return 0;if(_.isBlob(e))return e.size;if(_.isSpecCompliantForm(e))return(await new Request(Se.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(_.isArrayBufferView(e)||_.isArrayBuffer(e))return e.byteLength;if(_.isURLSearchParams(e)&&(e=e+""),_.isString(e))return(await Qf(e)).byteLength},Yf=async(e,r)=>{const s=_.toFiniteNumber(e.getContentLength());return s??Jf(r)},Xf=wa&&(async e=>{let{url:r,method:s,data:n,signal:a,cancelToken:i,timeout:l,onDownloadProgress:o,onUploadProgress:c,responseType:u,headers:h,withCredentials:x="same-origin",fetchOptions:f}=zm(e);u=u?(u+"").toLowerCase():"text";let j=Hf([a,i&&i.toAbortSignal()],l),b;const N=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let y;try{if(c&&Kf&&s!=="get"&&s!=="head"&&(y=await Yf(h,n))!==0){let w=new Request(r,{method:"POST",body:n,duplex:"half"}),k;if(_.isFormData(n)&&(k=w.headers.get("content-type"))&&h.setContentType(k),w.body){const[C,R]=Mc(y,Yn(Pc(c)));n=Fc(w.body,zc,C,R)}}_.isString(x)||(x=x?"include":"omit");const p="credentials"in Request.prototype;b=new Request(r,{...f,signal:j,method:s.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",credentials:p?x:void 0});let m=await fetch(b);const d=rl&&(u==="stream"||u==="response");if(rl&&(o||d&&N)){const w={};["status","statusText","headers"].forEach(z=>{w[z]=m[z]});const k=_.toFiniteNumber(m.headers.get("content-length")),[C,R]=o&&Mc(k,Yn(Pc(o),!0))||[];m=new Response(Fc(m.body,zc,C,()=>{R&&R(),N&&N()}),w)}u=u||"text";let g=await Xn[_.findKey(Xn,u)||"text"](m,e);return!d&&N&&N(),await new Promise((w,k)=>{Dm(w,k,{data:g,headers:Oe.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:b})})}catch(p){throw N&&N(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new B("Network Error",B.ERR_NETWORK,e,b),{cause:p.cause||p}):B.from(p,p&&p.code,e,b)}}),sl={http:xf,xhr:Uf,fetch:Xf};_.forEach(sl,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const Tc=e=>`- ${e}`,Zf=e=>_.isFunction(e)||e===null||e===!1,$m={getAdapter:e=>{e=_.isArray(e)?e:[e];const{length:r}=e;let s,n;const a={};for(let i=0;i<r;i++){s=e[i];let l;if(n=s,!Zf(s)&&(n=sl[(l=String(s)).toLowerCase()],n===void 0))throw new B(`Unknown adapter '${l}'`);if(n)break;a[l||"#"+i]=n}if(!n){const i=Object.entries(a).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(Tc).join(`
`):" "+Tc(i[0]):"as no adapter specified";throw new B("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:sl};function si(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gr(null,e)}function Ac(e){return si(e),e.headers=Oe.from(e.headers),e.data=ri.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$m.getAdapter(e.adapter||Us.adapter)(e).then(function(n){return si(e),n.data=ri.call(e,e.transformResponse,n),n.headers=Oe.from(n.headers),n},function(n){return Pm(n)||(si(e),n&&n.response&&(n.response.data=ri.call(e,e.transformResponse,n.response),n.response.headers=Oe.from(n.response.headers))),Promise.reject(n)})}const Bm="1.9.0",ka={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{ka[e]=function(n){return typeof n===e||"a"+(r<1?"n ":" ")+e}});const $c={};ka.transitional=function(r,s,n){function a(i,l){return"[Axios v"+Bm+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,o)=>{if(r===!1)throw new B(a(l," has been removed"+(s?" in "+s:"")),B.ERR_DEPRECATED);return s&&!$c[l]&&($c[l]=!0,console.warn(a(l," has been deprecated since v"+s+" and will be removed in the near future"))),r?r(i,l,o):!0}};ka.spelling=function(r){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${r}`),!0)};function eg(e,r,s){if(typeof e!="object")throw new B("options must be an object",B.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],l=r[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new B("option "+i+" must be "+c,B.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new B("Unknown option "+i,B.ERR_BAD_OPTION)}}const kn={assertOptions:eg,validators:ka},ot=kn.validators;let ir=class{constructor(r){this.defaults=r||{},this.interceptors={request:new Lc,response:new Lc}}async request(r,s){try{return await this._request(r,s)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(r,s){typeof r=="string"?(s=s||{},s.url=r):s=r||{},s=mr(this.defaults,s);const{transitional:n,paramsSerializer:a,headers:i}=s;n!==void 0&&kn.assertOptions(n,{silentJSONParsing:ot.transitional(ot.boolean),forcedJSONParsing:ot.transitional(ot.boolean),clarifyTimeoutError:ot.transitional(ot.boolean)},!1),a!=null&&(_.isFunction(a)?s.paramsSerializer={serialize:a}:kn.assertOptions(a,{encode:ot.function,serialize:ot.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),kn.assertOptions(s,{baseUrl:ot.spelling("baseURL"),withXsrfToken:ot.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=i&&_.merge(i.common,i[s.method]);i&&_.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),s.headers=Oe.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(s)===!1||(c=c&&N.synchronous,o.unshift(N.fulfilled,N.rejected))});const u=[];this.interceptors.response.forEach(function(N){u.push(N.fulfilled,N.rejected)});let h,x=0,f;if(!c){const b=[Ac.bind(this),void 0];for(b.unshift.apply(b,o),b.push.apply(b,u),f=b.length,h=Promise.resolve(s);x<f;)h=h.then(b[x++],b[x++]);return h}f=o.length;let j=s;for(x=0;x<f;){const b=o[x++],N=o[x++];try{j=b(j)}catch(y){N.call(this,y);break}}try{h=Ac.call(this,j)}catch(b){return Promise.reject(b)}for(x=0,f=u.length;x<f;)h=h.then(u[x++],u[x++]);return h}getUri(r){r=mr(this.defaults,r);const s=Fm(r.baseURL,r.url,r.allowAbsoluteUrls);return Lm(s,r.params,r.paramsSerializer)}};_.forEach(["delete","get","head","options"],function(r){ir.prototype[r]=function(s,n){return this.request(mr(n||{},{method:r,url:s,data:(n||{}).data}))}});_.forEach(["post","put","patch"],function(r){function s(n){return function(i,l,o){return this.request(mr(o||{},{method:r,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}ir.prototype[r]=s(),ir.prototype[r+"Form"]=s(!0)});let tg=class Om{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const l=new Promise(o=>{n.subscribe(o),i=o}).then(a);return l.cancel=function(){n.unsubscribe(i)},l},r(function(i,l,o){n.reason||(n.reason=new Gr(i,l,o),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const s=this._listeners.indexOf(r);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const r=new AbortController,s=n=>{r.abort(n)};return this.subscribe(s),r.signal.unsubscribe=()=>this.unsubscribe(s),r.signal}static source(){let r;return{token:new Om(function(a){r=a}),cancel:r}}};function rg(e){return function(s){return e.apply(null,s)}}function sg(e){return _.isObject(e)&&e.isAxiosError===!0}const nl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nl).forEach(([e,r])=>{nl[r]=e});function Im(e){const r=new ir(e),s=gm(ir.prototype.request,r);return _.extend(s,ir.prototype,r,{allOwnKeys:!0}),_.extend(s,r,null,{allOwnKeys:!0}),s.create=function(a){return Im(mr(e,a))},s}const Q=Im(Us);Q.Axios=ir;Q.CanceledError=Gr;Q.CancelToken=tg;Q.isCancel=Pm;Q.VERSION=Bm;Q.toFormData=Na;Q.AxiosError=B;Q.Cancel=Q.CanceledError;Q.all=function(r){return Promise.all(r)};Q.spread=rg;Q.isAxiosError=sg;Q.mergeConfig=mr;Q.AxiosHeaders=Oe;Q.formToJSON=e=>Mm(_.isHTMLForm(e)?new FormData(e):e);Q.getAdapter=$m.getAdapter;Q.HttpStatusCode=nl;Q.default=Q;const{Axios:Zg,AxiosError:ey,CanceledError:ty,isCancel:ry,CancelToken:sy,VERSION:ny,all:ay,Cancel:iy,isAxiosError:ly,spread:oy,toFormData:cy,AxiosHeaders:dy,HttpStatusCode:uy,formToJSON:my,getAdapter:xy,mergeConfig:hy}=Q,S=Q.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});S.interceptors.request.use(e=>{const r=localStorage.getItem("token");return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e));S.interceptors.response.use(e=>e,async e=>{const r=e.config;if(e.response.status===401&&!r._retry){r._retry=!0;try{const s=localStorage.getItem("refreshToken");if(!s)throw new Error("No refresh token available");const n=await Q.post("/api/auth/token/refresh/",{refresh:s});return localStorage.setItem("token",n.data.access),r.headers.Authorization=`Bearer ${n.data.access}`,S(r)}catch(s){return localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject(s)}}return Promise.reject(e)});const Le={login:async(e,r)=>{const s=await S.post("/auth/token/",{username:e,password:r});return localStorage.setItem("token",s.data.access),localStorage.setItem("refreshToken",s.data.refresh),s.data},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("refreshToken")},register:async e=>await S.post("/auth/register/",e),forgotPassword:async e=>await S.post("/auth/password-reset/",{email:e}),resetPassword:async(e,r)=>await S.post("/auth/password-reset/confirm/",{token:e,password:r}),getCurrentUser:async()=>await S.get("/auth/user/"),updateProfile:async e=>await S.put("/auth/user/",e),setup2FA:async()=>await S.post("/auth/2fa/setup/"),verify2FA:async e=>await S.post("/auth/2fa/verify/",{code:e}),disable2FA:async()=>await S.post("/auth/2fa/disable/")},Vm={getAllMembers:async e=>await S.get("/members/",{params:e}),getMember:async e=>await S.get(`/members/${e}/`),createMember:async e=>await S.post("/members/",e),updateMember:async(e,r)=>await S.put(`/members/${e}/`,r),deleteMember:async e=>await S.delete(`/members/${e}/`),getMemberDocuments:async e=>await S.get(`/members/${e}/documents/`),uploadMemberDocument:async(e,r)=>{const s=new FormData;for(const n in r)s.append(n,r[n]);return await S.post(`/members/${e}/documents/`,s,{headers:{"Content-Type":"multipart/form-data"}})},getMemberProgress:async e=>await S.get(`/members/${e}/progress/`),updateMemberProgress:async(e,r)=>await S.post(`/members/${e}/progress/`,r),getMemberAttendance:async(e,r)=>await S.get(`/members/${e}/attendance/`,{params:r})},se={getAllFees:async e=>await S.get("/treasury/fees/",{params:e}),getFee:async e=>await S.get(`/treasury/fees/${e}/`),createFee:async e=>await S.post("/treasury/fees/",e),updateFee:async(e,r)=>await S.put(`/treasury/fees/${e}/`,r),deleteFee:async e=>await S.delete(`/treasury/fees/${e}/`),getAllPayments:async e=>await S.get("/treasury/payments/",{params:e}),getPayment:async e=>await S.get(`/treasury/payments/${e}/`),createPayment:async e=>await S.post("/treasury/payments/",e),updatePayment:async(e,r)=>await S.put(`/treasury/payments/${e}/`,r),markPaymentAsCompleted:async e=>await S.post(`/treasury/payments/${e}/complete/`),getAllInvoices:async e=>await S.get("/treasury/invoices/",{params:e}),getInvoice:async e=>await S.get(`/treasury/invoices/${e}/`),createInvoice:async e=>await S.post("/treasury/invoices/",e),getFinancialReports:async e=>await S.get("/treasury/reports/",{params:e}),generateFinancialReport:async e=>await S.post("/treasury/reports/generate/",e)},Um={getAllEvents:async e=>await S.get("/communications/events/",{params:e}),getEvent:async e=>await S.get(`/communications/events/${e}/`),createEvent:async e=>await S.post("/communications/events/",e),updateEvent:async(e,r)=>await S.put(`/communications/events/${e}/`,r),deleteEvent:async e=>await S.delete(`/communications/events/${e}/`),markEventAsCompleted:async e=>await S.post(`/communications/events/${e}/mark_as_completed/`),cancelEvent:async e=>await S.post(`/communications/events/${e}/cancel/`),getEventAttendees:async e=>await S.get(`/communications/events/${e}/attendees/`),getAllNotifications:async e=>await S.get("/communications/notifications/",{params:e}),getNotification:async e=>await S.get(`/communications/notifications/${e}/`),createNotification:async e=>await S.post("/communications/notifications/",e),markNotificationAsRead:async e=>await S.post(`/communications/notifications/${e}/mark_as_read/`),getAllMessages:async e=>await S.get("/communications/messages/",{params:e}),getMessage:async e=>await S.get(`/communications/messages/${e}/`),sendMessage:async e=>await S.post("/communications/messages/",e),starMessage:async e=>await S.post(`/communications/messages/${e}/star/`),unstarMessage:async e=>await S.post(`/communications/messages/${e}/unstar/`),archiveMessage:async e=>await S.post(`/communications/messages/${e}/archive/`),unarchiveMessage:async e=>await S.post(`/communications/messages/${e}/unarchive/`),getAllCalendars:async e=>await S.get("/communications/calendars/",{params:e}),getCalendar:async e=>await S.get(`/communications/calendars/${e}/`),createCalendar:async e=>await S.post("/communications/calendars/",e),addEventToCalendar:async(e,r)=>await S.post(`/communications/calendars/${e}/add_event/`,r)},X={getAllRitualPlans:async e=>await S.get("/rituals/plans/",{params:e}),getRitualPlan:async e=>await S.get(`/rituals/plans/${e}/`),createRitualPlan:async e=>await S.post("/rituals/plans/",e),updateRitualPlan:async(e,r)=>await S.put(`/rituals/plans/${e}/`,r),approveRitualPlan:async e=>await S.post(`/rituals/plans/${e}/approve/`),markRitualPlanAsCompleted:async e=>await S.post(`/rituals/plans/${e}/mark_as_completed/`),cancelRitualPlan:async e=>await S.post(`/rituals/plans/${e}/cancel/`),getRitualRoles:async e=>await S.get(`/rituals/plans/${e}/roles/`),addRitualRole:async(e,r)=>await S.post(`/rituals/plans/${e}/add_role/`,r),assignRitualRole:async(e,r)=>await S.post(`/rituals/roles/${e}/assign/`,{user_id:r}),confirmRitualRole:async e=>await S.post(`/rituals/roles/${e}/confirm/`),getRitualWorks:async e=>await S.get(`/rituals/plans/${e}/works/`),addRitualWork:async(e,r)=>await S.post(`/rituals/plans/${e}/add_work/`,r),updateRitualWorkStatus:async(e,r)=>await S.post(`/rituals/works/${e}/update_status/`,{status:r}),getRitualAttachments:async e=>await S.get(`/rituals/plans/${e}/attachments/`),addRitualAttachment:async(e,r)=>{const s=new FormData;for(const n in r)s.append(n,r[n]);return await S.post(`/rituals/plans/${e}/add_attachment/`,s,{headers:{"Content-Type":"multipart/form-data"}})}},ge={getAllCategories:async e=>await S.get("/library/categories/",{params:e}),getCategory:async e=>await S.get(`/library/categories/${e}/`),createCategory:async e=>await S.post("/library/categories/",e),updateCategory:async(e,r)=>await S.put(`/library/categories/${e}/`,r),deleteCategory:async e=>await S.delete(`/library/categories/${e}/`),getCategoryDocuments:async e=>await S.get(`/library/categories/${e}/documents/`),getAllDocuments:async e=>await S.get("/library/documents/",{params:e}),getDocument:async e=>await S.get(`/library/documents/${e}/`),uploadDocument:async e=>{const r=new FormData;for(const s in e)r.append(s,e[s]);return await S.post("/library/documents/",r,{headers:{"Content-Type":"multipart/form-data"}})},updateDocument:async(e,r)=>{const s=new FormData;for(const n in r)s.append(n,r[n]);return await S.put(`/library/documents/${e}/`,s,{headers:{"Content-Type":"multipart/form-data"}})},deleteDocument:async e=>await S.delete(`/library/documents/${e}/`),downloadDocument:async e=>await S.post(`/library/documents/${e}/download/`),addDocumentComment:async(e,r)=>await S.post(`/library/documents/${e}/add_comment/`,r),rateDocument:async(e,r)=>await S.post(`/library/documents/${e}/rate/`,{rating:r}),toggleFeaturedDocument:async e=>await S.post(`/library/documents/${e}/toggle_featured/`)},de={getLodgeConfiguration:async()=>await S.get("/core/configuration/current/"),updateLodgeConfiguration:async e=>{const r=new FormData;for(const s in e)r.append(s,e[s]);return await S.put("/core/configuration/1/",r,{headers:{"Content-Type":"multipart/form-data"}})},getSystemLogs:async e=>await S.get("/core/logs/",{params:e}),addSystemLog:async e=>await S.post("/core/logs/add_log/",e),getBackupConfiguration:async()=>await S.get("/core/backup-configuration/current/"),updateBackupConfiguration:async e=>await S.put("/core/backup-configuration/1/",e),getAllBackups:async e=>await S.get("/core/backups/",{params:e}),createBackup:async()=>await S.post("/core/backups/create_backup/"),restoreBackup:async e=>await S.post(`/core/backups/${e}/restore/`),getSystemHealth:async()=>await S.get("/core/health/current/"),getSystemHealthSummary:async()=>await S.get("/core/health/summary/")};class ls extends Error{}ls.prototype.name="InvalidTokenError";function ng(e){return decodeURIComponent(atob(e).replace(/(.)/g,(r,s)=>{let n=s.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function ag(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return ng(r)}catch{return atob(r)}}function ig(e,r){if(typeof e!="string")throw new ls("Invalid token specified: must be a string");r||(r={});const s=r.header===!0?0:1,n=e.split(".")[s];if(typeof n!="string")throw new ls(`Invalid token specified: missing part #${s+1}`);let a;try{a=ag(n)}catch(i){throw new ls(`Invalid token specified: invalid base64 for part #${s+1} (${i.message})`)}try{return JSON.parse(a)}catch(i){throw new ls(`Invalid token specified: invalid json for part #${s+1} (${i.message})`)}}const Hm=v.createContext(),G=()=>v.useContext(Hm),lg=({children:e})=>{const[r,s]=v.useState(null),[n,a]=v.useState(!0),[i,l]=v.useState(null),[o,c]=v.useState(!1),[u,h]=v.useState(null),x=W();v.useEffect(()=>{(async()=>{try{const P=localStorage.getItem("token");if(P){const I=ig(P),A=Date.now()/1e3;if(I.exp<A)try{const L=localStorage.getItem("refreshToken");if(L){const $=await Le.refreshToken(L);localStorage.setItem("token",$.data.access);const V=await Le.getCurrentUser();s(V.data),c(!0),V.data.roles&&V.data.roles.length>0&&h(V.data.roles[0])}else b()}catch{b()}else try{const L=await Le.getCurrentUser();s(L.data),c(!0),L.data.roles&&L.data.roles.length>0&&h(L.data.roles[0])}catch{b()}}}catch(P){l(P.message)}finally{a(!1)}})()},[x]);const f=async(z,P)=>{var I,A,L,$;try{a(!0),l(null);const V=await Le.login(z,P);if(V.requires_2fa)return localStorage.setItem("temp_token",V.temp_token),x("/auth/verify-2fa"),{requires_2fa:!0};localStorage.setItem("token",V.access),localStorage.setItem("refreshToken",V.refresh);const he=await Le.getCurrentUser();return s(he.data),c(!0),he.data.roles&&he.data.roles.length>0&&h(he.data.roles[0]),{success:!0}}catch(V){return l(((A=(I=V.response)==null?void 0:I.data)==null?void 0:A.detail)||"Error al iniciar sesión"),{success:!1,error:(($=(L=V.response)==null?void 0:L.data)==null?void 0:$.detail)||"Error al iniciar sesión"}}finally{a(!1)}},j=async z=>{var P,I,A,L;try{if(a(!0),l(null),!localStorage.getItem("temp_token"))throw new Error("No hay token temporal para verificación 2FA");const V=await Le.verify2FA(z);localStorage.removeItem("temp_token"),localStorage.setItem("token",V.access),localStorage.setItem("refreshToken",V.refresh);const he=await Le.getCurrentUser();return s(he.data),c(!0),he.data.roles&&he.data.roles.length>0&&h(he.data.roles[0]),{success:!0}}catch($){return l(((I=(P=$.response)==null?void 0:P.data)==null?void 0:I.detail)||"Error al verificar código 2FA"),{success:!1,error:((L=(A=$.response)==null?void 0:A.data)==null?void 0:L.detail)||"Error al verificar código 2FA"}}finally{a(!1)}},b=()=>{Le.logout(),s(null),c(!1),h(null),x("/login")},R={currentUser:r,loading:n,error:i,isAuthenticated:o,userRole:u,login:f,logout:b,register:async z=>{var P,I,A,L;try{return a(!0),l(null),await Le.register(z),{success:!0}}catch($){return l(((I=(P=$.response)==null?void 0:P.data)==null?void 0:I.detail)||"Error al registrar usuario"),{success:!1,error:((L=(A=$.response)==null?void 0:A.data)==null?void 0:L.detail)||"Error al registrar usuario"}}finally{a(!1)}},forgotPassword:async z=>{var P,I,A,L;try{return a(!0),l(null),await Le.forgotPassword(z),{success:!0}}catch($){return l(((I=(P=$.response)==null?void 0:P.data)==null?void 0:I.detail)||"Error al solicitar restablecimiento de contraseña"),{success:!1,error:((L=(A=$.response)==null?void 0:A.data)==null?void 0:L.detail)||"Error al solicitar restablecimiento de contraseña"}}finally{a(!1)}},resetPassword:async(z,P)=>{var I,A,L,$;try{return a(!0),l(null),await Le.resetPassword(z,P),{success:!0}}catch(V){return l(((A=(I=V.response)==null?void 0:I.data)==null?void 0:A.detail)||"Error al restablecer contraseña"),{success:!1,error:(($=(L=V.response)==null?void 0:L.data)==null?void 0:$.detail)||"Error al restablecer contraseña"}}finally{a(!1)}},updateProfile:async z=>{var P,I,A,L;try{a(!0),l(null);const $=await Le.updateProfile(z);return s($.data),$.data.roles&&$.data.roles.length>0&&h($.data.roles[0]),{success:!0}}catch($){return l(((I=(P=$.response)==null?void 0:P.data)==null?void 0:I.detail)||"Error al actualizar perfil"),{success:!1,error:((L=(A=$.response)==null?void 0:A.data)==null?void 0:L.detail)||"Error al actualizar perfil"}}finally{a(!1)}},setup2FA:async()=>{var z,P,I,A;try{return a(!0),l(null),{success:!0,data:(await Le.setup2FA()).data}}catch(L){return l(((P=(z=L.response)==null?void 0:z.data)==null?void 0:P.detail)||"Error al configurar 2FA"),{success:!1,error:((A=(I=L.response)==null?void 0:I.data)==null?void 0:A.detail)||"Error al configurar 2FA"}}finally{a(!1)}},verify2FA:j,disable2FA:async()=>{var z,P,I,A;try{a(!0),l(null),await Le.disable2FA();const L=await Le.getCurrentUser();return s(L.data),{success:!0}}catch(L){return l(((P=(z=L.response)==null?void 0:z.data)==null?void 0:P.detail)||"Error al deshabilitar 2FA"),{success:!1,error:((A=(I=L.response)==null?void 0:I.data)==null?void 0:A.detail)||"Error al deshabilitar 2FA"}}finally{a(!1)}},hasRole:z=>!r||!r.roles?!1:r.roles.includes(z),hasDegree:z=>!r||!r.degree?!1:r.degree>=z,hasOffice:z=>!r||!r.office?!1:r.office===z};return t.jsx(Hm.Provider,{value:R,children:n?t.jsx("div",{children:"Cargando..."}):e})},Wm=v.createContext(),je=()=>{const e=v.useContext(Wm);if(console.log("Contexto de Notificação:",e),!e)throw new Error("useNotification must be used within a NotificationProvider");return e},og=({children:e})=>{const[r,s]=v.useState([]),n=(u,h="info",x=5e3)=>{const f=Date.now();return s(j=>[...j,{id:f,message:u,type:h,duration:x}]),x>0&&setTimeout(()=>{a(f)},x),f},a=u=>{s(h=>h.filter(x=>x.id!==u))},i=()=>{s([])},l=()=>t.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:r.map(u=>t.jsxs("div",{className:`px-4 py-3 rounded-lg shadow-md flex items-start justify-between transition-all duration-300 transform translate-x-0 ${u.read?"opacity-50":""} ${u.type==="success"?"bg-green-100 text-green-800 border-l-4 border-green-500":u.type==="error"?"bg-red-100 text-red-800 border-l-4 border-red-500":u.type==="warning"?"bg-yellow-100 text-yellow-800 border-l-4 border-yellow-500":"bg-blue-100 text-blue-800 border-l-4 border-blue-500"}`,children:[t.jsx("div",{className:"flex-1 mr-2",children:t.jsx("p",{className:"text-sm font-medium",children:u.message})}),t.jsx("button",{onClick:()=>{a(u.id),o(u.id)},className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},u.id))}),o=u=>{s(h=>h.map(x=>x.id===u?{...x,read:!0}:x))},c={notifications:r,showNotification:n,removeNotification:a,clearAllNotifications:i,markAsRead:o};return t.jsxs(Wm.Provider,{value:c,children:[e,t.jsx(l,{})]})},qm=v.createContext(),_a=()=>v.useContext(qm),cg=({children:e})=>{const{showNotification:r}=je(),[s,n]=v.useState({lodgeName:"Logia Luz y Verdad",lodgeNumber:"79",grandLodge:"Gran Logia de la Jurisdicción",language:localStorage.getItem("language")||"es",theme:localStorage.getItem("theme")||"light",dateFormat:localStorage.getItem("dateFormat")||"DD/MM/YYYY",timeFormat:localStorage.getItem("timeFormat")||"24h",currency:localStorage.getItem("currency")||"USD",isLoaded:!1});v.useEffect(()=>{(async()=>{try{const u=await Q.get("http://localhost:8000/config");n(h=>({...h,isLoaded:!0,...u.data}))}catch(u){console.error("Erro ao carregar a configuração:",u),r("Erro ao carregar a configuração do sistema","error")}})()},[r]);const a=async c=>{try{const u=await Q.put("http://localhost:8000/config",c);return n({...c,isLoaded:!0}),c.language&&localStorage.setItem("language",c.language),c.theme&&localStorage.setItem("theme",c.theme),c.dateFormat&&localStorage.setItem("dateFormat",c.dateFormat),c.timeFormat&&localStorage.setItem("timeFormat",c.timeFormat),c.currency&&localStorage.setItem("currency",c.currency),r("Configuração atualizada com sucesso","success"),!0}catch(u){return console.error("Erro ao atualizar a configuração:",u),r("Erro ao atualizar a configuração","error"),!1}},i=c=>{a({...s,language:c})},l=c=>{a({...s,theme:c}),c==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};v.useEffect(()=>{s.theme==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s.theme]);const o={config:s,updateConfig:a,changeLanguage:i,changeTheme:l};return t.jsx(qm.Provider,{value:o,children:e})},dg=()=>{var c,u;const{currentUser:e,logout:r}=G(),s=kt(),n=W(),[a,i]=v.useState(!1);v.useEffect(()=>{e||n("/login")},[e,n]);const l=()=>{r(),n("/login")},o=h=>s.pathname.startsWith(h);return t.jsxs("div",{className:"flex h-screen bg-gray-100",children:[t.jsxs("aside",{className:"hidden md:flex flex-col w-64 bg-primary text-white",children:[t.jsxs("div",{className:"p-4 border-b border-primary-light",children:[t.jsx("h1",{className:"text-xl font-semibold",children:"Luz y Verdad"}),t.jsx("p",{className:"text-sm opacity-75",children:"Sistema de Gestión Masónica"})]}),t.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:t.jsxs("ul",{className:"space-y-1",children:[t.jsx("li",{children:t.jsxs(T,{to:"/",className:`flex items-center px-4 py-3 ${o("/")&&s.pathname==="/"?"bg-primary-dark":"hover:bg-primary-light"}`,children:[t.jsx("span",{className:"material-icons mr-3",children:"dashboard"}),t.jsx("span",{children:"Dashboard"})]})}),t.jsx("li",{children:t.jsxs(T,{to:"/members",className:`flex items-center px-4 py-3 ${o("/members")?"bg-primary-dark":"hover:bg-primary-light"}`,children:[t.jsx("span",{className:"material-icons mr-3",children:"people"}),t.jsx("span",{children:"Hermanos"})]})}),t.jsx("li",{children:t.jsxs(T,{to:"/treasury",className:`flex items-center px-4 py-3 ${o("/treasury")?"bg-primary-dark":"hover:bg-primary-light"}`,children:[t.jsx("span",{className:"material-icons mr-3",children:"account_balance"}),t.jsx("span",{children:"Tesorería"})]})}),t.jsx("li",{children:t.jsxs(T,{to:"/communications/notifications",className:`flex items-center px-4 py-3 ${o("/communications")?"bg-primary-dark":"hover:bg-primary-light"}`,children:[t.jsx("span",{className:"material-icons mr-3",children:"notifications"}),t.jsx("span",{children:"Comunicaciones"})]})}),t.jsx("li",{children:t.jsxs(T,{to:"/rituals",className:`flex items-center px-4 py-3 ${o("/rituals")?"bg-primary-dark":"hover:bg-primary-light"}`,children:[t.jsx("span",{className:"material-icons mr-3",children:"book"}),t.jsx("span",{children:"Planificación Ritual"})]})}),t.jsx("li",{children:t.jsxs(T,{to:"/library",className:`flex items-center px-4 py-3 ${o("/library")?"bg-primary-dark":"hover:bg-primary-light"}`,children:[t.jsx("span",{className:"material-icons mr-3",children:"library_books"}),t.jsx("span",{children:"Biblioteca"})]})}),(e==null?void 0:e.degree)>=3&&t.jsx("li",{children:t.jsxs(T,{to:"/admin",className:`flex items-center px-4 py-3 ${o("/admin")?"bg-primary-dark":"hover:bg-primary-light"}`,children:[t.jsx("span",{className:"material-icons mr-3",children:"admin_panel_settings"}),t.jsx("span",{children:"Administración"})]})})]})}),t.jsx("div",{className:"p-4 border-t border-primary-light",children:t.jsxs("button",{onClick:l,className:"flex items-center w-full px-4 py-2 text-sm rounded hover:bg-primary-light",children:[t.jsx("span",{className:"material-icons mr-3",children:"logout"}),t.jsx("span",{children:"Cerrar Sesión"})]})})]}),t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx("header",{className:"bg-white shadow-sm z-10",children:t.jsxs("div",{className:"flex items-center justify-between p-4",children:[t.jsx("button",{className:"md:hidden text-gray-600",onClick:()=>i(!a),children:t.jsx("span",{className:"material-icons",children:a?"close":"menu"})}),t.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:s.pathname==="/"?"Dashboard":s.pathname.startsWith("/members")?"Gestión de Hermanos":s.pathname.startsWith("/treasury")?"Tesorería":s.pathname.startsWith("/communications")?"Comunicaciones":s.pathname.startsWith("/rituals")?"Planificación Ritual":s.pathname.startsWith("/library")?"Biblioteca Digital":s.pathname.startsWith("/admin")?"Administración":""}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"mr-2 text-sm hidden sm:block",children:(e==null?void 0:e.symbolic_name)||(e==null?void 0:e.username)}),t.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center text-white",children:((c=e==null?void 0:e.symbolic_name)==null?void 0:c[0])||((u=e==null?void 0:e.username)==null?void 0:u[0])||"U"})]})]})}),a&&t.jsx("div",{className:"md:hidden fixed inset-0 z-20 bg-black bg-opacity-50",children:t.jsxs("div",{className:"w-64 h-full bg-primary text-white",children:[t.jsxs("div",{className:"p-4 border-b border-primary-light",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-xl font-semibold",children:"Luz y Verdad"}),t.jsx("button",{onClick:()=>i(!1),children:t.jsx("span",{className:"material-icons",children:"close"})})]}),t.jsx("p",{className:"text-sm opacity-75",children:"Sistema de Gestión Masónica"})]}),t.jsx("nav",{className:"py-4",children:t.jsxs("ul",{className:"space-y-1",children:[t.jsx("li",{children:t.jsxs(T,{to:"/",className:`flex items-center px-4 py-3 ${o("/")&&s.pathname==="/"?"bg-primary-dark":"hover:bg-primary-light"}`,onClick:()=>i(!1),children:[t.jsx("span",{className:"material-icons mr-3",children:"dashboard"}),t.jsx("span",{children:"Dashboard"})]})}),t.jsx("li",{children:t.jsxs(T,{to:"/members",className:`flex items-center px-4 py-3 ${o("/members")?"bg-primary-dark":"hover:bg-primary-light"}`,onClick:()=>i(!1),children:[t.jsx("span",{className:"material-icons mr-3",children:"people"}),t.jsx("span",{children:"Hermanos"})]})}),t.jsx("li",{children:t.jsxs(T,{to:"/treasury",className:`flex items-center px-4 py-3 ${o("/treasury")?"bg-primary-dark":"hover:bg-primary-light"}`,onClick:()=>i(!1),children:[t.jsx("span",{className:"material-icons mr-3",children:"account_balance"}),t.jsx("span",{children:"Tesorería"})]})}),t.jsx("li",{children:t.jsxs(T,{to:"/communications/notifications",className:`flex items-center px-4 py-3 ${o("/communications")?"bg-primary-dark":"hover:bg-primary-light"}`,onClick:()=>i(!1),children:[t.jsx("span",{className:"material-icons mr-3",children:"notifications"}),t.jsx("span",{children:"Comunicaciones"})]})}),t.jsx("li",{children:t.jsxs(T,{to:"/rituals",className:`flex items-center px-4 py-3 ${o("/rituals")?"bg-primary-dark":"hover:bg-primary-light"}`,onClick:()=>i(!1),children:[t.jsx("span",{className:"material-icons mr-3",children:"book"}),t.jsx("span",{children:"Planificación Ritual"})]})}),t.jsx("li",{children:t.jsxs(T,{to:"/library",className:`flex items-center px-4 py-3 ${o("/library")?"bg-primary-dark":"hover:bg-primary-light"}`,onClick:()=>i(!1),children:[t.jsx("span",{className:"material-icons mr-3",children:"library_books"}),t.jsx("span",{children:"Biblioteca"})]})}),(e==null?void 0:e.degree)>=3&&t.jsx("li",{children:t.jsxs(T,{to:"/admin",className:`flex items-center px-4 py-3 ${o("/admin")?"bg-primary-dark":"hover:bg-primary-light"}`,onClick:()=>i(!1),children:[t.jsx("span",{className:"material-icons mr-3",children:"admin_panel_settings"}),t.jsx("span",{children:"Administración"})]})})]})}),t.jsx("div",{className:"p-4 border-t border-primary-light",children:t.jsxs("button",{onClick:l,className:"flex items-center w-full px-4 py-2 text-sm rounded hover:bg-primary-light",children:[t.jsx("span",{className:"material-icons mr-3",children:"logout"}),t.jsx("span",{children:"Cerrar Sesión"})]})})]})}),t.jsx("main",{className:"flex-1 overflow-y-auto p-4",children:t.jsx(fm,{})})]})]})},ug=()=>{const{error:e}=G();return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:t.jsxs("div",{className:"max-w-md w-full p-6 bg-white rounded-lg shadow-lg",children:[t.jsx("div",{className:"flex justify-center mb-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-primary mb-2",children:"Luz y Verdad"}),t.jsx("p",{className:"text-gray-600",children:"Sistema de Gestión Masónica"})]})}),e&&t.jsx("div",{className:"mb-4 p-3 bg-red-100 border-l-4 border-red-500 text-red-700",children:t.jsx("p",{children:e})}),t.jsx(fm,{}),t.jsx("div",{className:"mt-8 text-center text-sm text-gray-600",children:t.jsxs("p",{children:["© ",new Date().getFullYear()," Luz y Verdad. Todos los derechos reservados."]})})]})})},mg=()=>{const[e,r]=v.useState(""),[s,n]=v.useState(""),[a,i]=v.useState(!1),[l,o]=v.useState(""),{login:c}=G(),{lodgeConfig:u}=_a(),h=W();v.useEffect(()=>{localStorage.getItem("token")&&h("/")},[h]);const x=async f=>{f.preventDefault(),i(!0),o("");try{const j=await c(e,s);j.requires_2fa?h("/auth/verify-2fa"):j.success?h("/"):o(j.error||"Error al iniciar sesión")}catch(j){o("Error al conectar con el servidor"),console.error(j)}finally{i(!1)}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:t.jsxs("div",{className:"max-w-md w-full space-y-8 p-10 bg-white rounded-xl shadow-lg",children:[t.jsxs("div",{className:"text-center",children:[u!=null&&u.logo?t.jsx("img",{className:"mx-auto h-24 w-auto",src:u.logo,alt:"Logo de la Logia"}):t.jsx("div",{className:"flex justify-center",children:t.jsx("svg",{className:"h-24 w-24 text-indigo-900",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),t.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:(u==null?void 0:u.lodge_name)||"Luz y Verdad"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sistema de Gestión Masónica"})]}),t.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[l&&t.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:t.jsx("span",{className:"block sm:inline",children:l})}),t.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"username",className:"sr-only",children:"Nombre de usuario"}),t.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Nombre de usuario",value:e,onChange:f=>r(f.target.value)})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"sr-only",children:"Contraseña"}),t.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Contraseña",value:s,onChange:f=>n(f.target.value)})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),t.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Recordarme"})]}),t.jsx("div",{className:"text-sm",children:t.jsx("a",{href:"/auth/forgot-password",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"¿Olvidaste tu contraseña?"})})]}),t.jsx("div",{children:t.jsxs("button",{type:"submit",disabled:a,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ${a?"bg-indigo-400":"bg-indigo-600 hover:bg-indigo-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`,children:[a?t.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:t.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):t.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:t.jsx("svg",{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),a?"Iniciando sesión...":"Iniciar sesión"]})})]})]})})},xg=()=>{const[e,r]=v.useState(""),[s,n]=v.useState(!1),[a,i]=v.useState(""),[l,o]=v.useState(!1),{forgotPassword:c}=G(),{lodgeConfig:u}=_a(),h=W(),x=async f=>{f.preventDefault(),n(!0),i(""),o(!1);try{const j=await c(e);j.success?o(!0):i(j.error||"Error al procesar la solicitud")}catch(j){i("Error al conectar con el servidor"),console.error(j)}finally{n(!1)}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:t.jsxs("div",{className:"max-w-md w-full space-y-8 p-10 bg-white rounded-xl shadow-lg",children:[t.jsxs("div",{className:"text-center",children:[u!=null&&u.logo?t.jsx("img",{className:"mx-auto h-24 w-auto",src:u.logo,alt:"Logo de la Logia"}):t.jsx("div",{className:"flex justify-center",children:t.jsx("svg",{className:"h-24 w-24 text-indigo-900",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),t.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Recuperar contraseña"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Ingresa tu correo electrónico para recibir instrucciones"})]}),l?t.jsxs("div",{className:"mt-8",children:[t.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:[t.jsx("p",{className:"font-bold",children:"Solicitud enviada"}),t.jsx("p",{className:"block sm:inline",children:"Se han enviado instrucciones a tu correo electrónico para restablecer tu contraseña."})]}),t.jsx("div",{className:"mt-6",children:t.jsx("button",{onClick:()=>h("/auth/login"),className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Volver al inicio de sesión"})})]}):t.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[a&&t.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:t.jsx("span",{className:"block sm:inline",children:a})}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo electrónico"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"tu@correo.com",value:e,onChange:f=>r(f.target.value)})})]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("div",{className:"text-sm",children:t.jsx("a",{href:"/auth/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Volver al inicio de sesión"})})}),t.jsx("div",{children:t.jsx("button",{type:"submit",disabled:s,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ${s?"bg-indigo-400":"bg-indigo-600 hover:bg-indigo-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`,children:s?"Enviando...":"Enviar instrucciones"})})]})]})})},hg=()=>{const[e,r]=v.useState(""),[s,n]=v.useState(""),[a,i]=v.useState(!1),[l,o]=v.useState(""),[c,u]=v.useState(!1),{resetPassword:h}=G(),{lodgeConfig:x}=_a(),{token:f}=ve(),j=W();v.useEffect(()=>{f||o("Token de restablecimiento no válido")},[f]);const b=async N=>{if(N.preventDefault(),e!==s){o("Las contraseñas no coinciden");return}if(e.length<8){o("La contraseña debe tener al menos 8 caracteres");return}i(!0),o(""),u(!1);try{const y=await h(f,e);y.success?u(!0):o(y.error||"Error al restablecer la contraseña")}catch(y){o("Error al conectar con el servidor"),console.error(y)}finally{i(!1)}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:t.jsxs("div",{className:"max-w-md w-full space-y-8 p-10 bg-white rounded-xl shadow-lg",children:[t.jsxs("div",{className:"text-center",children:[x!=null&&x.logo?t.jsx("img",{className:"mx-auto h-24 w-auto",src:x.logo,alt:"Logo de la Logia"}):t.jsx("div",{className:"flex justify-center",children:t.jsx("svg",{className:"h-24 w-24 text-indigo-900",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),t.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Restablecer contraseña"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Ingresa tu nueva contraseña"})]}),c?t.jsxs("div",{className:"mt-8",children:[t.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:[t.jsx("p",{className:"font-bold",children:"Contraseña restablecida"}),t.jsx("p",{className:"block sm:inline",children:"Tu contraseña ha sido restablecida correctamente. Ya puedes iniciar sesión con tu nueva contraseña."})]}),t.jsx("div",{className:"mt-6",children:t.jsx("button",{onClick:()=>j("/auth/login"),className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ir al inicio de sesión"})})]}):t.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[l&&t.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:t.jsx("span",{className:"block sm:inline",children:l})}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Nueva contraseña"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:e,onChange:N=>r(N.target.value)})})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirmar contraseña"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:s,onChange:N=>n(N.target.value)})})]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("div",{className:"text-sm",children:t.jsx("a",{href:"/auth/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Volver al inicio de sesión"})})}),t.jsx("div",{children:t.jsx("button",{type:"submit",disabled:a,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ${a?"bg-indigo-400":"bg-indigo-600 hover:bg-indigo-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`,children:a?"Procesando...":"Restablecer contraseña"})})]})]})})},pg=()=>{const{currentUser:e}=G(),{lodgeConfig:r}=_a(),{notifications:s,markAsRead:n}=je(),[a,i]=v.useState({totalMembers:0,activeMembers:0,pendingPayments:0,upcomingEvents:[],recentDocuments:[],treasuryBalance:0,systemHealth:{}}),[l,o]=v.useState(!0),[c,u]=v.useState(null);v.useEffect(()=>{(async()=>{try{o(!0);const f=await Vm.getAllMembers({limit:1}),j=f.data.count||0,b=f.data.active_count||0,y=(await se.getAllPayments({status:"pending"})).data.count||0,m=(await Um.getAllEvents({upcoming:!0,limit:5})).data.results||[],g=(await se.getFinancialReports({latest:!0})).data.balance||0;let w={};if(e.degree>=3)try{w=(await de.getSystemHealthSummary()).data}catch(k){console.error("Error al obtener estado del sistema:",k)}i({totalMembers:j,activeMembers:b,pendingPayments:y,upcomingEvents:m,treasuryBalance:g,systemHealth:w})}catch(f){u("Error al cargar los datos del dashboard"),console.error("Error al cargar dashboard:",f)}finally{o(!1)}})()},[e]);const h=async x=>{await n(x)};return t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-8",children:[t.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Bienvenido, ",(e==null?void 0:e.symbolic_name)||(e==null?void 0:e.username)]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),t.jsxs("p",{className:"text-sm font-medium text-indigo-600",children:[e!=null&&e.office?`${e.office}`:"",e!=null&&e.office&&(e!=null&&e.degree)?" · ":"",(e==null?void 0:e.degree)===1?"Aprendiz":(e==null?void 0:e.degree)===2?"Compañero":(e==null?void 0:e.degree)===3?"Maestro Masón":""]})]})]}),c&&t.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:t.jsx("span",{className:"block sm:inline",children:c})}),l?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Miembros"}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"bg-indigo-100 rounded-full p-3 mr-4",children:t.jsx("svg",{className:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:a.totalMembers}),t.jsx("p",{className:"text-sm text-gray-500",children:"Total de miembros"})]})]}),t.jsx("div",{className:"mt-4",children:t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium text-green-600",children:a.activeMembers})," miembros activos"]})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Tesorería"}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"bg-green-100 rounded-full p-3 mr-4",children:t.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",a.treasuryBalance.toLocaleString()]}),t.jsx("p",{className:"text-sm text-gray-500",children:"Balance actual"})]})]}),t.jsx("div",{className:"mt-4",children:t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium text-amber-600",children:a.pendingPayments})," pagos pendientes"]})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Estado del Sistema"}),(e==null?void 0:e.degree)>=3?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`bg-${a.systemHealth.status==="healthy"?"green":a.systemHealth.status==="warning"?"amber":"red"}-100 rounded-full p-3 mr-4`,children:t.jsx("svg",{className:`h-6 w-6 text-${a.systemHealth.status==="healthy"?"green":a.systemHealth.status==="warning"?"amber":"red"}-600`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xl font-bold text-gray-900",children:a.systemHealth.status==="healthy"?"Saludable":a.systemHealth.status==="warning"?"Advertencia":"Crítico"}),t.jsxs("p",{className:"text-sm text-gray-500",children:["CPU: ",a.systemHealth.cpu_usage,"% · RAM: ",a.systemHealth.memory_usage,"%"]})]})]}):t.jsx("p",{className:"text-sm text-gray-600",children:"Información disponible para Maestros Masones"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Próximos Eventos"})}),t.jsx("div",{className:"p-6",children:a.upcomingEvents.length>0?t.jsx("ul",{className:"divide-y divide-gray-200",children:a.upcomingEvents.map(x=>t.jsx("li",{className:"py-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"bg-indigo-100 text-indigo-800 text-xs font-medium rounded-full px-3 py-1 mr-3",children:new Date(x.date).toLocaleDateString("es-ES",{day:"2-digit",month:"short"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-900",children:x.title}),t.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(x.date).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),x.location?` · ${x.location}`:""]})]}),t.jsx("div",{children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x.event_type==="ritual"?"bg-purple-100 text-purple-800":x.event_type==="instruction"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:x.event_type==="ritual"?"Ritual":x.event_type==="instruction"?"Instrucción":x.event_type==="social"?"Social":"Evento"})})]})},x.id))}):t.jsx("p",{className:"text-sm text-gray-500",children:"No hay eventos próximos programados"})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Notificaciones"})}),t.jsx("div",{className:"p-6",children:s.length>0?t.jsx("ul",{className:"divide-y divide-gray-200",children:s.slice(0,5).map(x=>t.jsx("li",{className:"py-4",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:`flex-shrink-0 rounded-full p-2 ${x.notification_type==="important"?"bg-red-100":x.notification_type==="event"?"bg-blue-100":x.notification_type==="payment"?"bg-green-100":x.notification_type==="ritual"?"bg-purple-100":"bg-gray-100"}`,children:t.jsx("svg",{className:`h-4 w-4 ${x.notification_type==="important"?"text-red-600":x.notification_type==="event"?"text-blue-600":x.notification_type==="payment"?"text-green-600":x.notification_type==="ritual"?"text-purple-600":"text-gray-600"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.notification_type==="important"?t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}):x.notification_type==="event"?t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}):x.notification_type==="payment"?t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}):x.notification_type==="ritual"?t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"}):t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsxs("div",{className:"ml-3 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.title}),t.jsx("p",{className:"text-sm text-gray-500",children:x.content}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsx("p",{className:"text-xs text-gray-400",children:new Date(x.created_at).toLocaleString("es-ES",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})}),t.jsx("button",{onClick:()=>h(x.id),className:"text-xs text-indigo-600 hover:text-indigo-900",children:"Marcar como leída"})]})]})]})},x.id))}):t.jsx("p",{className:"text-sm text-gray-500",children:"No tienes notificaciones sin leer"})})]})]})]})]})},fg=()=>{const[e,r]=v.useState([]),[s,n]=v.useState(!0),[a,i]=v.useState(null),[l,o]=v.useState({search:"",degree:"",status:"active",sort:"symbolic_name"}),[c,u]=v.useState({page:1,pageSize:10,total:0}),{currentUser:h}=G(),x=W();v.useEffect(()=>{(async()=>{try{n(!0);const d={page:c.page,page_size:c.pageSize,ordering:l.sort,status:l.status!=="all"?l.status:void 0,degree:l.degree||void 0,search:l.search||void 0},g=await Vm.getAllMembers(d);r(g.data.results||[]),u(w=>({...w,total:g.data.count||0}))}catch(d){i("Error al cargar la lista de miembros"),console.error("Error al cargar miembros:",d)}finally{n(!1)}})()},[l,c.page,c.pageSize]);const f=m=>{const{name:d,value:g}=m.target;o(w=>({...w,[d]:g})),u(w=>({...w,page:1}))},j=m=>{u(d=>({...d,page:m}))},b=m=>{x(`/members/${m}`)},N=()=>{x("/members/new")},y=(c.page-1)*c.pageSize+1,p=Math.min(c.page*c.pageSize,c.total);return t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Miembros de la Logia"}),(h==null?void 0:h.degree)>=3&&t.jsxs("button",{onClick:N,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md flex items-center",children:[t.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Nuevo Miembro"]})]}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar"}),t.jsx("input",{type:"text",id:"search",name:"search",value:l.search,onChange:f,placeholder:"Nombre, apellido, email...",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"degree",className:"block text-sm font-medium text-gray-700 mb-1",children:"Grado"}),t.jsxs("select",{id:"degree",name:"degree",value:l.degree,onChange:f,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[t.jsx("option",{value:"",children:"Todos los grados"}),t.jsx("option",{value:"1",children:"Aprendiz"}),t.jsx("option",{value:"2",children:"Compañero"}),t.jsx("option",{value:"3",children:"Maestro Masón"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),t.jsxs("select",{id:"status",name:"status",value:l.status,onChange:f,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"Todos"}),t.jsx("option",{value:"active",children:"Activos"}),t.jsx("option",{value:"inactive",children:"Inactivos"}),t.jsx("option",{value:"suspended",children:"Suspendidos"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"sort",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordenar por"}),t.jsxs("select",{id:"sort",name:"sort",value:l.sort,onChange:f,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[t.jsx("option",{value:"symbolic_name",children:"Nombre simbólico"}),t.jsx("option",{value:"last_name",children:"Apellido"}),t.jsx("option",{value:"degree",children:"Grado"}),t.jsx("option",{value:"-initiation_date",children:"Fecha de iniciación"})]})]})]})}),a&&t.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:t.jsx("span",{className:"block sm:inline",children:a})}),t.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):e.length>0?t.jsxs("div",{children:[t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Miembro"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grado"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cargo"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Iniciación"}),t.jsx("th",{scope:"col",className:"relative px-6 py-3",children:t.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(m=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:m.profile_image?t.jsx("img",{className:"h-10 w-10 rounded-full",src:m.profile_image,alt:""}):t.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:t.jsx("span",{className:"text-indigo-800 font-medium",children:m.symbolic_name?m.symbolic_name.charAt(0):m.first_name?m.first_name.charAt(0):"M"})})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.symbolic_name||`${m.first_name} ${m.last_name}`}),t.jsx("div",{className:"text-sm text-gray-500",children:m.email})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.degree===1?"bg-blue-100 text-blue-800":m.degree===2?"bg-yellow-100 text-yellow-800":"bg-indigo-100 text-indigo-800"}`,children:m.degree===1?"Aprendiz":m.degree===2?"Compañero":"Maestro Masón"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.office||"-"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.status==="active"?"bg-green-100 text-green-800":m.status==="inactive"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:m.status==="active"?"Activo":m.status==="inactive"?"Inactivo":"Suspendido"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.initiation_date?new Date(m.initiation_date).toLocaleDateString():"-"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:t.jsx("button",{onClick:()=>b(m.id),className:"text-indigo-600 hover:text-indigo-900",children:"Ver detalles"})})]},m.id))})]}),t.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[t.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[t.jsx("button",{onClick:()=>j(c.page-1),disabled:c.page===1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${c.page===1?"bg-gray-100 text-gray-400":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Anterior"}),t.jsx("button",{onClick:()=>j(c.page+1),disabled:c.page*c.pageSize>=c.total,className:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${c.page*c.pageSize>=c.total?"bg-gray-100 text-gray-400":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Siguiente"})]}),t.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[t.jsx("div",{children:t.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando ",t.jsx("span",{className:"font-medium",children:y})," a ",t.jsx("span",{className:"font-medium",children:p})," de"," ",t.jsx("span",{className:"font-medium",children:c.total})," resultados"]})}),t.jsx("div",{children:t.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[t.jsxs("button",{onClick:()=>j(c.page-1),disabled:c.page===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${c.page===1?"text-gray-300":"text-gray-500 hover:bg-gray-50"}`,children:[t.jsx("span",{className:"sr-only",children:"Anterior"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:Math.ceil(c.total/c.pageSize)},(m,d)=>d+1).filter(m=>{const d=c.page;return m===1||m===Math.ceil(c.total/c.pageSize)||m>=d-1&&m<=d+1}).map((m,d,g)=>{const w=d>0&&m>g[d-1]+1,k=d<g.length-1&&m<g[d+1]-1;return t.jsxs(ta.Fragment,{children:[w&&t.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."}),t.jsx("button",{onClick:()=>j(m),className:`relative inline-flex items-center px-4 py-2 border ${m===c.page?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} text-sm font-medium`,children:m}),k&&t.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."})]},m)}),t.jsxs("button",{onClick:()=>j(c.page+1),disabled:c.page*c.pageSize>=c.total,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${c.page*c.pageSize>=c.total?"text-gray-300":"text-gray-500 hover:bg-gray-50"}`,children:[t.jsx("span",{className:"sr-only",children:"Siguiente"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No se encontraron miembros"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Intenta ajustar los filtros de búsqueda o crea un nuevo miembro."}),(h==null?void 0:h.degree)>=3&&t.jsx("div",{className:"mt-6",children:t.jsxs("button",{onClick:N,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[t.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Nuevo Miembro"]})})]})})]})},gg=()=>{const{id:e}=ve(),r=W(),[s,n]=v.useState(null),[a,i]=v.useState(!0),[l,o]=v.useState("profile");return v.useEffect(()=>{(async()=>{try{n({id:parseInt(e),symbolic_name:"Hiram",username:"juan.perez",first_name:"Juan",last_name:"Pérez",email:"juan.perez@example.com",phone_number:"+1234567890",address:"Calle Principal 123, Ciudad",degree:3,degree_name:"Maestro",initiation_date:"2018-05-15",passing_date:"2019-06-20",raising_date:"2020-07-25",is_active_member:!0,officer_role:"Venerable Maestro",profile:{birth_date:"1980-03-10",profession:"Ingeniero",civil_id:"A12345678",mother_lodge:"Luz y Verdad Nº 123",masonic_id:"M-12345",emergency_contact_name:"María Pérez",emergency_contact_phone:"+0987654321",emergency_contact_relation:"Esposa",last_attendance_date:"2025-04-15"},documents:[{id:1,title:"Diploma de Maestro",document_type:"Diploma",issue_date:"2020-07-25",file:"diploma_maestro.pdf"},{id:2,title:"Certificado de Méritos",document_type:"Certificado",issue_date:"2023-11-10",file:"certificado_meritos.pdf"}],progress:[{id:1,title:"Iniciación",description:"Iniciado en el Primer Grado",date:"2018-05-15"},{id:2,title:"Elevación",description:"Elevado al Segundo Grado",date:"2019-06-20"},{id:3,title:"Exaltación",description:"Exaltado al Tercer Grado",date:"2020-07-25"},{id:4,title:"Nombramiento como Venerable Maestro",description:"Elegido y nombrado Venerable Maestro de la Logia",date:"2024-12-27"}],payments:[{id:1,fee_name:"Cuota Mensual",amount:50,status:"Completado",payment_date:"2025-04-05",due_date:"2025-04-10"},{id:2,fee_name:"Cuota Mensual",amount:50,status:"Pendiente",payment_date:null,due_date:"2025-05-10"}]})}catch(u){console.error("Error al cargar detalles del miembro:",u)}finally{i(!1)}})()},[e]),a?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{children:"Cargando información del miembro..."})}):s?t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:s.symbolic_name}),t.jsxs("p",{className:"text-gray-600",children:[s.first_name," ",s.last_name," · ",s.degree_name]})]}),t.jsxs("div",{className:"mt-4 md:mt-0 flex space-x-2",children:[t.jsxs("a",{href:`/members/edit/${s.id}`,className:"inline-flex items-center px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700",children:[t.jsx("span",{className:"material-icons mr-2",children:"edit"}),"Editar"]}),t.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark",onClick:()=>window.print(),children:[t.jsx("span",{className:"material-icons mr-2",children:"print"}),"Imprimir"]})]})]}),t.jsx("div",{className:`mb-6 p-4 rounded-lg ${s.is_active_member?"bg-green-100":"bg-red-100"}`,children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:`inline-block w-3 h-3 rounded-full mr-2 ${s.is_active_member?"bg-green-500":"bg-red-500"}`}),t.jsx("span",{className:"font-medium",children:s.is_active_member?"Miembro Activo":"Miembro Inactivo"}),s.officer_role&&t.jsx("span",{className:"ml-4 px-3 py-1 bg-secondary text-white text-sm rounded-full",children:s.officer_role})]})}),t.jsx("div",{className:"mb-6 border-b border-gray-200",children:t.jsxs("nav",{className:"flex space-x-8",children:[t.jsx("button",{onClick:()=>o("profile"),className:`py-4 px-1 border-b-2 font-medium text-sm ${l==="profile"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Perfil"}),t.jsx("button",{onClick:()=>o("documents"),className:`py-4 px-1 border-b-2 font-medium text-sm ${l==="documents"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Documentos"}),t.jsx("button",{onClick:()=>o("progress"),className:`py-4 px-1 border-b-2 font-medium text-sm ${l==="progress"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Progreso"}),t.jsx("button",{onClick:()=>o("payments"),className:`py-4 px-1 border-b-2 font-medium text-sm ${l==="payments"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Pagos"})]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6",children:[l==="profile"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Información Personal"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Nombre Completo"}),t.jsxs("p",{children:[s.first_name," ",s.last_name]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Nombre de Usuario"}),t.jsx("p",{children:s.username})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Correo Electrónico"}),t.jsx("p",{children:s.email})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Teléfono"}),t.jsx("p",{children:s.phone_number})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Dirección"}),t.jsx("p",{children:s.address})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Fecha de Nacimiento"}),t.jsx("p",{children:new Date(s.profile.birth_date).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Profesión"}),t.jsx("p",{children:s.profile.profession})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Documento de Identidad"}),t.jsx("p",{children:s.profile.civil_id})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Información Masónica"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Nombre Simbólico"}),t.jsx("p",{children:s.symbolic_name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Grado"}),t.jsx("p",{children:s.degree_name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Logia Madre"}),t.jsx("p",{children:s.profile.mother_lodge})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Número de Registro Masónico"}),t.jsx("p",{children:s.profile.masonic_id})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Fecha de Iniciación"}),t.jsx("p",{children:s.initiation_date?new Date(s.initiation_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Fecha de Elevación"}),t.jsx("p",{children:s.passing_date?new Date(s.passing_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Fecha de Exaltación"}),t.jsx("p",{children:s.raising_date?new Date(s.raising_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Última Asistencia"}),t.jsx("p",{children:s.profile.last_attendance_date?new Date(s.profile.last_attendance_date).toLocaleDateString():"N/A"})]})]}),t.jsx("h3",{className:"text-lg font-medium text-gray-800 mt-6 mb-4",children:"Contacto de Emergencia"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Nombre"}),t.jsx("p",{children:s.profile.emergency_contact_name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Teléfono"}),t.jsx("p",{children:s.profile.emergency_contact_phone})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Relación"}),t.jsx("p",{children:s.profile.emergency_contact_relation})]})]})]})]}),l==="documents"&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Documentos"}),t.jsxs("button",{className:"inline-flex items-center px-3 py-1 bg-primary text-white text-sm rounded-md hover:bg-primary-dark",children:[t.jsx("span",{className:"material-icons mr-1 text-sm",children:"add"}),"Añadir Documento"]})]}),s.documents.length>0?t.jsx("div",{className:"space-y-4",children:s.documents.map(c=>t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:c.title}),t.jsxs("p",{className:"text-sm text-gray-600",children:[c.document_type," · ",new Date(c.issue_date).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{className:"text-primary hover:text-primary-dark",children:t.jsx("span",{className:"material-icons",children:"visibility"})}),t.jsx("button",{className:"text-gray-600 hover:text-gray-800",children:t.jsx("span",{className:"material-icons",children:"download"})})]})]},c.id))}):t.jsx("p",{className:"text-gray-500 italic",children:"No hay documentos registrados para este miembro."})]}),l==="progress"&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Progreso Masónico"}),s.progress.length>0?t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),t.jsx("div",{className:"space-y-6 pl-12",children:s.progress.map(c=>t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute -left-8 mt-1.5 w-4 h-4 rounded-full bg-primary border-2 border-white"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:c.title}),t.jsx("p",{className:"text-sm text-gray-500",children:new Date(c.date).toLocaleDateString()}),t.jsx("p",{className:"mt-1 text-gray-600",children:c.description})]})]},c.id))})]}):t.jsx("p",{className:"text-gray-500 italic",children:"No hay registros de progreso para este miembro."})]}),l==="payments"&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Historial de Pagos"}),t.jsxs("button",{className:"inline-flex items-center px-3 py-1 bg-primary text-white text-sm rounded-md hover:bg-primary-dark",children:[t.jsx("span",{className:"material-icons mr-1 text-sm",children:"add"}),"Registrar Pago"]})]}),s.payments.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Concepto"}),t.jsx("th",{children:"Monto"}),t.jsx("th",{children:"Fecha de Vencimiento"}),t.jsx("th",{children:"Fecha de Pago"}),t.jsx("th",{children:"Estado"}),t.jsx("th",{children:"Acciones"})]})}),t.jsx("tbody",{children:s.payments.map(c=>t.jsxs("tr",{children:[t.jsx("td",{children:c.fee_name}),t.jsxs("td",{children:["$",c.amount.toFixed(2)]}),t.jsx("td",{children:new Date(c.due_date).toLocaleDateString()}),t.jsx("td",{children:c.payment_date?new Date(c.payment_date).toLocaleDateString():"-"}),t.jsx("td",{children:t.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${c.status==="Completado"?"bg-green-100 text-green-800":c.status==="Pendiente"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:c.status})}),t.jsx("td",{children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{className:"text-primary hover:text-primary-dark",children:t.jsx("span",{className:"material-icons",children:"receipt"})}),c.status==="Pendiente"&&t.jsx("button",{className:"text-green-600 hover:text-green-800",children:t.jsx("span",{className:"material-icons",children:"payments"})})]})})]},c.id))})]})}):t.jsx("p",{className:"text-gray-500 italic",children:"No hay registros de pagos para este miembro."})]})]})]}):t.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",children:[t.jsx("p",{children:"No se pudo encontrar la información del miembro solicitado."}),t.jsx("button",{onClick:()=>r("/members"),className:"mt-2 text-primary hover:text-primary-dark",children:"Volver al listado de miembros"})]})},Bc=()=>{const{id:e}=ve(),r=W(),s=!!e,[n,a]=v.useState({username:"",email:"",first_name:"",last_name:"",symbolic_name:"",phone_number:"",address:"",degree:1,initiation_date:"",passing_date:"",raising_date:"",is_active_member:!0,profile:{birth_date:"",profession:"",civil_id:"",mother_lodge:"",masonic_id:"",emergency_contact_name:"",emergency_contact_phone:"",emergency_contact_relation:""}}),[i,l]=v.useState(s),[o,c]=v.useState(!1),[u,h]=v.useState(""),[x,f]=v.useState("");v.useEffect(()=>{s&&(async()=>{try{a({username:"juan.perez",email:"juan.perez@example.com",first_name:"Juan",last_name:"Pérez",symbolic_name:"Hiram",phone_number:"+1234567890",address:"Calle Principal 123, Ciudad",degree:3,initiation_date:"2018-05-15",passing_date:"2019-06-20",raising_date:"2020-07-25",is_active_member:!0,profile:{birth_date:"1980-03-10",profession:"Ingeniero",civil_id:"A12345678",mother_lodge:"Luz y Verdad Nº 123",masonic_id:"M-12345",emergency_contact_name:"María Pérez",emergency_contact_phone:"+0987654321",emergency_contact_relation:"Esposa"}})}catch(y){console.error("Error al cargar datos del miembro:",y),h("No se pudo cargar la información del miembro.")}finally{l(!1)}})()},[e,s]);const j=N=>{const{name:y,value:p,type:m,checked:d}=N.target;if(y.includes(".")){const[g,w]=y.split(".");a(k=>({...k,[g]:{...k[g],[w]:m==="checkbox"?d:p}}))}else a(g=>({...g,[y]:m==="checkbox"?d:p}))},b=async N=>{N.preventDefault(),c(!0),h(""),f("");try{s?(console.log("Actualizando miembro:",n),f("Miembro actualizado correctamente.")):(console.log("Creando nuevo miembro:",n),f("Miembro creado correctamente.")),setTimeout(()=>{r("/members")},2e3)}catch(y){console.error("Error al guardar miembro:",y),h("Ocurrió un error al guardar los datos. Por favor, inténtalo de nuevo.")}finally{c(!1)}};return i?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{children:"Cargando información del miembro..."})}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:s?"Editar Miembro":"Nuevo Miembro"}),t.jsx("p",{className:"text-gray-600",children:s?"Actualiza la información del miembro existente.":"Completa el formulario para registrar un nuevo miembro."})]}),u&&t.jsx("div",{className:"mb-6 p-4 bg-red-100 border-l-4 border-red-500 text-red-700",children:t.jsx("p",{children:u})}),x&&t.jsx("div",{className:"mb-6 p-4 bg-green-100 border-l-4 border-green-500 text-green-700",children:t.jsx("p",{children:x})}),t.jsxs("form",{onSubmit:b,className:"bg-white rounded-lg shadow-card p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Información de Cuenta"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de Usuario *"}),t.jsx("input",{id:"username",name:"username",type:"text",value:n.username,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo Electrónico *"}),t.jsx("input",{id:"email",name:"email",type:"email",value:n.email,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),!s&&t.jsx("div",{className:"md:col-span-2",children:t.jsx("div",{className:"bg-yellow-50 p-4 rounded-md",children:t.jsxs("p",{className:"text-sm text-yellow-800",children:[t.jsx("span",{className:"font-medium",children:"Nota:"})," Al crear un nuevo miembro, se generará una contraseña temporal que será enviada al correo electrónico proporcionado."]})})})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Información Personal"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),t.jsx("input",{id:"first_name",name:"first_name",type:"text",value:n.first_name,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido *"}),t.jsx("input",{id:"last_name",name:"last_name",type:"text",value:n.last_name,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono"}),t.jsx("input",{id:"phone_number",name:"phone_number",type:"text",value:n.phone_number,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"profile.birth_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Nacimiento"}),t.jsx("input",{id:"profile.birth_date",name:"profile.birth_date",type:"date",value:n.profile.birth_date,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Dirección"}),t.jsx("input",{id:"address",name:"address",type:"text",value:n.address,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"profile.profession",className:"block text-sm font-medium text-gray-700 mb-1",children:"Profesión"}),t.jsx("input",{id:"profile.profession",name:"profile.profession",type:"text",value:n.profile.profession,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"profile.civil_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Documento de Identidad"}),t.jsx("input",{id:"profile.civil_id",name:"profile.civil_id",type:"text",value:n.profile.civil_id,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Información Masónica"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"symbolic_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Simbólico *"}),t.jsx("input",{id:"symbolic_name",name:"symbolic_name",type:"text",value:n.symbolic_name,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"degree",className:"block text-sm font-medium text-gray-700 mb-1",children:"Grado *"}),t.jsxs("select",{id:"degree",name:"degree",value:n.degree,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary",required:!0,children:[t.jsx("option",{value:1,children:"Aprendiz"}),t.jsx("option",{value:2,children:"Compañero"}),t.jsx("option",{value:3,children:"Maestro"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"profile.mother_lodge",className:"block text-sm font-medium text-gray-700 mb-1",children:"Logia Madre"}),t.jsx("input",{id:"profile.mother_lodge",name:"profile.mother_lodge",type:"text",value:n.profile.mother_lodge,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"profile.masonic_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Número de Registro Masónico"}),t.jsx("input",{id:"profile.masonic_id",name:"profile.masonic_id",type:"text",value:n.profile.masonic_id,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"initiation_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Iniciación"}),t.jsx("input",{id:"initiation_date",name:"initiation_date",type:"date",value:n.initiation_date,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"passing_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Elevación"}),t.jsx("input",{id:"passing_date",name:"passing_date",type:"date",value:n.passing_date,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"raising_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Exaltación"}),t.jsx("input",{id:"raising_date",name:"raising_date",type:"date",value:n.raising_date,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{id:"is_active_member",name:"is_active_member",type:"checkbox",checked:n.is_active_member,onChange:j,className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),t.jsx("label",{htmlFor:"is_active_member",className:"ml-2 block text-sm text-gray-700",children:"Miembro Activo"})]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Contacto de Emergencia"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"profile.emergency_contact_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),t.jsx("input",{id:"profile.emergency_contact_name",name:"profile.emergency_contact_name",type:"text",value:n.profile.emergency_contact_name,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"profile.emergency_contact_phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono"}),t.jsx("input",{id:"profile.emergency_contact_phone",name:"profile.emergency_contact_phone",type:"text",value:n.profile.emergency_contact_phone,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"profile.emergency_contact_relation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Relación"}),t.jsx("input",{id:"profile.emergency_contact_relation",name:"profile.emergency_contact_relation",type:"text",value:n.profile.emergency_contact_relation,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx("button",{type:"button",onClick:()=>r("/members"),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:o?"Guardando...":s?"Actualizar":"Crear"})]})]})]})},yg=()=>{const[e,r]=v.useState({totalBalance:0,pendingPayments:0,recentTransactions:[],monthlyIncome:0,monthlyExpenses:0,annualSummary:[]}),[s,n]=v.useState(!0),[a,i]=v.useState(null),{currentUser:l}=G(),o=W();v.useEffect(()=>{l&&!(l.office==="Tesorero"||l.office==="Venerable Maestro"||l.degree>=3)&&o("/")},[l,o]),v.useEffect(()=>{(async()=>{try{n(!0);const j=await se.getFinancialSummary(),b=await se.getAllPayments({status:"pending"}),N=await se.getAllTransactions({limit:5,ordering:"-date"}),y=await se.getMonthlyReport(),p=await se.getAnnualSummary();r({totalBalance:j.data.total_balance||0,pendingPayments:b.data.count||0,recentTransactions:N.data.results||[],monthlyIncome:y.data.income||0,monthlyExpenses:y.data.expenses||0,annualSummary:p.data.months||[]})}catch(j){i("Error al cargar los datos de tesorería"),console.error("Error al cargar datos de tesorería:",j)}finally{n(!1)}})()},[]);const c=()=>{o("/treasury/payments")},u=()=>{o("/treasury/invoices")},h=()=>{o("/treasury/expenses")},x=()=>{o("/treasury/reports")};return t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tesorería"}),t.jsx("div",{className:"flex space-x-2",children:t.jsx("button",{onClick:x,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md",children:"Generar Informe"})})]}),a&&t.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:t.jsx("span",{className:"block sm:inline",children:a})}),s?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Balance Total"}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"bg-green-100 rounded-full p-3 mr-4",children:t.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",e.totalBalance.toLocaleString()]}),t.jsx("p",{className:"text-sm text-gray-500",children:"Balance actual"})]})]}),t.jsx("div",{className:"mt-4",children:t.jsx("button",{onClick:x,className:"text-sm text-indigo-600 hover:text-indigo-900",children:"Ver detalles →"})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Resumen Mensual"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Ingresos"}),t.jsxs("p",{className:`text-xl font-bold ${e.monthlyIncome>0?"text-green-600":"text-gray-900"}`,children:["$",e.monthlyIncome.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Gastos"}),t.jsxs("p",{className:`text-xl font-bold ${e.monthlyExpenses>0?"text-red-600":"text-gray-900"}`,children:["$",e.monthlyExpenses.toLocaleString()]})]})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Balance mensual"}),t.jsxs("p",{className:`text-xl font-bold ${e.monthlyIncome-e.monthlyExpenses>0?"text-green-600":"text-red-600"}`,children:["$",(e.monthlyIncome-e.monthlyExpenses).toLocaleString()]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Pagos Pendientes"}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"bg-amber-100 rounded-full p-3 mr-4",children:t.jsx("svg",{className:"h-6 w-6 text-amber-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.pendingPayments}),t.jsx("p",{className:"text-sm text-gray-500",children:"Pagos pendientes"})]})]}),t.jsx("div",{className:"mt-4",children:t.jsx("button",{onClick:c,className:"text-sm text-indigo-600 hover:text-indigo-900",children:"Ver pagos pendientes →"})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsx("button",{onClick:c,className:"bg-white rounded-lg shadow p-6 hover:bg-gray-50 transition-colors duration-200",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"bg-indigo-100 rounded-full p-3 mr-4",children:t.jsx("svg",{className:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),t.jsxs("div",{className:"text-left",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Gestión de Pagos"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Registrar y dar seguimiento a pagos"})]})]})}),t.jsx("button",{onClick:u,className:"bg-white rounded-lg shadow p-6 hover:bg-gray-50 transition-colors duration-200",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"bg-indigo-100 rounded-full p-3 mr-4",children:t.jsx("svg",{className:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),t.jsxs("div",{className:"text-left",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Facturas"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Crear y gestionar facturas"})]})]})}),t.jsx("button",{onClick:h,className:"bg-white rounded-lg shadow p-6 hover:bg-gray-50 transition-colors duration-200",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"bg-indigo-100 rounded-full p-3 mr-4",children:t.jsxs("svg",{className:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),t.jsxs("div",{className:"text-left",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Gastos"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Registrar y aprobar gastos"})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden mb-8",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Transacciones Recientes"})}),t.jsxs("div",{className:"p-6",children:[e.recentTransactions.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.recentTransactions.map(f=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(f.date).toLocaleDateString()}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.description}),t.jsx("div",{className:"text-sm text-gray-500",children:f.reference||"-"})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f.type==="income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.type==="income"?"Ingreso":"Gasto"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.jsxs("span",{className:f.type==="income"?"text-green-600":"text-red-600",children:[f.type==="income"?"+":"-","$",f.amount.toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f.status==="completed"?"bg-green-100 text-green-800":f.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:f.status==="completed"?"Completado":f.status==="pending"?"Pendiente":"Cancelado"})})]},f.id))})]})}):t.jsx("p",{className:"text-sm text-gray-500",children:"No hay transacciones recientes"}),t.jsx("div",{className:"mt-4 text-right",children:t.jsx("button",{onClick:()=>o("/treasury/transactions"),className:"text-sm text-indigo-600 hover:text-indigo-900",children:"Ver todas las transacciones →"})})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Resumen Anual"})}),t.jsxs("div",{className:"p-6",children:[e.annualSummary.length>0?t.jsxs("div",{className:"h-64",children:[t.jsx("div",{className:"flex h-full items-end space-x-2",children:e.annualSummary.map((f,j)=>t.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[t.jsxs("div",{className:"w-full flex space-x-1",children:[t.jsx("div",{className:"bg-green-500 rounded-t-sm",style:{height:`${f.income/Math.max(...e.annualSummary.map(b=>Math.max(b.income,b.expenses)))*180}px`,width:"45%"}}),t.jsx("div",{className:"bg-red-500 rounded-t-sm",style:{height:`${f.expenses/Math.max(...e.annualSummary.map(b=>Math.max(b.income,b.expenses)))*180}px`,width:"45%"}})]}),t.jsx("div",{className:"text-xs text-gray-500 mt-2",children:new Date(2023,j).toLocaleDateString("es-ES",{month:"short"})})]},j))}),t.jsxs("div",{className:"flex justify-between mt-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-sm mr-2"}),t.jsx("span",{className:"text-xs text-gray-500",children:"Ingresos"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-sm mr-2"}),t.jsx("span",{className:"text-xs text-gray-500",children:"Gastos"})]})]})]}):t.jsx("p",{className:"text-sm text-gray-500",children:"No hay datos disponibles para el resumen anual"}),t.jsx("div",{className:"mt-4 text-right",children:t.jsx("button",{onClick:x,className:"text-sm text-indigo-600 hover:text-indigo-900",children:"Ver informes detallados →"})})]})]})]})]})},vg=()=>{const[e,r]=v.useState([]),[s,n]=v.useState(!0),[a,i]=v.useState(null),[l,o]=v.useState({search:"",status:"pending",date_range:"all",sort:"-due_date"}),[c,u]=v.useState({page:1,pageSize:10,total:0}),{currentUser:h}=G(),x=W();v.useEffect(()=>{h&&!(h.office==="Tesorero"||h.office==="Venerable Maestro"||h.degree>=3)&&x("/")},[h,x]),v.useEffect(()=>{(async()=>{try{n(!0);const g={page:c.page,page_size:c.pageSize,ordering:l.sort,status:l.status!=="all"?l.status:void 0,date_range:l.date_range!=="all"?l.date_range:void 0,search:l.search||void 0},w=await se.getAllPayments(g);r(w.data.results||[]),u(k=>({...k,total:w.data.count||0}))}catch(g){i("Error al cargar la lista de pagos"),console.error("Error al cargar pagos:",g)}finally{n(!1)}})()},[l,c.page,c.pageSize]);const f=d=>{const{name:g,value:w}=d.target;o(k=>({...k,[g]:w})),u(k=>({...k,page:1}))},j=d=>{u(g=>({...g,page:d}))},b=d=>{x(`/treasury/payments/${d}`)},N=()=>{x("/treasury/payments/new")},y=async d=>{try{await se.updatePaymentStatus(d,{status:"completed"}),r(g=>g.map(w=>w.id===d?{...w,status:"completed"}:w))}catch(g){i("Error al actualizar el estado del pago"),console.error("Error al actualizar pago:",g)}},p=(c.page-1)*c.pageSize+1,m=Math.min(c.page*c.pageSize,c.total);return t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Pagos"}),t.jsxs("button",{onClick:N,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md flex items-center",children:[t.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Nuevo Pago"]})]}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar"}),t.jsx("input",{type:"text",id:"search",name:"search",value:l.search,onChange:f,placeholder:"Nombre, concepto, referencia...",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),t.jsxs("select",{id:"status",name:"status",value:l.status,onChange:f,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"Todos"}),t.jsx("option",{value:"pending",children:"Pendientes"}),t.jsx("option",{value:"completed",children:"Completados"}),t.jsx("option",{value:"overdue",children:"Vencidos"}),t.jsx("option",{value:"cancelled",children:"Cancelados"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"date_range",className:"block text-sm font-medium text-gray-700 mb-1",children:"Período"}),t.jsxs("select",{id:"date_range",name:"date_range",value:l.date_range,onChange:f,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"Todos"}),t.jsx("option",{value:"current_month",children:"Mes actual"}),t.jsx("option",{value:"last_month",children:"Mes anterior"}),t.jsx("option",{value:"current_quarter",children:"Trimestre actual"}),t.jsx("option",{value:"current_year",children:"Año actual"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"sort",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordenar por"}),t.jsxs("select",{id:"sort",name:"sort",value:l.sort,onChange:f,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[t.jsx("option",{value:"-due_date",children:"Fecha de vencimiento (reciente)"}),t.jsx("option",{value:"due_date",children:"Fecha de vencimiento (antigua)"}),t.jsx("option",{value:"-amount",children:"Monto (mayor a menor)"}),t.jsx("option",{value:"amount",children:"Monto (menor a mayor)"}),t.jsx("option",{value:"member__symbolic_name",children:"Miembro (alfabético)"})]})]})]})}),a&&t.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:t.jsx("span",{className:"block sm:inline",children:a})}),t.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):e.length>0?t.jsxs("div",{children:[t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Miembro"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Concepto"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vencimiento"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),t.jsx("th",{scope:"col",className:"relative px-6 py-3",children:t.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(d=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:d.member.profile_image?t.jsx("img",{className:"h-10 w-10 rounded-full",src:d.member.profile_image,alt:""}):t.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:t.jsx("span",{className:"text-indigo-800 font-medium",children:d.member.symbolic_name?d.member.symbolic_name.charAt(0):d.member.first_name?d.member.first_name.charAt(0):"M"})})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.member.symbolic_name||`${d.member.first_name} ${d.member.last_name}`}),t.jsx("div",{className:"text-sm text-gray-500",children:d.member.email})]})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.concept}),t.jsx("div",{className:"text-sm text-gray-500",children:d.reference||"-"})]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",d.amount.toLocaleString()]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm text-gray-900",children:new Date(d.due_date).toLocaleDateString()}),t.jsx("div",{className:"text-sm text-gray-500",children:new Date(d.due_date)<new Date&&d.status==="pending"?`Vencido hace ${Math.floor((new Date-new Date(d.due_date))/(1e3*60*60*24))} días`:""})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.status==="completed"?"bg-green-100 text-green-800":d.status==="pending"?"bg-yellow-100 text-yellow-800":d.status==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:d.status==="completed"?"Completado":d.status==="pending"?"Pendiente":d.status==="overdue"?"Vencido":"Cancelado"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:t.jsxs("div",{className:"flex justify-end space-x-2",children:[d.status==="pending"&&t.jsx("button",{onClick:()=>y(d.id),className:"text-green-600 hover:text-green-900",children:"Completar"}),t.jsx("button",{onClick:()=>b(d.id),className:"text-indigo-600 hover:text-indigo-900",children:"Detalles"})]})})]},d.id))})]}),t.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[t.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[t.jsx("button",{onClick:()=>j(c.page-1),disabled:c.page===1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${c.page===1?"bg-gray-100 text-gray-400":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Anterior"}),t.jsx("button",{onClick:()=>j(c.page+1),disabled:c.page*c.pageSize>=c.total,className:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${c.page*c.pageSize>=c.total?"bg-gray-100 text-gray-400":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Siguiente"})]}),t.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[t.jsx("div",{children:t.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando ",t.jsx("span",{className:"font-medium",children:p})," a ",t.jsx("span",{className:"font-medium",children:m})," de"," ",t.jsx("span",{className:"font-medium",children:c.total})," resultados"]})}),t.jsx("div",{children:t.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[t.jsxs("button",{onClick:()=>j(c.page-1),disabled:c.page===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${c.page===1?"text-gray-300":"text-gray-500 hover:bg-gray-50"}`,children:[t.jsx("span",{className:"sr-only",children:"Anterior"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:Math.ceil(c.total/c.pageSize)},(d,g)=>g+1).filter(d=>{const g=c.page;return d===1||d===Math.ceil(c.total/c.pageSize)||d>=g-1&&d<=g+1}).map((d,g,w)=>{const k=g>0&&d>w[g-1]+1,C=g<w.length-1&&d<w[g+1]-1;return t.jsxs(ta.Fragment,{children:[k&&t.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."}),t.jsx("button",{onClick:()=>j(d),className:`relative inline-flex items-center px-4 py-2 border ${d===c.page?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} text-sm font-medium`,children:d}),C&&t.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."})]},d)}),t.jsxs("button",{onClick:()=>j(c.page+1),disabled:c.page*c.pageSize>=c.total,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${c.page*c.pageSize>=c.total?"text-gray-300":"text-gray-500 hover:bg-gray-50"}`,children:[t.jsx("span",{className:"sr-only",children:"Siguiente"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No se encontraron pagos"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Intenta ajustar los filtros de búsqueda o crea un nuevo pago."}),t.jsx("div",{className:"mt-6",children:t.jsxs("button",{onClick:N,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[t.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Nuevo Pago"]})})]})})]})},Oc=()=>{const{id:e}=ve(),r=!!e,s=W(),{currentUser:n}=G(),[a,i]=v.useState(r),[l,o]=v.useState(!1),[c,u]=v.useState(null),[h,x]=v.useState([]),[f,j]=v.useState([]),[b,N]=v.useState({member:"",fee_type:"",amount:"",concept:"",reference:"",due_date:new Date().toISOString().split("T")[0],payment_date:"",status:"pending",payment_method:"",notes:""});v.useEffect(()=>{n&&!(n.office==="Tesorero"||n.office==="Venerable Maestro"||n.degree>=3)&&s("/")},[n,s]),v.useEffect(()=>{(async()=>{try{const g=await se.getMembersList();x(g.data||[]);const w=await se.getFeeTypes();if(j(w.data||[]),r){const C=(await se.getPayment(e)).data,R={...C,due_date:C.due_date?C.due_date.split("T")[0]:"",payment_date:C.payment_date?C.payment_date.split("T")[0]:""};N(R)}}catch(g){u("Error al cargar los datos necesarios"),console.error("Error al cargar datos:",g)}finally{i(!1)}})()},[e,r]);const y=d=>{const{name:g,value:w}=d.target;if(g==="fee_type"){const k=f.find(C=>C.id===parseInt(w));if(k){N(C=>({...C,[g]:w,amount:k.amount,concept:k.name}));return}}N(k=>({...k,[g]:w}))},p=async d=>{d.preventDefault(),o(!0),u(null);try{if(!b.member||!b.amount||!b.concept||!b.due_date)throw new Error("Por favor completa todos los campos obligatorios");r?await se.updatePayment(e,b):await se.createPayment(b),s("/treasury/payments")}catch(g){u(g.message||"Error al guardar el pago"),console.error("Error al guardar:",g),o(!1)}},m=()=>{s("/treasury/payments")};return t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsx("div",{className:"flex justify-between items-center mb-6",children:t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"Editar Pago":"Nuevo Pago"})}),c&&t.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:t.jsx("span",{className:"block sm:inline",children:c})}),a?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:t.jsxs("form",{onSubmit:p,className:"p-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"member",className:"block text-sm font-medium text-gray-700 mb-1",children:["Miembro ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{id:"member",name:"member",value:b.member,onChange:y,required:!0,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[t.jsx("option",{value:"",children:"Seleccionar miembro"}),h.map(d=>t.jsx("option",{value:d.id,children:d.symbolic_name||`${d.first_name} ${d.last_name}`},d.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"fee_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de cuota"}),t.jsxs("select",{id:"fee_type",name:"fee_type",value:b.fee_type,onChange:y,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[t.jsx("option",{value:"",children:"Seleccionar tipo"}),f.map(d=>t.jsxs("option",{value:d.id,children:[d.name," - $",d.amount]},d.id))]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:["Monto ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),t.jsx("input",{type:"number",name:"amount",id:"amount",value:b.amount,onChange:y,required:!0,min:"0",step:"0.01",className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"0.00"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"concept",className:"block text-sm font-medium text-gray-700 mb-1",children:["Concepto ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"concept",id:"concept",value:b.concept,onChange:y,required:!0,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Ej. Cuota mensual, Donación, etc."})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"reference",className:"block text-sm font-medium text-gray-700 mb-1",children:"Referencia"}),t.jsx("input",{type:"text",name:"reference",id:"reference",value:b.reference,onChange:y,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Ej. Factura #123, Recibo #456"})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"due_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Fecha de vencimiento ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",name:"due_date",id:"due_date",value:b.due_date,onChange:y,required:!0,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),t.jsxs("select",{id:"status",name:"status",value:b.status,onChange:y,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[t.jsx("option",{value:"pending",children:"Pendiente"}),t.jsx("option",{value:"completed",children:"Completado"}),t.jsx("option",{value:"overdue",children:"Vencido"}),t.jsx("option",{value:"cancelled",children:"Cancelado"})]})]}),b.status==="completed"&&t.jsxs("div",{children:[t.jsx("label",{htmlFor:"payment_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de pago"}),t.jsx("input",{type:"date",name:"payment_date",id:"payment_date",value:b.payment_date,onChange:y,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),b.status==="completed"&&t.jsxs("div",{children:[t.jsx("label",{htmlFor:"payment_method",className:"block text-sm font-medium text-gray-700 mb-1",children:"Método de pago"}),t.jsxs("select",{id:"payment_method",name:"payment_method",value:b.payment_method,onChange:y,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[t.jsx("option",{value:"",children:"Seleccionar método"}),t.jsx("option",{value:"cash",children:"Efectivo"}),t.jsx("option",{value:"transfer",children:"Transferencia"}),t.jsx("option",{value:"check",children:"Cheque"}),t.jsx("option",{value:"card",children:"Tarjeta"}),t.jsx("option",{value:"other",children:"Otro"})]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),t.jsx("textarea",{id:"notes",name:"notes",value:b.notes,onChange:y,rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Información adicional sobre este pago..."})]})]}),t.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[t.jsx("button",{type:"button",onClick:m,className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:l,className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white ${l?"bg-indigo-400":"bg-indigo-600 hover:bg-indigo-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`,children:l?"Guardando...":r?"Actualizar Pago":"Crear Pago"})]})]})})]})},jg=()=>{const[e,r]=v.useState([]),[s,n]=v.useState(!0),[a,i]=v.useState(null),[l,o]=v.useState({search:"",status:"all",date_range:"all",sort:"-issue_date"}),[c,u]=v.useState({page:1,pageSize:10,total:0}),{currentUser:h}=G(),x=W();v.useEffect(()=>{h&&!(h.office==="Tesorero"||h.office==="Venerable Maestro"||h.degree>=3)&&x("/")},[h,x]),v.useEffect(()=>{(async()=>{try{n(!0);const g={page:c.page,page_size:c.pageSize,ordering:l.sort,status:l.status!=="all"?l.status:void 0,date_range:l.date_range!=="all"?l.date_range:void 0,search:l.search||void 0},w=await se.getAllInvoices(g);r(w.data.results||[]),u(k=>({...k,total:w.data.count||0}))}catch(g){i("Error al cargar la lista de facturas"),console.error("Error al cargar facturas:",g)}finally{n(!1)}})()},[l,c.page,c.pageSize]);const f=d=>{const{name:g,value:w}=d.target;o(k=>({...k,[g]:w})),u(k=>({...k,page:1}))},j=d=>{u(g=>({...g,page:d}))},b=d=>{x(`/treasury/invoices/${d}`)},N=()=>{x("/treasury/invoices/new")},y=async d=>{try{await se.updateInvoiceStatus(d,{status:"paid"}),r(g=>g.map(w=>w.id===d?{...w,status:"paid"}:w))}catch(g){i("Error al actualizar el estado de la factura"),console.error("Error al actualizar factura:",g)}},p=(c.page-1)*c.pageSize+1,m=Math.min(c.page*c.pageSize,c.total);return t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Facturas"}),t.jsxs("button",{onClick:N,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md flex items-center",children:[t.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Nueva Factura"]})]}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar"}),t.jsx("input",{type:"text",id:"search",name:"search",value:l.search,onChange:f,placeholder:"Número, destinatario, concepto...",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),t.jsxs("select",{id:"status",name:"status",value:l.status,onChange:f,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"Todos"}),t.jsx("option",{value:"draft",children:"Borrador"}),t.jsx("option",{value:"issued",children:"Emitida"}),t.jsx("option",{value:"paid",children:"Pagada"}),t.jsx("option",{value:"cancelled",children:"Cancelada"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"date_range",className:"block text-sm font-medium text-gray-700 mb-1",children:"Período"}),t.jsxs("select",{id:"date_range",name:"date_range",value:l.date_range,onChange:f,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"Todos"}),t.jsx("option",{value:"current_month",children:"Mes actual"}),t.jsx("option",{value:"last_month",children:"Mes anterior"}),t.jsx("option",{value:"current_quarter",children:"Trimestre actual"}),t.jsx("option",{value:"current_year",children:"Año actual"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"sort",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordenar por"}),t.jsxs("select",{id:"sort",name:"sort",value:l.sort,onChange:f,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[t.jsx("option",{value:"-issue_date",children:"Fecha de emisión (reciente)"}),t.jsx("option",{value:"issue_date",children:"Fecha de emisión (antigua)"}),t.jsx("option",{value:"-total_amount",children:"Monto (mayor a menor)"}),t.jsx("option",{value:"total_amount",children:"Monto (menor a mayor)"}),t.jsx("option",{value:"invoice_number",children:"Número de factura"})]})]})]})}),a&&t.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:t.jsx("span",{className:"block sm:inline",children:a})}),t.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):e.length>0?t.jsxs("div",{children:[t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Factura"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Destinatario"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),t.jsx("th",{scope:"col",className:"relative px-6 py-3",children:t.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(d=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",d.invoice_number]}),t.jsx("div",{className:"text-sm text-gray-500",children:d.reference||"-"})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:d.recipient_type==="member"?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:d.recipient.profile_image?t.jsx("img",{className:"h-10 w-10 rounded-full",src:d.recipient.profile_image,alt:""}):t.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:t.jsx("span",{className:"text-indigo-800 font-medium",children:d.recipient.symbolic_name?d.recipient.symbolic_name.charAt(0):d.recipient.first_name?d.recipient.first_name.charAt(0):"M"})})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.recipient.symbolic_name||`${d.recipient.first_name} ${d.recipient.last_name}`}),t.jsx("div",{className:"text-sm text-gray-500",children:d.recipient.email})]})]}):t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.recipient_name}),t.jsx("div",{className:"text-sm text-gray-500",children:d.recipient_email||"-"})]})})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm text-gray-900",children:new Date(d.issue_date).toLocaleDateString()}),t.jsx("div",{className:"text-sm text-gray-500",children:d.due_date?`Vence: ${new Date(d.due_date).toLocaleDateString()}`:""})]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",d.total_amount.toLocaleString()]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.status==="paid"?"bg-green-100 text-green-800":d.status==="issued"?"bg-blue-100 text-blue-800":d.status==="draft"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:d.status==="paid"?"Pagada":d.status==="issued"?"Emitida":d.status==="draft"?"Borrador":"Cancelada"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:t.jsxs("div",{className:"flex justify-end space-x-2",children:[d.status==="issued"&&t.jsx("button",{onClick:()=>y(d.id),className:"text-green-600 hover:text-green-900",children:"Marcar pagada"}),t.jsx("button",{onClick:()=>b(d.id),className:"text-indigo-600 hover:text-indigo-900",children:"Ver"})]})})]},d.id))})]}),t.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[t.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[t.jsx("button",{onClick:()=>j(c.page-1),disabled:c.page===1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${c.page===1?"bg-gray-100 text-gray-400":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Anterior"}),t.jsx("button",{onClick:()=>j(c.page+1),disabled:c.page*c.pageSize>=c.total,className:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${c.page*c.pageSize>=c.total?"bg-gray-100 text-gray-400":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Siguiente"})]}),t.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[t.jsx("div",{children:t.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando ",t.jsx("span",{className:"font-medium",children:p})," a ",t.jsx("span",{className:"font-medium",children:m})," de"," ",t.jsx("span",{className:"font-medium",children:c.total})," resultados"]})}),t.jsx("div",{children:t.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[t.jsxs("button",{onClick:()=>j(c.page-1),disabled:c.page===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${c.page===1?"text-gray-300":"text-gray-500 hover:bg-gray-50"}`,children:[t.jsx("span",{className:"sr-only",children:"Anterior"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:Math.ceil(c.total/c.pageSize)},(d,g)=>g+1).filter(d=>{const g=c.page;return d===1||d===Math.ceil(c.total/c.pageSize)||d>=g-1&&d<=g+1}).map((d,g,w)=>{const k=g>0&&d>w[g-1]+1,C=g<w.length-1&&d<w[g+1]-1;return t.jsxs(ta.Fragment,{children:[k&&t.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."}),t.jsx("button",{onClick:()=>j(d),className:`relative inline-flex items-center px-4 py-2 border ${d===c.page?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} text-sm font-medium`,children:d}),C&&t.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."})]},d)}),t.jsxs("button",{onClick:()=>j(c.page+1),disabled:c.page*c.pageSize>=c.total,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${c.page*c.pageSize>=c.total?"text-gray-300":"text-gray-500 hover:bg-gray-50"}`,children:[t.jsx("span",{className:"sr-only",children:"Siguiente"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No se encontraron facturas"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Intenta ajustar los filtros de búsqueda o crea una nueva factura."}),t.jsx("div",{className:"mt-6",children:t.jsxs("button",{onClick:N,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[t.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Nueva Factura"]})})]})})]})},bg=()=>{const{id:e}=ve(),r=W(),{currentUser:s}=G(),[n,a]=v.useState(null),[i,l]=v.useState(!0),[o,c]=v.useState(null),[u,h]=v.useState(!1);v.useEffect(()=>{s&&!(s.office==="Tesorero"||s.office==="Venerable Maestro"||s.degree>=3)&&r("/")},[s,r]),v.useEffect(()=>{(async()=>{try{l(!0);const m=await se.getInvoice(e);a(m.data)}catch(m){c("Error al cargar los datos de la factura"),console.error("Error al cargar factura:",m)}finally{l(!1)}})()},[e]);const x=async()=>{try{await se.updateInvoiceStatus(e,{status:"paid"}),a(p=>({...p,status:"paid"}))}catch(p){c("Error al actualizar el estado de la factura"),console.error("Error al actualizar factura:",p)}},f=async()=>{try{await se.updateInvoiceStatus(e,{status:"cancelled"}),a(p=>({...p,status:"cancelled"}))}catch(p){c("Error al cancelar la factura"),console.error("Error al cancelar factura:",p)}},j=()=>{h(!0),setTimeout(()=>{window.print(),h(!1)},100)},b=async()=>{try{await se.sendInvoiceByEmail(e),alert("Factura enviada por correo electrónico")}catch(p){c("Error al enviar la factura por correo"),console.error("Error al enviar factura:",p)}},N=()=>{r("/treasury/invoices")},y=()=>{r(`/treasury/invoices/edit/${e}`)};return t.jsxs("div",{className:`container mx-auto px-4 py-8 ${u?"print:p-0":""}`,children:[!u&&t.jsxs("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[t.jsxs("button",{onClick:N,className:"text-indigo-600 hover:text-indigo-900 flex items-center",children:[t.jsx("svg",{className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Volver a facturas"]}),t.jsxs("div",{className:"flex space-x-2",children:[n&&n.status==="issued"&&t.jsx("button",{onClick:x,className:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md",children:"Marcar como pagada"}),n&&(n.status==="draft"||n.status==="issued")&&t.jsx("button",{onClick:y,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md",children:"Editar"}),t.jsx("button",{onClick:j,className:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-md",children:"Imprimir"}),n&&n.status!=="cancelled"&&t.jsx("button",{onClick:b,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md",children:"Enviar por correo"}),n&&(n.status==="draft"||n.status==="issued")&&t.jsx("button",{onClick:f,className:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-md",children:"Cancelar factura"})]})]}),o&&!u&&t.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6 print:hidden",role:"alert",children:t.jsx("span",{className:"block sm:inline",children:o})}),i?!u&&t.jsx("div",{className:"flex justify-center items-center h-64 print:hidden",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):n?t.jsxs("div",{className:`bg-white rounded-lg shadow overflow-hidden ${u?"print:shadow-none":""}`,children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Factura #",n.invoice_number]}),t.jsx("p",{className:"text-sm text-gray-500",children:n.reference?`Referencia: ${n.reference}`:""}),t.jsx("div",{className:"mt-2",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n.status==="paid"?"bg-green-100 text-green-800":n.status==="issued"?"bg-blue-100 text-blue-800":n.status==="draft"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:n.status==="paid"?"Pagada":n.status==="issued"?"Emitida":n.status==="draft"?"Borrador":"Cancelada"})})]}),t.jsxs("div",{className:"mt-4 md:mt-0 text-right",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Fecha de emisión"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:new Date(n.issue_date).toLocaleDateString()}),n.due_date&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Fecha de vencimiento"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:new Date(n.due_date).toLocaleDateString()})]})]})]})}),t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"Emisor"}),t.jsx("p",{className:"text-gray-800 font-medium",children:n.issuer.lodge_name}),t.jsx("p",{className:"text-gray-600",children:n.issuer.address}),t.jsxs("p",{className:"text-gray-600",children:[n.issuer.city,", ",n.issuer.state," ",n.issuer.postal_code]}),t.jsx("p",{className:"text-gray-600",children:n.issuer.country}),t.jsx("p",{className:"text-gray-600 mt-2",children:n.issuer.tax_id})]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"Destinatario"}),n.recipient_type==="member"?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-gray-800 font-medium",children:n.recipient.symbolic_name||`${n.recipient.first_name} ${n.recipient.last_name}`}),t.jsx("p",{className:"text-gray-600",children:n.recipient.email}),n.recipient.address&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-gray-600",children:n.recipient.address}),t.jsxs("p",{className:"text-gray-600",children:[n.recipient.city&&`${n.recipient.city}, `,n.recipient.state&&`${n.recipient.state} `,n.recipient.postal_code]}),t.jsx("p",{className:"text-gray-600",children:n.recipient.country})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-gray-800 font-medium",children:n.recipient_name}),t.jsx("p",{className:"text-gray-600",children:n.recipient_email}),n.recipient_address&&t.jsx("p",{className:"text-gray-600",children:n.recipient_address})]})]})]})}),t.jsxs("div",{className:"p-6 border-b border-gray-200",children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Detalles"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio unitario"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subtotal"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.items.map((p,m)=>t.jsxs("tr",{children:[t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[p.description,p.notes&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:p.notes})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.quantity}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",p.unit_price.toLocaleString()]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",(p.quantity*p.unit_price).toLocaleString()]})]},m))})]})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex justify-end",children:t.jsxs("div",{className:"w-full md:w-1/3",children:[t.jsxs("div",{className:"flex justify-between py-2",children:[t.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),t.jsxs("span",{className:"text-gray-900 font-medium",children:["$",n.subtotal.toLocaleString()]})]}),n.tax_amount>0&&t.jsxs("div",{className:"flex justify-between py-2",children:[t.jsxs("span",{className:"text-gray-600",children:["Impuestos (",n.tax_rate,"%):"]}),t.jsxs("span",{className:"text-gray-900 font-medium",children:["$",n.tax_amount.toLocaleString()]})]}),n.discount_amount>0&&t.jsxs("div",{className:"flex justify-between py-2",children:[t.jsx("span",{className:"text-gray-600",children:"Descuento:"}),t.jsxs("span",{className:"text-gray-900 font-medium",children:["-$",n.discount_amount.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between py-2 border-t border-gray-200 mt-2",children:[t.jsx("span",{className:"text-gray-800 font-medium",children:"Total:"}),t.jsxs("span",{className:"text-gray-900 font-bold",children:["$",n.total_amount.toLocaleString()]})]})]})}),(n.notes||n.terms)&&t.jsxs("div",{className:"mt-8 border-t border-gray-200 pt-4",children:[n.notes&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Notas"}),t.jsx("p",{className:"text-sm text-gray-600",children:n.notes})]}),n.terms&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Términos y condiciones"}),t.jsx("p",{className:"text-sm text-gray-600",children:n.terms})]})]}),n.payment_info&&t.jsxs("div",{className:"mt-8 border-t border-gray-200 pt-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Información de pago"}),t.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-line",children:n.payment_info})]})]})]}):!u&&t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[t.jsx("p",{className:"text-gray-500",children:"No se encontró la factura solicitada"}),t.jsx("button",{onClick:N,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200",children:"Volver a la lista de facturas"})]})]})},Ng=()=>{const[e,r]=v.useState(!0),[s,n]=v.useState(null),[a,i]=v.useState("monthly"),[l,o]=v.useState({start_date:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0]}),[c,u]=v.useState(null),[h,x]=v.useState(!1),[f,j]=v.useState(null),{currentUser:b}=G(),N=W();v.useEffect(()=>{b&&!(b.office==="Tesorero"||b.office==="Venerable Maestro"||b.degree>=3)&&N("/")},[b,N]),v.useEffect(()=>{(async()=>{try{r(!0);const g=await se.getFinancialReport({report_type:"monthly",start_date:l.start_date,end_date:l.end_date});u(g.data)}catch(g){n("Error al cargar los datos financieros"),console.error("Error al cargar datos:",g)}finally{r(!1)}})()},[]);const y=async()=>{try{x(!0),n(null);const d=await se.getFinancialReport({report_type:a,start_date:l.start_date,end_date:l.end_date});u(d.data),j(null)}catch(d){n("Error al generar el reporte financiero"),console.error("Error al generar reporte:",d)}finally{x(!1)}},p=async d=>{try{x(!0);const g=await se.exportFinancialReport({report_type:a,start_date:l.start_date,end_date:l.end_date,format:d}),w=new Blob([g.data],{type:d==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),k=window.URL.createObjectURL(w);j(k);const C=document.createElement("a");C.style.display="none",C.href=k,C.download=`reporte_financiero_${l.start_date}_${l.end_date}.${d}`,document.body.appendChild(C),C.click(),window.URL.revokeObjectURL(k)}catch(g){n(`Error al exportar el reporte en formato ${d.toUpperCase()}`),console.error("Error al exportar reporte:",g)}finally{x(!1)}},m=d=>{const{name:g,value:w}=d.target;if(g==="report_type")if(i(w),w==="monthly")o({start_date:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0]});else if(w==="quarterly"){const k=new Date().getMonth(),C=Math.floor(k/3)*3;o({start_date:new Date(new Date().getFullYear(),C,1).toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0]})}else w==="annual"&&o({start_date:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0]});else o(k=>({...k,[g]:w}))};return t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsx("div",{className:"flex justify-between items-center mb-6",children:t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Informes Financieros"})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"report_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de informe"}),t.jsxs("select",{id:"report_type",name:"report_type",value:a,onChange:m,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[t.jsx("option",{value:"monthly",children:"Mensual"}),t.jsx("option",{value:"quarterly",children:"Trimestral"}),t.jsx("option",{value:"annual",children:"Anual"}),t.jsx("option",{value:"custom",children:"Personalizado"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"start_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de inicio"}),t.jsx("input",{type:"date",id:"start_date",name:"start_date",value:l.start_date,onChange:m,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"end_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de fin"}),t.jsx("input",{type:"date",id:"end_date",name:"end_date",value:l.end_date,onChange:m,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),t.jsx("div",{className:"flex items-end",children:t.jsx("button",{onClick:y,disabled:h,className:`w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${h?"bg-indigo-400":"bg-indigo-600 hover:bg-indigo-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`,children:h?"Generando...":"Generar Informe"})})]})}),s&&t.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:t.jsx("span",{className:"block sm:inline",children:s})}),e?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):c?t.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden mb-6",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-700",children:["Informe Financiero: ",a==="monthly"?"Mensual":a==="quarterly"?"Trimestral":a==="annual"?"Anual":"Personalizado"]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>p("pdf"),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[t.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"PDF"]}),t.jsxs("button",{onClick:()=>p("xlsx"),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[t.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Excel"]})]})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ingresos"}),t.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["$",c.income.total.toLocaleString()]}),t.jsx("div",{className:"mt-4 space-y-2",children:c.income.categories.map((d,g)=>t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:d.name}),t.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",d.amount.toLocaleString()]})]},g))})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Gastos"}),t.jsxs("p",{className:"text-3xl font-bold text-red-600",children:["$",c.expenses.total.toLocaleString()]}),t.jsx("div",{className:"mt-4 space-y-2",children:c.expenses.categories.map((d,g)=>t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:d.name}),t.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",d.amount.toLocaleString()]})]},g))})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Balance"}),t.jsxs("p",{className:`text-3xl font-bold ${c.balance>=0?"text-green-600":"text-red-600"}`,children:["$",c.balance.toLocaleString()]}),t.jsxs("div",{className:"mt-4 space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Saldo inicial"}),t.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",c.initial_balance.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Saldo final"}),t.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",c.final_balance.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Variación"}),t.jsxs("span",{className:`text-sm font-medium ${c.balance>=0?"text-green-600":"text-red-600"}`,children:[c.balance>=0?"+":"",c.balance.toLocaleString()]})]})]})]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Ingresos vs Gastos"}),t.jsxs("div",{className:"h-64 bg-gray-50 rounded-lg p-4",children:[t.jsx("div",{className:"flex h-full items-end space-x-4",children:c.monthly_data.map((d,g)=>t.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[t.jsxs("div",{className:"w-full flex space-x-1",children:[t.jsx("div",{className:"bg-green-500 rounded-t-sm",style:{height:`${d.income/Math.max(...c.monthly_data.map(w=>Math.max(w.income,w.expenses)))*180}px`,width:"45%"}}),t.jsx("div",{className:"bg-red-500 rounded-t-sm",style:{height:`${d.expenses/Math.max(...c.monthly_data.map(w=>Math.max(w.income,w.expenses)))*180}px`,width:"45%"}})]}),t.jsx("div",{className:"text-xs text-gray-500 mt-2",children:d.label})]},g))}),t.jsxs("div",{className:"flex justify-between mt-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-sm mr-2"}),t.jsx("span",{className:"text-xs text-gray-500",children:"Ingresos"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-sm mr-2"}),t.jsx("span",{className:"text-xs text-gray-500",children:"Gastos"})]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Transacciones Recientes"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoría"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.transactions.map(d=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(d.date).toLocaleDateString()}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.description}),t.jsx("div",{className:"text-sm text-gray-500",children:d.reference||"-"})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.category}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.type==="income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d.type==="income"?"Ingreso":"Gasto"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.jsxs("span",{className:d.type==="income"?"text-green-600":"text-red-600",children:[d.type==="income"?"+":"-","$",d.amount.toLocaleString()]})})]},d.id))})]})})]})]})]}):t.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:t.jsx("p",{className:"text-gray-500",children:"No hay datos disponibles para el período seleccionado"})})]})},wg=()=>t.jsxs("div",{children:[t.jsx("h1",{children:"Centro de Notificações"}),t.jsx("p",{children:"Esta página exibirá as notificações do sistema."})]}),kg=()=>t.jsxs("div",{children:[t.jsx("h1",{children:"Lista de Eventos"}),t.jsx("p",{children:"Esta página exibirá a lista de eventos."})]}),_g=()=>{const{id:e}=ve();return t.jsxs("div",{children:[t.jsxs("h1",{children:["Detalhes do Evento ",e]}),t.jsx("p",{children:"Esta página exibirá os detalhes do evento."})]})},Ic=()=>{const{id:e}=ve(),r=W(),s=!!e,[n,a]=v.useState({title:"",description:"",date:"",location:""});v.useEffect(()=>{s&&console.log(`Buscando dados do evento ${e}`)},[e,s]);const i=o=>{const{name:c,value:u}=o.target;a(h=>({...h,[c]:u}))},l=o=>{o.preventDefault(),console.log(s?"Atualizando evento:":"Criando novo evento:",n),r("/communications/events")};return t.jsxs("div",{children:[t.jsx("h1",{children:s?"Editar Evento":"Criar Novo Evento"}),t.jsxs("form",{onSubmit:l,children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"title",children:"Título:"}),t.jsx("input",{type:"text",id:"title",name:"title",value:n.title,onChange:i,required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"description",children:"Descrição:"}),t.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:i,required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"date",children:"Data:"}),t.jsx("input",{type:"datetime-local",id:"date",name:"date",value:n.date,onChange:i,required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"location",children:"Local:"}),t.jsx("input",{type:"text",id:"location",name:"location",value:n.location,onChange:i})]}),t.jsx("button",{type:"submit",children:s?"Atualizar Evento":"Criar Evento"}),t.jsx("button",{type:"button",onClick:()=>r("/communications/events"),children:"Cancelar"})]})]})},Cg=()=>t.jsxs("div",{children:[t.jsx("h1",{children:"Centro de Mensagens"}),t.jsx("p",{children:"Esta página exibirá as mensagens trocadas."})]}),Sg=()=>{const{id:e}=ve();return t.jsxs("div",{children:[t.jsxs("h1",{children:["Detalhes da Mensagem ",e]}),t.jsx("p",{children:"Esta página exibirá os detalhes da mensagem."})]})},Vc=()=>{const{id:e,replyToId:r}=ve(),s=W(),n=!!r,[a,i]=v.useState({recipient:"",subject:"",body:""});v.useEffect(()=>{console.log(n?`Preparando resposta para mensagem ${r}`:"Preparando nova mensagem")},[r]);const l=c=>{const{name:u,value:h}=c.target;i(x=>({...x,[u]:h}))},o=c=>{c.preventDefault(),console.log(n?"Enviando resposta:":"Enviando nova mensagem:",a),s("/communications/messages")};return t.jsxs("div",{children:[t.jsx("h1",{children:n?"Responder Mensagem":"Nova Mensagem"}),t.jsxs("form",{onSubmit:o,children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"recipient",children:"Destinatário:"}),t.jsx("input",{type:"text",id:"recipient",name:"recipient",value:a.recipient,onChange:l,required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"subject",children:"Assunto:"}),t.jsx("input",{type:"text",id:"subject",name:"subject",value:a.subject,onChange:l,required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"body",children:"Mensagem:"}),t.jsx("textarea",{id:"body",name:"body",value:a.body,onChange:l,required:!0,rows:"10"})]}),t.jsx("button",{type:"submit",children:"Enviar Mensagem"}),t.jsx("button",{type:"button",onClick:()=>s("/communications/messages"),children:"Cancelar"})]})]})},Eg=()=>{const[e,r]=v.useState(!0),[s,n]=v.useState([]),[a,i]=v.useState(1),[l,o]=v.useState(1),[c,u]=v.useState(""),[h,x]=v.useState("all"),[f,j]=v.useState("all"),{currentUser:b}=G(),N=W();v.useEffect(()=>{(async()=>{try{r(!0);const w=await X.getRitualPlans({page:a,search:c,status:h!=="all"?h:null,type:f!=="all"?f:null,limit:10});n(w.data.results),o(Math.ceil(w.data.count/10))}catch(w){console.error("Error al cargar planes rituales:",w)}finally{r(!1)}})()},[a,c,h,f]);const y=g=>{N(`/rituals/plans/${g}`)},p=()=>{N("/rituals/plans/new")},m=g=>{switch(g){case"regular":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Tenida Regular"});case"initiation":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Iniciación"});case"passing":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Pase de Grado"});case"raising":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Exaltación"});case"installation":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Instalación"});case"instruction":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Instrucción"});default:return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Otro"})}},d=g=>{switch(g){case"draft":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Borrador"});case"approved":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Aprobado"});case"completed":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Completado"});case"cancelled":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Cancelado"});default:return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Desconocido"})}};return t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4 md:mb-0",children:"Planes Rituales"}),(b.office==="Venerable Maestro"||b.office==="Primer Vigilante"||b.office==="Segundo Vigilante"||b.degree>=3)&&t.jsx("button",{onClick:p,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Crear nuevo plan ritual"})]}),t.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar"}),t.jsx("input",{type:"text",id:"search",value:c,onChange:g=>{u(g.target.value),i(1)},placeholder:"Buscar por título o descripción...",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),t.jsxs("select",{id:"status-filter",value:h,onChange:g=>{x(g.target.value),i(1)},className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"Todos los estados"}),t.jsx("option",{value:"draft",children:"Borrador"}),t.jsx("option",{value:"approved",children:"Aprobado"}),t.jsx("option",{value:"completed",children:"Completado"}),t.jsx("option",{value:"cancelled",children:"Cancelado"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"type-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de ritual"}),t.jsxs("select",{id:"type-filter",value:f,onChange:g=>{j(g.target.value),i(1)},className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"Todos los tipos"}),t.jsx("option",{value:"regular",children:"Tenida Regular"}),t.jsx("option",{value:"initiation",children:"Iniciación"}),t.jsx("option",{value:"passing",children:"Pase de Grado"}),t.jsx("option",{value:"raising",children:"Exaltación"}),t.jsx("option",{value:"installation",children:"Instalación"}),t.jsx("option",{value:"instruction",children:"Instrucción"})]})]})]})}),e?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):s.length===0?t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No se encontraron planes rituales"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No hay planes rituales que coincidan con los criterios de búsqueda."}),(b.office==="Venerable Maestro"||b.office==="Primer Vigilante"||b.office==="Segundo Vigilante"||b.degree>=3)&&t.jsx("div",{className:"mt-6",children:t.jsx("button",{onClick:p,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Crear nuevo plan ritual"})})]}):t.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:t.jsx("ul",{className:"divide-y divide-gray-200",children:s.map(g=>t.jsx("li",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>y(g.id),children:t.jsx("div",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsxs("div",{className:"flex-shrink-0",children:[g.ritual_type==="regular"&&t.jsx("svg",{className:"h-10 w-10 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),g.ritual_type==="initiation"&&t.jsx("svg",{className:"h-10 w-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),g.ritual_type==="passing"&&t.jsx("svg",{className:"h-10 w-10 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),g.ritual_type==="raising"&&t.jsx("svg",{className:"h-10 w-10 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"})}),g.ritual_type==="installation"&&t.jsx("svg",{className:"h-10 w-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),g.ritual_type==="instruction"&&t.jsx("svg",{className:"h-10 w-10 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})]}),t.jsxs("div",{className:"ml-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:g.title}),t.jsxs("div",{className:"ml-2 flex space-x-1",children:[m(g.ritual_type),d(g.status)]})]}),t.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:[t.jsxs("span",{children:["Fecha: ",new Date(g.scheduled_date).toLocaleDateString()]}),t.jsx("span",{className:"mx-2",children:"•"}),t.jsxs("span",{children:["Grado: ",g.degree,"°"]}),g.candidate_name&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"mx-2",children:"•"}),t.jsxs("span",{children:["Candidato: ",g.candidate_name]})]})]}),t.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:g.description})]})]}),t.jsx("div",{className:"flex-shrink-0",children:t.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})})},g.id))})}),l>1&&t.jsxs("div",{className:"flex justify-between items-center mt-6",children:[t.jsx("button",{onClick:()=>i(g=>Math.max(1,g-1)),disabled:a===1,className:`px-4 py-2 text-sm font-medium rounded-md ${a===1?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Anterior"}),t.jsxs("span",{className:"text-sm text-gray-700",children:["Página ",a," de ",l]}),t.jsx("button",{onClick:()=>i(g=>Math.min(l,g+1)),disabled:a===l,className:`px-4 py-2 text-sm font-medium rounded-md ${a===l?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Siguiente"})]})]})},Lg=()=>{const{id:e}=ve(),r=W(),{currentUser:s}=G(),{showNotification:n}=je(),[a,i]=v.useState(!0),[l,o]=v.useState(null),[c,u]=v.useState("details"),h=s.office==="Venerable Maestro",x=s.office==="Venerable Maestro"||s.office==="Primer Vigilante"||s.office==="Segundo Vigilante"||l&&l.created_by===s.id;v.useEffect(()=>{(async()=>{try{i(!0);const g=await X.getRitualPlanById(e);o(g.data)}catch(g){console.error("Error al cargar el plan ritual:",g),n("Error al cargar el plan ritual","error")}finally{i(!1)}})()},[e,n]);const f=async()=>{try{await X.approveRitualPlan(e);const d=await X.getRitualPlanById(e);o(d.data),n("Plan ritual aprobado correctamente","success")}catch(d){console.error("Error al aprobar el plan ritual:",d),n("Error al aprobar el plan ritual","error")}},j=async()=>{try{await X.completeRitualPlan(e);const d=await X.getRitualPlanById(e);o(d.data),n("Plan ritual marcado como completado","success")}catch(d){console.error("Error al completar el plan ritual:",d),n("Error al completar el plan ritual","error")}},b=async()=>{try{await X.cancelRitualPlan(e);const d=await X.getRitualPlanById(e);o(d.data),n("Plan ritual cancelado","success")}catch(d){console.error("Error al cancelar el plan ritual:",d),n("Error al cancelar el plan ritual","error")}},N=()=>{r(`/rituals/plans/${e}/edit`)},y=d=>{switch(d){case"regular":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Tenida Regular"});case"initiation":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Iniciación"});case"passing":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Pase de Grado"});case"raising":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Exaltación"});case"installation":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Instalación"});case"special":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Ceremonia Especial"});default:return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Otro"})}},p=d=>{switch(d){case"draft":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Borrador"});case"approved":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Aprobado"});case"completed":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Completado"});case"cancelled":return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Cancelado"});default:return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Desconocido"})}},m=d=>{switch(d){case 1:return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Aprendiz"});case 2:return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Compañero"});case 3:return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Maestro"});default:return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Desconocido"})}};return a?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):l?t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("button",{onClick:()=>r("/rituals/plans"),className:"mr-4 text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l.title})]}),t.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[y(l.ritual_type),p(l.status),m(l.degree)]})]}),t.jsxs("div",{className:"mt-4 md:mt-0 flex flex-wrap gap-2",children:[x&&l.status==="draft"&&t.jsx("button",{onClick:N,className:"px-4 py-2 bg-white border border-gray-300 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Editar"}),h&&l.status==="draft"&&t.jsx("button",{onClick:f,className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Aprobar"}),x&&l.status==="approved"&&t.jsx("button",{onClick:j,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Marcar como completado"}),x&&(l.status==="draft"||l.status==="approved")&&t.jsx("button",{onClick:b,className:"px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Cancelar"})]})]}),t.jsx("div",{className:"border-b border-gray-200 mb-6",children:t.jsxs("nav",{className:"-mb-px flex space-x-8",children:[t.jsx("button",{onClick:()=>u("details"),className:`${c==="details"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Detalles"}),t.jsx("button",{onClick:()=>u("roles"),className:`${c==="roles"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Roles"}),t.jsx("button",{onClick:()=>u("works"),className:`${c==="works"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Trabajos"}),t.jsx("button",{onClick:()=>u("attachments"),className:`${c==="attachments"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Adjuntos"}),t.jsx("button",{onClick:()=>u("minutes"),className:`${c==="minutes"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Acta"})]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[c==="details"&&t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información general"}),t.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2",children:[t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Fecha"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(l.date).toLocaleDateString()})]}),t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Hora de inicio"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:l.start_time})]}),t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Hora de finalización"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:l.end_time||"No especificada"})]}),t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Tipo de ritual"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:l.ritual_type_display})]}),t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Grado"}),t.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[l.degree,"°"]})]}),t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Estado"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:l.status_display})]}),t.jsxs("div",{className:"sm:col-span-2",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Evento asociado"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:l.event_title||"No hay evento asociado"})]})]})]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Descripción"}),t.jsx("div",{className:"prose prose-sm max-w-none text-gray-500",children:l.description?t.jsx("p",{children:l.description}):t.jsx("p",{className:"italic",children:"No hay descripción disponible"})})]})]}),t.jsxs("div",{className:"mt-8",children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notas adicionales"}),t.jsx("div",{className:"prose prose-sm max-w-none text-gray-500",children:l.notes?t.jsx("p",{children:l.notes}):t.jsx("p",{className:"italic",children:"No hay notas adicionales"})})]})]}),c==="roles"&&t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Asignación de roles"}),x&&(l.status==="draft"||l.status==="approved")&&t.jsx("button",{onClick:()=>r(`/rituals/plans/${e}/roles/edit`),className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Editar roles"})]}),l.roles&&l.roles.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Miembro"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.roles.map(d=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:d.role_name}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.member_name||"No asignado"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.status==="confirmed"?t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Confirmado"}):d.status==="pending"?t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Pendiente"}):t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"No asignado"})})]},d.id))})]})}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay roles asignados"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Aún no se han asignado roles para este plan ritual."}),x&&(l.status==="draft"||l.status==="approved")&&t.jsx("div",{className:"mt-6",children:t.jsx("button",{onClick:()=>r(`/rituals/plans/${e}/roles/edit`),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Asignar roles"})})]})]}),c==="works"&&t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Trabajos planificados"}),x&&(l.status==="draft"||l.status==="approved")&&t.jsx("button",{onClick:()=>r(`/rituals/plans/${e}/works/edit`),className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Editar trabajos"})]}),l.works&&l.works.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Título"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Presentador"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duración"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.works.map(d=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:d.title}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.presenter_name}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[d.duration," minutos"]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.status==="confirmed"?t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Confirmado"}):d.status==="pending"?t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Pendiente"}):t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Borrador"})})]},d.id))})]})}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay trabajos planificados"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Aún no se han planificado trabajos para este ritual."}),x&&(l.status==="draft"||l.status==="approved")&&t.jsx("div",{className:"mt-6",children:t.jsx("button",{onClick:()=>r(`/rituals/plans/${e}/works/edit`),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Añadir trabajos"})})]})]}),c==="attachments"&&t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Documentos adjuntos"}),x&&(l.status==="draft"||l.status==="approved")&&t.jsx("button",{onClick:()=>r(`/rituals/plans/${e}/attachments/edit`),className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Gestionar adjuntos"})]}),l.attachments&&l.attachments.length>0?t.jsx("ul",{className:"divide-y divide-gray-200",children:l.attachments.map(d=>t.jsxs("li",{className:"py-4 flex",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),t.jsxs("div",{className:"ml-3",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.name}),t.jsxs("p",{className:"text-sm text-gray-500",children:[d.file_type," • ",d.file_size]})]}),t.jsx("div",{className:"ml-auto flex-shrink-0",children:t.jsx("a",{href:d.file_url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Descargar"})})]},d.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay documentos adjuntos"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Aún no se han adjuntado documentos a este plan ritual."}),x&&(l.status==="draft"||l.status==="approved")&&t.jsx("div",{className:"mt-6",children:t.jsx("button",{onClick:()=>r(`/rituals/plans/${e}/attachments/edit`),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Añadir documentos"})})]})]}),c==="minutes"&&t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Acta del ritual"}),x&&l.status==="completed"&&t.jsx("button",{onClick:()=>r(`/rituals/plans/${e}/minutes/edit`),className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:l.has_minutes?"Editar acta":"Crear acta"})]}),l.has_minutes?t.jsx("div",{className:"prose prose-sm max-w-none text-gray-500",children:t.jsx("div",{dangerouslySetInnerHTML:{__html:l.minutes_content}})}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay acta disponible"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l.status==="completed"?"El ritual ha sido completado pero aún no se ha creado el acta.":"El acta estará disponible una vez que el ritual haya sido completado."}),x&&l.status==="completed"&&t.jsx("div",{className:"mt-6",children:t.jsx("button",{onClick:()=>r(`/rituals/plans/${e}/minutes/edit`),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Crear acta"})})]})]})]})]}):t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Plan ritual no encontrado"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"El plan ritual que estás buscando no existe o no tienes permisos para verlo."}),t.jsx("div",{className:"mt-6",children:t.jsx("button",{onClick:()=>r("/rituals/plans"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Volver a la lista"})})]})},Uc=()=>{const{id:e}=ve(),r=W(),{currentUser:s}=G(),{showNotification:n}=je(),a=!!e,[i,l]=v.useState({title:"",description:"",date:"",start_time:"",end_time:"",ritual_type:"regular",degree:1,event:""}),[o,c]=v.useState(!1),[u,h]=v.useState(!1),[x,f]=v.useState([]);v.useEffect(()=>{(async()=>{if(a)try{c(!0);const y=await X.getRitualPlanById(e),m=new Date(y.data.date).toISOString().split("T")[0];l({title:y.data.title,description:y.data.description||"",date:m,start_time:y.data.start_time,end_time:y.data.end_time||"",ritual_type:y.data.ritual_type,degree:y.data.degree,event:y.data.event||""})}catch(y){console.error("Error al cargar el plan ritual:",y),n("Error al cargar el plan ritual","error")}finally{c(!1)}})()},[e,a,n]),v.useEffect(()=>{(async()=>{try{const y=await Um.getEvents({upcoming:!0,limit:100});f(y.data.results)}catch(y){console.error("Error al cargar eventos:",y)}})()},[]);const j=N=>{const{name:y,value:p}=N.target;l(m=>({...m,[y]:p}))},b=async N=>{N.preventDefault();try{if(h(!0),!i.title||!i.date||!i.start_time||!i.ritual_type){n("Por favor, complete todos los campos requeridos","error");return}if(a)await X.updateRitualPlan(e,i),n("Plan ritual actualizado correctamente","success");else{const y=await X.createRitualPlan(i);n("Plan ritual creado correctamente","success"),r(`/rituals/plans/${y.data.id}`);return}r(`/rituals/plans/${e}`)}catch(y){console.error("Error al guardar el plan ritual:",y),n("Error al guardar el plan ritual","error")}finally{h(!1)}};return o?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("button",{onClick:()=>r(-1),className:"mr-4 text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a?"Editar plan ritual":"Crear nuevo plan ritual"})]}),t.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:t.jsxs("form",{onSubmit:b,className:"p-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[t.jsxs("div",{className:"sm:col-span-6",children:[t.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:["Título ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"text",name:"title",id:"title",value:i.title,onChange:j,required:!0,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),t.jsxs("div",{className:"sm:col-span-6",children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descripción"}),t.jsx("div",{className:"mt-1",children:t.jsx("textarea",{id:"description",name:"description",rows:3,value:i.description,onChange:j,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Breve descripción del trabajo ritual."})]}),t.jsxs("div",{className:"sm:col-span-3",children:[t.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:["Fecha ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"date",name:"date",id:"date",value:i.date,onChange:j,required:!0,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),t.jsxs("div",{className:"sm:col-span-3",children:[t.jsxs("label",{htmlFor:"start_time",className:"block text-sm font-medium text-gray-700",children:["Hora de inicio ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"time",name:"start_time",id:"start_time",value:i.start_time,onChange:j,required:!0,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),t.jsxs("div",{className:"sm:col-span-3",children:[t.jsx("label",{htmlFor:"end_time",className:"block text-sm font-medium text-gray-700",children:"Hora de finalización"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"time",name:"end_time",id:"end_time",value:i.end_time,onChange:j,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),t.jsxs("div",{className:"sm:col-span-3",children:[t.jsxs("label",{htmlFor:"ritual_type",className:"block text-sm font-medium text-gray-700",children:["Tipo de ritual ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"ritual_type",name:"ritual_type",value:i.ritual_type,onChange:j,required:!0,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"regular",children:"Tenida Regular"}),t.jsx("option",{value:"initiation",children:"Iniciación"}),t.jsx("option",{value:"passing",children:"Pase de Grado"}),t.jsx("option",{value:"raising",children:"Exaltación"}),t.jsx("option",{value:"installation",children:"Instalación de Oficiales"}),t.jsx("option",{value:"special",children:"Ceremonia Especial"})]})})]}),t.jsxs("div",{className:"sm:col-span-3",children:[t.jsxs("label",{htmlFor:"degree",className:"block text-sm font-medium text-gray-700",children:["Grado ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"degree",name:"degree",value:i.degree,onChange:j,required:!0,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:1,children:"Aprendiz (1°)"}),t.jsx("option",{value:2,children:"Compañero (2°)"}),t.jsx("option",{value:3,children:"Maestro (3°)"})]})})]}),t.jsxs("div",{className:"sm:col-span-6",children:[t.jsx("label",{htmlFor:"event",className:"block text-sm font-medium text-gray-700",children:"Evento asociado"}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"event",name:"event",value:i.event,onChange:j,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"",children:"Ninguno"}),x.map(N=>t.jsxs("option",{value:N.id,children:[N.title," (",new Date(N.date).toLocaleDateString(),")"]},N.id))]})}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Opcional: Asociar este plan ritual a un evento existente."})]})]}),t.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[t.jsx("button",{type:"button",onClick:()=>r(-1),className:"px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed",children:u?t.jsxs("span",{className:"flex items-center",children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):"Guardar"})]})]})})]})},Rg=()=>{const{planId:e,roleId:r}=ve(),s=W(),{currentUser:n}=G(),{showNotification:a}=je(),i=!!r,[l,o]=v.useState(!1),[c,u]=v.useState(!1),[h,x]=v.useState(null),[f,j]=v.useState([]),[b,N]=v.useState({role_type:"vm",custom_role:"",assigned_to:"",notes:"",is_confirmed:!1});v.useEffect(()=>{(async()=>{try{o(!0);const d=await X.getRitualPlanById(e);x(d.data)}catch(d){console.error("Error al cargar el plan ritual:",d),a("Error al cargar el plan ritual","error"),s("/rituals/plans")}finally{o(!1)}})()},[e,s,a]),v.useEffect(()=>{(async()=>{if(i)try{o(!0);const d=await X.getRitualRoleById(r);N({role_type:d.data.role_type,custom_role:d.data.custom_role||"",assigned_to:d.data.assigned_to||"",notes:d.data.notes||"",is_confirmed:d.data.is_confirmed})}catch(d){console.error("Error al cargar el rol ritual:",d),a("Error al cargar el rol ritual","error")}finally{o(!1)}})()},[r,i,a]),v.useEffect(()=>{(async()=>{try{const g=await(await fetch("/api/members?degree=3")).json();j(g.results)}catch(d){console.error("Error al cargar miembros:",d)}})()},[]);const y=m=>{const{name:d,value:g,type:w,checked:k}=m.target;N(C=>({...C,[d]:w==="checkbox"?k:g}))},p=async m=>{m.preventDefault();try{u(!0);const d={...b,ritual_plan:e};i?(await X.updateRitualRole(r,d),a("Rol ritual actualizado correctamente","success")):(await X.createRitualRole(d),a("Rol ritual creado correctamente","success")),s(`/rituals/plans/${e}`)}catch(d){console.error("Error al guardar el rol ritual:",d),a("Error al guardar el rol ritual","error")}finally{u(!1)}};return l?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):h?t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("button",{onClick:()=>s(`/rituals/plans/${e}`),className:"mr-4 text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:i?"Editar rol ritual":"Añadir rol ritual"})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[t.jsxs("div",{className:"px-4 py-5 sm:px-6 bg-gray-50",children:[t.jsxs("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:["Plan ritual: ",h.title]}),t.jsxs("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:["Fecha: ",new Date(h.date).toLocaleDateString()," | Tipo: ",h.ritual_type_display]})]}),t.jsxs("form",{onSubmit:p,className:"p-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[t.jsxs("div",{className:"sm:col-span-3",children:[t.jsxs("label",{htmlFor:"role_type",className:"block text-sm font-medium text-gray-700",children:["Tipo de rol ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"role_type",name:"role_type",value:b.role_type,onChange:y,required:!0,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"vm",children:"Venerable Maestro"}),t.jsx("option",{value:"pv",children:"Primer Vigilante"}),t.jsx("option",{value:"sv",children:"Segundo Vigilante"}),t.jsx("option",{value:"sec",children:"Secretario"}),t.jsx("option",{value:"tes",children:"Tesorero"}),t.jsx("option",{value:"pd",children:"Primer Diácono"}),t.jsx("option",{value:"sd",children:"Segundo Diácono"}),t.jsx("option",{value:"gi",children:"Guarda Templo Interior"}),t.jsx("option",{value:"gt",children:"Guarda Templo Exterior"}),t.jsx("option",{value:"cap",children:"Capellán"}),t.jsx("option",{value:"ora",children:"Orador"}),t.jsx("option",{value:"mce",children:"Maestro de Ceremonias"}),t.jsx("option",{value:"exp",children:"Experto"}),t.jsx("option",{value:"hos",children:"Hospitalario"}),t.jsx("option",{value:"mus",children:"Músico"}),t.jsx("option",{value:"other",children:"Otro"})]})})]}),b.role_type==="other"&&t.jsxs("div",{className:"sm:col-span-3",children:[t.jsxs("label",{htmlFor:"custom_role",className:"block text-sm font-medium text-gray-700",children:["Rol personalizado ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"text",name:"custom_role",id:"custom_role",value:b.custom_role,onChange:y,required:b.role_type==="other",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),t.jsxs("div",{className:"sm:col-span-6",children:[t.jsx("label",{htmlFor:"assigned_to",className:"block text-sm font-medium text-gray-700",children:"Asignado a"}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"assigned_to",name:"assigned_to",value:b.assigned_to,onChange:y,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"",children:"No asignado"}),f.map(m=>t.jsx("option",{value:m.id,children:m.symbolic_name||`${m.first_name} ${m.last_name}`},m.id))]})})]}),t.jsxs("div",{className:"sm:col-span-6",children:[t.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notas"}),t.jsx("div",{className:"mt-1",children:t.jsx("textarea",{id:"notes",name:"notes",rows:3,value:b.notes,onChange:y,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Notas adicionales sobre este rol."})]}),t.jsx("div",{className:"sm:col-span-6",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex items-center h-5",children:t.jsx("input",{id:"is_confirmed",name:"is_confirmed",type:"checkbox",checked:b.is_confirmed,onChange:y,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),t.jsxs("div",{className:"ml-3 text-sm",children:[t.jsx("label",{htmlFor:"is_confirmed",className:"font-medium text-gray-700",children:"Confirmado"}),t.jsx("p",{className:"text-gray-500",children:"Marcar si el miembro ha confirmado su participación."})]})]})})]}),t.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[t.jsx("button",{type:"button",onClick:()=>s(`/rituals/plans/${e}`),className:"px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed",children:c?t.jsxs("span",{className:"flex items-center",children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):"Guardar"})]})]})]})]}):t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Plan ritual no encontrado"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"El plan ritual que estás buscando no existe o no tienes permisos para verlo."}),t.jsx("div",{className:"mt-6",children:t.jsx("button",{onClick:()=>s("/rituals/plans"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Volver a la lista"})})]})},Mg=()=>{const{planId:e,workId:r}=ve(),s=W(),{currentUser:n}=G(),{showNotification:a}=je(),i=!!r,[l,o]=v.useState(!1),[c,u]=v.useState(!1),[h,x]=v.useState(null),[f,j]=v.useState([]),[b,N]=v.useState({title:"",description:"",work_type:"lecture",responsible:"",estimated_duration:15,order:1,attachment:null,status:"pending"});v.useEffect(()=>{(async()=>{try{o(!0);const d=await X.getRitualPlanById(e);if(x(d.data),!i&&d.data.works){const g=d.data.works.reduce((w,k)=>Math.max(w,k.order||0),0);N(w=>({...w,order:g+1}))}}catch(d){console.error("Error al cargar el plan ritual:",d),a("Error al cargar el plan ritual","error"),s("/rituals/plans")}finally{o(!1)}})()},[e,i,s,a]),v.useEffect(()=>{(async()=>{if(i)try{o(!0);const g=(await X.getRitualWorkById(r)).data;N({title:g.title||"",description:g.description||"",work_type:g.work_type||"lecture",responsible:g.responsible||"",estimated_duration:g.estimated_duration||15,order:g.order||1,status:g.status||"pending",attachment:null})}catch(d){console.error("Error al cargar el trabajo:",d),a("Error al cargar el trabajo","error"),s(`/rituals/plans/${e}`)}finally{o(!1)}})()},[r,i,e,s,a]),v.useEffect(()=>{(async()=>{try{const d=await X.getLodgeMembers();j(d.data)}catch(d){console.error("Error al cargar miembros:",d)}})()},[]);const y=m=>{const{name:d,value:g,type:w,files:k}=m.target;N(w==="file"?C=>({...C,[d]:k[0]||null}):C=>({...C,[d]:g}))},p=async m=>{m.preventDefault();try{u(!0);const d=new FormData;Object.keys(b).forEach(g=>{b[g]!==null&&d.append(g,b[g])}),d.append("ritual_plan",e),i?(await X.updateRitualWork(r,d),a("Trabajo actualizado correctamente","success")):(await X.createRitualWork(d),a("Trabajo creado correctamente","success")),s(`/rituals/plans/${e}`)}catch(d){console.error("Error al guardar el trabajo:",d),a("Error al guardar el trabajo","error")}finally{u(!1)}};return l?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("button",{onClick:()=>s(`/rituals/plans/${e}`),className:"mr-4 text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:i?"Editar trabajo":"Nuevo trabajo"})]}),h&&t.jsx("div",{className:"mb-6 bg-white shadow overflow-hidden sm:rounded-lg",children:t.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[t.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Plan ritual: ",h.title]}),t.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:h.date&&new Date(h.date).toLocaleDateString()})]})}),t.jsx("form",{onSubmit:p,className:"bg-white shadow overflow-hidden sm:rounded-lg",children:t.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[t.jsxs("div",{className:"sm:col-span-4",children:[t.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Título *"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"text",name:"title",id:"title",required:!0,value:b.title,onChange:y,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),t.jsxs("div",{className:"sm:col-span-2",children:[t.jsx("label",{htmlFor:"work_type",className:"block text-sm font-medium text-gray-700",children:"Tipo de trabajo"}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"work_type",name:"work_type",value:b.work_type,onChange:y,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"lecture",children:"Plancha"}),t.jsx("option",{value:"ritual",children:"Ritual"}),t.jsx("option",{value:"instruction",children:"Instrucción"}),t.jsx("option",{value:"discussion",children:"Discusión"}),t.jsx("option",{value:"other",children:"Otro"})]})})]}),t.jsxs("div",{className:"sm:col-span-3",children:[t.jsx("label",{htmlFor:"responsible",className:"block text-sm font-medium text-gray-700",children:"Responsable"}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"responsible",name:"responsible",value:b.responsible,onChange:y,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"",children:"Seleccionar responsable"}),f.map(m=>t.jsxs("option",{value:m.id,children:[m.name," ",m.office?`(${m.office})`:""]},m.id))]})})]}),t.jsxs("div",{className:"sm:col-span-3",children:[t.jsx("label",{htmlFor:"estimated_duration",className:"block text-sm font-medium text-gray-700",children:"Duración estimada (minutos)"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"number",name:"estimated_duration",id:"estimated_duration",min:"1",max:"180",value:b.estimated_duration,onChange:y,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),t.jsxs("div",{className:"sm:col-span-2",children:[t.jsx("label",{htmlFor:"order",className:"block text-sm font-medium text-gray-700",children:"Orden"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"number",name:"order",id:"order",min:"1",value:b.order,onChange:y,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),t.jsxs("div",{className:"sm:col-span-2",children:[t.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Estado"}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"status",name:"status",value:b.status,onChange:y,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"pending",children:"Pendiente"}),t.jsx("option",{value:"in_progress",children:"En progreso"}),t.jsx("option",{value:"completed",children:"Completado"}),t.jsx("option",{value:"cancelled",children:"Cancelado"})]})})]}),t.jsxs("div",{className:"sm:col-span-6",children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descripción"}),t.jsx("div",{className:"mt-1",children:t.jsx("textarea",{id:"description",name:"description",rows:4,value:b.description,onChange:y,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Breve descripción del trabajo a realizar."})]}),t.jsxs("div",{className:"sm:col-span-6",children:[t.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700",children:"Archivo adjunto"}),t.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:t.jsxs("div",{className:"space-y-1 text-center",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:t.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),t.jsxs("div",{className:"flex text-sm text-gray-600",children:[t.jsxs("label",{htmlFor:"attachment",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[t.jsx("span",{children:"Subir un archivo"}),t.jsx("input",{id:"attachment",name:"attachment",type:"file",className:"sr-only",onChange:y})]}),t.jsx("p",{className:"pl-1",children:"o arrastrar y soltar"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX, PPT, PPTX hasta 10MB"}),b.attachment&&t.jsxs("p",{className:"text-sm text-indigo-600",children:["Archivo seleccionado: ",b.attachment.name]})]})})]})]}),t.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[t.jsx("button",{type:"button",onClick:()=>s(`/rituals/plans/${e}`),className:"px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed",children:c?t.jsxs("span",{className:"flex items-center",children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):"Guardar"})]})]})})]})},Pg=()=>{const{planId:e,minutesId:r}=ve(),s=W(),{currentUser:n}=G(),{showNotification:a}=je(),i=!!r,[l,o]=v.useState(!1),[c,u]=v.useState(!1),[h,x]=v.useState(null),[f,j]=v.useState({content:"",attendance_count:0,visitors_count:0,status:"draft"});v.useEffect(()=>{(async()=>{try{o(!0);const m=await X.getRitualPlanById(e);x(m.data),m.data.status!=="completed"&&(a("Solo se pueden crear actas para planes rituales completados","warning"),s(`/rituals/plans/${e}`))}catch(m){console.error("Error al cargar el plan ritual:",m),a("Error al cargar el plan ritual","error"),s("/rituals/plans")}finally{o(!1)}})()},[e,s,a]),v.useEffect(()=>{(async()=>{if(i)try{o(!0);const m=await X.getRitualMinutesById(r);j({content:m.data.content,attendance_count:m.data.attendance_count,visitors_count:m.data.visitors_count,status:m.data.status})}catch(m){console.error("Error al cargar el acta ritual:",m),a("Error al cargar el acta ritual","error")}finally{o(!1)}})()},[r,i,a]);const b=p=>{const{name:m,value:d,type:g}=p.target;j(g==="number"?w=>({...w,[m]:parseInt(d,10)||0}):w=>({...w,[m]:d}))},N=async p=>{p.preventDefault();try{u(!0);const m={...f,ritual_plan:e};i?(await X.updateRitualMinutes(r,m),a("Acta ritual actualizada correctamente","success")):(await X.createRitualMinutes(m),a("Acta ritual creada correctamente","success")),s(`/rituals/plans/${e}`)}catch(m){console.error("Error al guardar el acta ritual:",m),a("Error al guardar el acta ritual","error")}finally{u(!1)}},y=async()=>{try{u(!0),await X.finalizeRitualMinutes(r),a("Acta ritual finalizada correctamente","success"),s(`/rituals/plans/${e}`)}catch(p){console.error("Error al finalizar el acta ritual:",p),a("Error al finalizar el acta ritual","error")}finally{u(!1)}};return l?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):h?t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("button",{onClick:()=>s(`/rituals/plans/${e}`),className:"mr-4 text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:i?"Editar acta ritual":"Crear acta ritual"})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[t.jsxs("div",{className:"px-4 py-5 sm:px-6 bg-gray-50",children:[t.jsxs("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:["Plan ritual: ",h.title]}),t.jsxs("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:["Fecha: ",new Date(h.date).toLocaleDateString()," | Tipo: ",h.ritual_type_display]})]}),t.jsxs("form",{onSubmit:N,className:"p-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[t.jsxs("div",{className:"sm:col-span-6",children:[t.jsxs("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700",children:["Contenido del acta ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"mt-1",children:t.jsx("textarea",{id:"content",name:"content",rows:15,value:f.content,onChange:b,required:!0,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Redacte aquí el contenido completo del acta ritual..."})}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Incluya todos los detalles relevantes del trabajo ritual realizado."})]}),t.jsxs("div",{className:"sm:col-span-3",children:[t.jsxs("label",{htmlFor:"attendance_count",className:"block text-sm font-medium text-gray-700",children:["Número de asistentes ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"number",name:"attendance_count",id:"attendance_count",min:"0",value:f.attendance_count,onChange:b,required:!0,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Número total de miembros de la Logia que asistieron."})]}),t.jsxs("div",{className:"sm:col-span-3",children:[t.jsx("label",{htmlFor:"visitors_count",className:"block text-sm font-medium text-gray-700",children:"Número de visitantes"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"number",name:"visitors_count",id:"visitors_count",min:"0",value:f.visitors_count,onChange:b,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Número de visitantes de otras Logias que asistieron."})]})]}),t.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[t.jsx("button",{type:"button",onClick:()=>s(`/rituals/plans/${e}`),className:"px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),i&&f.status==="draft"&&t.jsx("button",{type:"button",onClick:y,disabled:c,className:"px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 disabled:cursor-not-allowed",children:c?"Procesando...":"Finalizar acta"}),t.jsx("button",{type:"submit",disabled:c||i&&f.status!=="draft",className:"px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed",children:c?t.jsxs("span",{className:"flex items-center",children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):"Guardar"})]}),i&&f.status!=="draft"&&t.jsx("div",{className:"mt-4 p-4 bg-yellow-50 rounded-md",children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),t.jsxs("div",{className:"ml-3",children:[t.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Acta finalizada"}),t.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:t.jsx("p",{children:"Esta acta ya ha sido finalizada y no puede ser modificada. Si necesita realizar cambios, contacte al Venerable Maestro."})})]})]})})]})]})]}):t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Plan ritual no encontrado"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"El plan ritual que estás buscando no existe o no tienes permisos para verlo."}),t.jsx("div",{className:"mt-6",children:t.jsx("button",{onClick:()=>s("/rituals/plans"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Volver a la lista"})})]})},Dg=()=>{const{currentUser:e}=G(),{showNotification:r}=je(),[s,n]=v.useState(!0),[a,i]=v.useState({totalDocuments:0,totalCategories:0,featuredDocuments:[],recentDocuments:[],popularDocuments:[],topCategories:[]});v.useEffect(()=>{(async()=>{try{n(!0);const c=await ge.getDocuments({is_featured:!0,limit:5}),u=await ge.getDocuments({order_by:"-created_at",limit:5}),h=await ge.getDocuments({order_by:"-view_count",limit:5}),x=await ge.getCategories({parent_id:"null"}),f=await ge.getLibraryStats();i({totalDocuments:f.data.total_documents||0,totalCategories:f.data.total_categories||0,featuredDocuments:c.data.results||[],recentDocuments:u.data.results||[],popularDocuments:h.data.results||[],topCategories:x.data||[]})}catch(c){console.error("Error al cargar estadísticas de la biblioteca:",c),r("Error al cargar estadísticas de la biblioteca","error")}finally{n(!1)}})()},[r]);const l=o=>{switch(o){case"article":return"Artículo";case"book":return"Libro";case"ritual":return"Ritual";case"lecture":return"Conferencia";case"research":return"Investigación";default:return"Otro"}};return s?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Biblioteca"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Explora y gestiona documentos masónicos"})]}),t.jsxs("div",{className:"mt-4 md:mt-0 flex space-x-3",children:[t.jsx(T,{to:"/library/documents/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Nuevo documento"}),t.jsx(T,{to:"/library/categories/new",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Nueva categoría"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[t.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[t.jsx("div",{className:"px-4 py-5 sm:p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:t.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total de documentos"}),t.jsx("dd",{children:t.jsx("div",{className:"text-lg font-medium text-gray-900",children:a.totalDocuments})})]})})]})}),t.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:t.jsx("div",{className:"text-sm",children:t.jsx(T,{to:"/library/documents",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Ver todos los documentos"})})})]}),t.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[t.jsx("div",{className:"px-4 py-5 sm:p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:t.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total de categorías"}),t.jsx("dd",{children:t.jsx("div",{className:"text-lg font-medium text-gray-900",children:a.totalCategories})})]})})]})}),t.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:t.jsx("div",{className:"text-sm",children:t.jsx(T,{to:"/library/categories",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Ver todas las categorías"})})})]}),t.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[t.jsx("div",{className:"px-4 py-5 sm:p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:t.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Documentos destacados"}),t.jsx("dd",{children:t.jsx("div",{className:"text-lg font-medium text-gray-900",children:a.featuredDocuments.length})})]})})]})}),t.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:t.jsx("div",{className:"text-sm",children:t.jsx(T,{to:"/library/documents?is_featured=true",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Ver documentos destacados"})})})]}),t.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[t.jsx("div",{className:"px-4 py-5 sm:p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:t.jsxs("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Documentos más vistos"}),t.jsx("dd",{children:t.jsx("div",{className:"text-lg font-medium text-gray-900",children:a.popularDocuments.length>0&&a.popularDocuments[0].view_count||0})})]})})]})}),t.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:t.jsx("div",{className:"text-sm",children:t.jsx(T,{to:"/library/documents?order_by=-view_count",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Ver documentos populares"})})})]})]}),t.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-8",children:[t.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Documentos destacados"}),t.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Documentos seleccionados por su relevancia"})]}),t.jsx(T,{to:"/library/documents?is_featured=true",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Ver todos"})]}),t.jsx("div",{className:"border-t border-gray-200",children:a.featuredDocuments.length>0?t.jsx("ul",{className:"divide-y divide-gray-200",children:a.featuredDocuments.map(o=>t.jsx("li",{className:"px-4 py-4 sm:px-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),t.jsxs("div",{className:"ml-4",children:[t.jsx(T,{to:`/library/documents/${o.id}`,className:"text-sm font-medium text-indigo-600 hover:text-indigo-900",children:o.title}),t.jsx("p",{className:"text-sm text-gray-500",children:l(o.document_type)})]})]}),t.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[o.view_count||0," vistas"]})})]})},o.id))}):t.jsx("div",{className:"text-center py-6",children:t.jsx("p",{className:"text-sm text-gray-500",children:"No hay documentos destacados"})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 mb-8",children:[t.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[t.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Documentos recientes"}),t.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Últimos documentos añadidos"})]}),t.jsx(T,{to:"/library/documents?order_by=-created_at",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Ver todos"})]}),t.jsx("div",{className:"border-t border-gray-200",children:a.recentDocuments.length>0?t.jsx("ul",{className:"divide-y divide-gray-200",children:a.recentDocuments.map(o=>t.jsx("li",{className:"px-4 py-4 sm:px-6",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),t.jsxs("div",{className:"ml-4",children:[t.jsx(T,{to:`/library/documents/${o.id}`,className:"text-sm font-medium text-indigo-600 hover:text-indigo-900",children:o.title}),t.jsx("p",{className:"text-sm text-gray-500",children:new Date(o.created_at).toLocaleDateString()})]})]})})},o.id))}):t.jsx("div",{className:"text-center py-6",children:t.jsx("p",{className:"text-sm text-gray-500",children:"No hay documentos recientes"})})})]}),t.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[t.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Documentos populares"}),t.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Los más vistos por los miembros"})]}),t.jsx(T,{to:"/library/documents?order_by=-view_count",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Ver todos"})]}),t.jsx("div",{className:"border-t border-gray-200",children:a.popularDocuments.length>0?t.jsx("ul",{className:"divide-y divide-gray-200",children:a.popularDocuments.map(o=>t.jsx("li",{className:"px-4 py-4 sm:px-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),t.jsxs("div",{className:"ml-4",children:[t.jsx(T,{to:`/library/documents/${o.id}`,className:"text-sm font-medium text-indigo-600 hover:text-indigo-900",children:o.title}),t.jsx("p",{className:"text-sm text-gray-500",children:l(o.document_type)})]})]}),t.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[o.view_count||0," vistas"]})})]})},o.id))}):t.jsx("div",{className:"text-center py-6",children:t.jsx("p",{className:"text-sm text-gray-500",children:"No hay documentos populares"})})})]})]}),t.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[t.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Categorías principales"}),t.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Explora documentos por categoría"})]}),t.jsx(T,{to:"/library/categories",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Ver todas"})]}),t.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:a.topCategories.length>0?t.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:a.topCategories.map(o=>t.jsxs("div",{className:"relative rounded-lg border border-gray-300 bg-white px-6 py-5 shadow-sm flex items-center space-x-3 hover:border-gray-400 focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("svg",{className:"h-10 w-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"})})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs(T,{to:`/library/categories/${o.id}`,className:"focus:outline-none",children:[t.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.name}),t.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[o.document_count," documentos"]})]})})]},o.id))}):t.jsxs("div",{className:"text-center py-6",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"No hay categorías disponibles"}),t.jsx("div",{className:"mt-4",children:t.jsx(T,{to:"/library/categories/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Crear categoría"})})]})})]})]})},Fg=()=>{const e=W(),r=kt(),{currentUser:s}=G(),{showNotification:n}=je(),[a,i]=v.useState(!0),[l,o]=v.useState([]),[c,u]=v.useState(null),[h,x]=v.useState({parent_id:new URLSearchParams(r.search).get("parent_id")||"null",search:"",required_degree:""});v.useEffect(()=>{(async()=>{try{if(i(!0),h.parent_id&&h.parent_id!=="null"){const m=await ge.getCategoryById(h.parent_id);u(m.data)}else u(null);const p=await ge.getCategories(h);o(p.data)}catch(p){console.error("Error al cargar categorías:",p),n("Error al cargar categorías","error")}finally{i(!1)}})()},[h,n]);const f=y=>{const{name:p,value:m}=y.target;x(d=>({...d,[p]:m}))},j=y=>{y.preventDefault()},b=async y=>{if(window.confirm("¿Estás seguro de que deseas eliminar esta categoría? Esta acción no se puede deshacer."))try{await ge.deleteCategory(y),n("Categoría eliminada correctamente","success"),o(l.filter(p=>p.id!==y))}catch(p){console.error("Error al eliminar la categoría:",p),n("Error al eliminar la categoría","error")}},N=y=>{switch(y){case 1:return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Aprendiz"});case 2:return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Compañero"});case 3:return t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Maestro"});default:return null}};return a?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("button",{onClick:()=>e("/library"),className:"mr-4 text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:c?`Subcategorías de ${c.name}`:"Categorías de la Biblioteca"})]}),c&&t.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[t.jsx("button",{onClick:()=>x(y=>({...y,parent_id:"null"})),className:"text-indigo-600 hover:text-indigo-500",children:"Categorías principales"})," > ",c.name]})]}),t.jsx("div",{className:"mt-4 md:mt-0",children:s.degree===3&&t.jsx(T,{to:c?`/library/categories/new?parent_id=${c.id}`:"/library/categories/new",className:"px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:c?"Añadir subcategoría":"Añadir categoría"})})]}),t.jsx("div",{className:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6 mb-6",children:t.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[t.jsxs("div",{className:"md:col-span-1",children:[t.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Filtros"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Utiliza estos filtros para encontrar categorías específicas."})]}),t.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:t.jsxs("form",{onSubmit:j,children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[t.jsxs("div",{className:"col-span-1",children:[t.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Buscar"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"text",name:"search",id:"search",value:h.search,onChange:f,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Nombre o descripción"})})]}),t.jsxs("div",{className:"col-span-1",children:[t.jsx("label",{htmlFor:"required_degree",className:"block text-sm font-medium text-gray-700",children:"Grado requerido"}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"required_degree",name:"required_degree",value:h.required_degree,onChange:f,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"",children:"Todos"}),t.jsx("option",{value:"1",children:"Aprendiz (1°)"}),t.jsx("option",{value:"2",children:"Compañero (2°)"}),t.jsx("option",{value:"3",children:"Maestro (3°)"})]})})]})]}),t.jsxs("div",{className:"mt-4 flex justify-end",children:[t.jsx("button",{type:"button",onClick:()=>x({parent_id:h.parent_id,search:"",required_degree:""}),className:"mr-3 px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Limpiar"}),t.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Buscar"})]})]})})]})}),l.length>0?t.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:t.jsx("ul",{className:"divide-y divide-gray-200",children:l.map(y=>t.jsx("li",{children:t.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-indigo-100 rounded-md flex items-center justify-center",children:t.jsx("svg",{className:"h-6 w-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),t.jsxs("div",{className:"ml-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:y.name}),t.jsx("div",{className:"ml-2",children:N(y.required_degree)})]}),t.jsx("div",{className:"mt-1 text-sm text-gray-500",children:y.description||"Sin descripción"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:[y.documents_count," documentos"]}),t.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:[y.subcategories_count," subcategorías"]})]})]}),t.jsxs("div",{className:"mt-4 flex justify-between",children:[t.jsxs("div",{className:"text-sm text-gray-500",children:["Creada por ",y.created_by_name||"Usuario desconocido"," el ",new Date(y.created_at).toLocaleDateString()]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>e(`/library/categories/${y.id}`),className:"text-indigo-600 hover:text-indigo-900",children:"Ver detalles"}),t.jsx("button",{onClick:()=>e(`/library/categories?parent_id=${y.id}`),className:"text-indigo-600 hover:text-indigo-900",children:"Ver subcategorías"}),s.degree===3&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>e(`/library/categories/${y.id}/edit`),className:"text-yellow-600 hover:text-yellow-900",children:"Editar"}),t.jsx("button",{onClick:()=>b(y.id),className:"text-red-600 hover:text-red-900",children:"Eliminar"})]})]})]})]})},y.id))})}):t.jsxs("div",{className:"text-center py-12 bg-white shadow sm:rounded-lg",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay categorías"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:h.search||h.required_degree?"No se encontraron categorías con los filtros aplicados.":c?"Esta categoría no tiene subcategorías.":"No hay categorías en la biblioteca."}),s.degree===3&&t.jsx("div",{className:"mt-6",children:t.jsx(T,{to:c?`/library/categories/new?parent_id=${c.id}`:"/library/categories/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:c?"Añadir subcategoría":"Añadir categoría"})})]})]})},zg=()=>{const{id:e}=ve(),r=W(),{currentUser:s}=G(),{showNotification:n}=je(),[a,i]=v.useState(!0),[l,o]=v.useState(null),[c,u]=v.useState([]),[h,x]=v.useState([]),[f,j]=v.useState("documents");v.useEffect(()=>{(async()=>{try{i(!0);const y=await ge.getCategoryById(e);o(y.data);const p=await ge.getCategories({parent_id:e});u(p.data);const m=await ge.getDocuments({category_id:e});x(m.data.results||[])}catch(y){console.error("Error al cargar datos de la categoría:",y),n("Error al cargar datos de la categoría","error"),r("/library/categories")}finally{i(!1)}})()},[e,r,n]);const b=async()=>{if(window.confirm("¿Estás seguro de que deseas eliminar esta categoría? Esta acción no se puede deshacer."))try{await ge.deleteCategory(e),n("Categoría eliminada correctamente","success"),r("/library/categories")}catch(N){console.error("Error al eliminar la categoría:",N),n("Error al eliminar la categoría","error")}};return a?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):l?t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("button",{onClick:()=>r("/library/categories"),className:"mr-4 text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l.name})]}),l.parent_name&&t.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Subcategoría de"," ",t.jsx(T,{to:`/library/categories/${l.parent_id}`,className:"text-indigo-600 hover:text-indigo-900",children:l.parent_name})]})]}),t.jsxs("div",{className:"mt-4 md:mt-0 flex flex-wrap gap-2",children:[t.jsx("button",{onClick:()=>r(`/library/categories/${e}/edit`),className:"px-4 py-2 bg-white border border-gray-300 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Editar"}),t.jsx("button",{onClick:b,className:"px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Eliminar"})]})]}),t.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[t.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[t.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Información de la categoría"}),t.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Detalles y propiedades"})]}),t.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0",children:t.jsxs("dl",{className:"sm:divide-y sm:divide-gray-200",children:[t.jsxs("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Nombre"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:l.name})]}),t.jsxs("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Descripción"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:l.description||"Sin descripción"})]}),t.jsxs("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Categoría padre"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:l.parent_name?t.jsx(T,{to:`/library/categories/${l.parent_id}`,className:"text-indigo-600 hover:text-indigo-900",children:l.parent_name}):"Categoría principal"})]}),t.jsxs("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Creado por"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:l.created_by_name||"Desconocido"})]}),t.jsxs("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Fecha de creación"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:new Date(l.created_at).toLocaleString()})]}),t.jsxs("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Última actualización"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:new Date(l.updated_at).toLocaleString()})]})]})})]}),t.jsx("div",{className:"border-b border-gray-200 mb-6",children:t.jsxs("nav",{className:"-mb-px flex space-x-8",children:[t.jsx("button",{onClick:()=>j("documents"),className:`${f==="documents"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Documentos"}),t.jsx("button",{onClick:()=>j("subcategories"),className:`${f==="subcategories"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Subcategorías"})]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[f==="documents"&&t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Documentos en esta categoría"}),t.jsx(T,{to:`/library/documents/new?category=${e}`,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Añadir documento"})]}),h.length>0?t.jsx("ul",{className:"divide-y divide-gray-200",children:h.map(N=>t.jsx("li",{className:"py-4",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx(T,{to:`/library/documents/${N.id}`,className:"text-sm font-medium text-indigo-600 hover:text-indigo-900 truncate",children:N.title}),t.jsx("p",{className:"text-sm text-gray-500 truncate",children:N.description})]}),t.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:new Date(N.updated_at).toLocaleDateString()}),t.jsx(T,{to:`/library/documents/${N.id}`,className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ver"})]})]})},N.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay documentos"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Aún no hay documentos en esta categoría."}),t.jsx("div",{className:"mt-6",children:t.jsx(T,{to:`/library/documents/new?category=${e}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Añadir documento"})})]})]}),f==="subcategories"&&t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Subcategorías"}),t.jsx(T,{to:`/library/categories/new?parent=${e}`,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Añadir subcategoría"})]}),c.length>0?t.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:c.map(N=>t.jsxs("div",{className:"relative rounded-lg border border-gray-300 bg-white px-6 py-5 shadow-sm flex items-center space-x-3 hover:border-gray-400 focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("svg",{className:"h-10 w-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"})})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs(T,{to:`/library/categories/${N.id}`,className:"focus:outline-none",children:[t.jsx("span",{className:"absolute inset-0","aria-hidden":"true"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.name}),t.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[N.document_count," documentos"]})]})})]},N.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"})}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay subcategorías"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Aún no hay subcategorías en esta categoría."}),t.jsx("div",{className:"mt-6",children:t.jsx(T,{to:`/library/categories/new?parent=${e}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Añadir subcategoría"})})]})]})]})]}):t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Categoría no encontrada"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"La categoría que estás buscando no existe o no tienes permisos para verla."}),t.jsx("div",{className:"mt-6",children:t.jsx("button",{onClick:()=>r("/library/categories"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Volver a la lista"})})]})},Hc=()=>{const{id:e}=ve(),r=W(),s=kt(),{currentUser:n}=G(),{showNotification:a}=je(),i=!!e,o=new URLSearchParams(s.search).get("parent_id"),[c,u]=v.useState({name:"",description:"",parent:o||null,required_degree:1,order:0}),[h,x]=v.useState(!1),[f,j]=v.useState(!1),[b,N]=v.useState([]);v.useEffect(()=>{(async()=>{if(i)try{x(!0);const d=await ge.getCategoryById(e);u({name:d.data.name,description:d.data.description||"",parent:d.data.parent||null,required_degree:d.data.required_degree,order:d.data.order})}catch(d){console.error("Error al cargar la categoría:",d),a("Error al cargar la categoría","error"),r("/library/categories")}finally{x(!1)}})()},[e,i,r,a]),v.useEffect(()=>{(async()=>{try{const d=await ge.getCategories(),g=i?d.data.filter(w=>w.id!==parseInt(e)):d.data;N(g)}catch(d){console.error("Error al cargar categorías:",d)}})()},[e,i]);const y=m=>{const{name:d,value:g,type:w}=m.target;u(w==="select-one"&&d==="parent"?k=>({...k,[d]:g===""?null:parseInt(g)}):w==="number"?k=>({...k,[d]:parseInt(g)}):k=>({...k,[d]:g}))},p=async m=>{m.preventDefault();try{if(j(!0),i)await ge.updateCategory(e,c),a("Categoría actualizada correctamente","success"),r(`/library/categories/${e}`);else{const d=await ge.createCategory(c);a("Categoría creada correctamente","success"),r(`/library/categories/${d.data.id}`)}}catch(d){console.error("Error al guardar la categoría:",d),a("Error al guardar la categoría","error")}finally{j(!1)}};return h?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("button",{onClick:()=>r(-1),className:"mr-4 text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:i?"Editar categoría":"Crear nueva categoría"})]}),t.jsx("div",{className:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6",children:t.jsxs("form",{onSubmit:p,children:[t.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[t.jsxs("div",{className:"sm:col-span-4",children:[t.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Nombre ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"text",name:"name",id:"name",value:c.name,onChange:y,required:!0,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),t.jsxs("div",{className:"sm:col-span-6",children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descripción"}),t.jsx("div",{className:"mt-1",children:t.jsx("textarea",{id:"description",name:"description",rows:3,value:c.description,onChange:y,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Breve descripción de la categoría."})]}),t.jsxs("div",{className:"sm:col-span-3",children:[t.jsx("label",{htmlFor:"parent",className:"block text-sm font-medium text-gray-700",children:"Categoría padre"}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"parent",name:"parent",value:c.parent||"",onChange:y,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"",children:"Ninguna (categoría principal)"}),b.map(m=>t.jsx("option",{value:m.id,children:m.name},m.id))]})}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Opcional: Selecciona una categoría padre para crear una jerarquía."})]}),t.jsxs("div",{className:"sm:col-span-3",children:[t.jsxs("label",{htmlFor:"required_degree",className:"block text-sm font-medium text-gray-700",children:["Grado requerido ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"required_degree",name:"required_degree",value:c.required_degree,onChange:y,required:!0,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:1,children:"Aprendiz (1°)"}),t.jsx("option",{value:2,children:"Compañero (2°)"}),t.jsx("option",{value:3,children:"Maestro (3°)"})]})}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Grado mínimo requerido para acceder a esta categoría."})]}),t.jsxs("div",{className:"sm:col-span-2",children:[t.jsx("label",{htmlFor:"order",className:"block text-sm font-medium text-gray-700",children:"Orden"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"number",name:"order",id:"order",min:"0",value:c.order,onChange:y,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Orden de visualización (menor número = mayor prioridad)."})]})]}),t.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[t.jsx("button",{type:"button",onClick:()=>r(-1),className:"px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed",children:f?t.jsxs("span",{className:"flex items-center",children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):"Guardar"})]})]})})]})},Tg=()=>{W();const e=kt(),{currentUser:r}=G(),{showNotification:s}=je(),[n,a]=v.useState(!0),[i,l]=v.useState([]),[o,c]=v.useState(0),[u,h]=v.useState([]),[x,f]=v.useState({page:1,limit:12,search:"",category_id:new URLSearchParams(e.search).get("category_id")||"",document_type:"",required_degree:"",is_featured:"",order_by:"-created_at"});v.useEffect(()=>{(async()=>{try{a(!0);const d=await ge.getDocuments(x);l(d.data.results||[]),c(d.data.count||0)}catch(d){console.error("Error al cargar documentos:",d),s("Error al cargar documentos","error")}finally{a(!1)}})()},[x,s]),v.useEffect(()=>{(async()=>{try{const d=await ge.getCategories();h(d.data||[])}catch(d){console.error("Error al cargar categorías:",d)}})()},[]);const j=m=>{const{name:d,value:g}=m.target;f(w=>({...w,[d]:g,page:1}))},b=m=>{f(d=>({...d,search:m.target.value,page:1}))},N=m=>{f(d=>({...d,page:m}))},y=Math.ceil(o/x.limit),p=m=>{switch(m){case"article":return"Artículo";case"book":return"Libro";case"ritual":return"Ritual";case"lecture":return"Conferencia";case"research":return"Investigación";default:return"Otro"}};return t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Biblioteca"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Explora y gestiona documentos masónicos"})]}),t.jsx("div",{className:"mt-4 md:mt-0",children:t.jsx(T,{to:"/library/documents/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Nuevo documento"})})]}),t.jsx("div",{className:"bg-white shadow rounded-lg mb-6",children:t.jsx("div",{className:"px-4 py-5 sm:p-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[t.jsxs("div",{className:"sm:col-span-6",children:[t.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Buscar"}),t.jsx("div",{className:"mt-1 flex rounded-md shadow-sm",children:t.jsx("div",{className:"relative flex items-stretch flex-grow focus-within:z-10",children:t.jsx("input",{type:"text",name:"search",id:"search",value:x.search,onChange:b,className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Título, autor, contenido..."})})})]}),t.jsxs("div",{className:"sm:col-span-2",children:[t.jsx("label",{htmlFor:"category_id",className:"block text-sm font-medium text-gray-700",children:"Categoría"}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"category_id",name:"category_id",value:x.category_id,onChange:j,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"",children:"Todas las categorías"}),u.map(m=>t.jsx("option",{value:m.id,children:m.name},m.id))]})})]}),t.jsxs("div",{className:"sm:col-span-2",children:[t.jsx("label",{htmlFor:"document_type",className:"block text-sm font-medium text-gray-700",children:"Tipo de documento"}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"document_type",name:"document_type",value:x.document_type,onChange:j,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"",children:"Todos los tipos"}),t.jsx("option",{value:"article",children:"Artículo"}),t.jsx("option",{value:"book",children:"Libro"}),t.jsx("option",{value:"ritual",children:"Ritual"}),t.jsx("option",{value:"lecture",children:"Conferencia"}),t.jsx("option",{value:"research",children:"Investigación"}),t.jsx("option",{value:"other",children:"Otro"})]})})]}),t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("label",{htmlFor:"required_degree",className:"block text-sm font-medium text-gray-700",children:"Grado requerido"}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"required_degree",name:"required_degree",value:x.required_degree,onChange:j,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"",children:"Todos"}),t.jsx("option",{value:"1",children:"1° Aprendiz"}),t.jsx("option",{value:"2",children:"2° Compañero"}),t.jsx("option",{value:"3",children:"3° Maestro"})]})})]}),t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("label",{htmlFor:"is_featured",className:"block text-sm font-medium text-gray-700",children:"Destacados"}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"is_featured",name:"is_featured",value:x.is_featured,onChange:j,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"",children:"Todos"}),t.jsx("option",{value:"true",children:"Solo destacados"}),t.jsx("option",{value:"false",children:"No destacados"})]})})]}),t.jsxs("div",{className:"col-span-1",children:[t.jsx("label",{htmlFor:"order_by",className:"block text-sm font-medium text-gray-700",children:"Ordenar por"}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"order_by",name:"order_by",value:x.order_by,onChange:j,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"-created_at",children:"Más recientes"}),t.jsx("option",{value:"created_at",children:"Más antiguos"}),t.jsx("option",{value:"title",children:"Título (A-Z)"}),t.jsx("option",{value:"-title",children:"Título (Z-A)"}),t.jsx("option",{value:"-view_count",children:"Más vistos"}),t.jsx("option",{value:"-download_count",children:"Más descargados"})]})})]})]})})}),n?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):i.length>0?t.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:i.map(m=>t.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg flex flex-col",children:[t.jsxs("div",{className:"px-4 py-5 sm:p-6 flex-grow",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:p(m.document_type)}),m.is_featured&&t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Destacado"})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:t.jsx(T,{to:`/library/documents/${m.id}`,className:"hover:underline",children:m.title})}),t.jsx("p",{className:"mt-2 text-sm text-gray-500 line-clamp-3",children:m.description||"Sin descripción"})]}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[t.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("span",{children:new Date(m.created_at).toLocaleDateString()})]}),t.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[t.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"})}),t.jsx("span",{children:m.category_name||"Sin categoría"})]}),m.required_degree>0&&t.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[t.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),t.jsxs("span",{children:["Grado ",m.required_degree,"°",m.required_degree===1&&" (Aprendiz)",m.required_degree===2&&" (Compañero)",m.required_degree===3&&" (Maestro)"]})]})]})]}),t.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:t.jsxs("div",{className:"flex justify-between",children:[t.jsx("div",{className:"text-sm",children:t.jsx(T,{to:`/library/documents/${m.id}`,className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Ver detalles"})}),t.jsxs("div",{className:"flex space-x-4 text-sm",children:[t.jsxs("span",{className:"text-gray-500",children:[m.view_count||0," vistas"]}),t.jsxs("span",{className:"text-gray-500",children:[m.download_count||0," descargas"]})]})]})})]},m.id))}):t.jsxs("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay documentos"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No se encontraron documentos con los criterios de búsqueda actuales."}),t.jsx("div",{className:"mt-6",children:t.jsx("button",{onClick:()=>f({page:1,limit:12,search:"",category_id:"",document_type:"",required_degree:"",is_featured:"",order_by:"-created_at"}),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Limpiar filtros"})})]}),y>1&&t.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-6",children:[t.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[t.jsx("button",{onClick:()=>N(Math.max(1,x.page-1)),disabled:x.page===1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${x.page===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Anterior"}),t.jsx("button",{onClick:()=>N(Math.min(y,x.page+1)),disabled:x.page===y,className:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${x.page===y?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Siguiente"})]}),t.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[t.jsx("div",{children:t.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando ",t.jsx("span",{className:"font-medium",children:i.length>0?(x.page-1)*x.limit+1:0})," a"," ",t.jsx("span",{className:"font-medium",children:Math.min(x.page*x.limit,o)})," ","de ",t.jsx("span",{className:"font-medium",children:o})," resultados"]})}),t.jsx("div",{children:t.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[t.jsxs("button",{onClick:()=>N(1),disabled:x.page===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${x.page===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[t.jsx("span",{className:"sr-only",children:"Primera página"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),t.jsxs("button",{onClick:()=>N(x.page-1),disabled:x.page===1,className:`relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium ${x.page===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[t.jsx("span",{className:"sr-only",children:"Anterior"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),[...Array(y).keys()].map(m=>{const d=m+1;return d===1||d===y||d>=x.page-1&&d<=x.page+1?t.jsx("button",{onClick:()=>N(d),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${d===x.page?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:d},d):d===2&&x.page>3||d===y-1&&x.page<y-2?t.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."},d):null}),t.jsxs("button",{onClick:()=>N(x.page+1),disabled:x.page===y,className:`relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium ${x.page===y?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[t.jsx("span",{className:"sr-only",children:"Siguiente"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]}),t.jsxs("button",{onClick:()=>N(y),disabled:x.page===y,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${x.page===y?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[t.jsx("span",{className:"sr-only",children:"Última página"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})};var Gm={exports:{}},Ag="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$g=Ag,Bg=$g;function Qm(){}function Km(){}Km.resetWarningCache=Qm;var Og=function(){function e(n,a,i,l,o,c){if(c!==Bg){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function r(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:Km,resetWarningCache:Qm};return s.PropTypes=s,s};Gm.exports=Og();var Ig=Gm.exports;const re=qc(Ig),io=({title:e,subtitle:r,actions:s,className:n=""})=>t.jsxs("div",{className:`flex flex-col md:flex-row md:items-center md:justify-between mb-6 ${n}`,children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e}),r&&t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]}),s&&t.jsx("div",{className:"mt-4 md:mt-0 flex flex-wrap gap-2",children:s})]});io.propTypes={title:re.string.isRequired,subtitle:re.string,actions:re.node,className:re.string};const Rt=({variant:e="primary",size:r="md",isLoading:s=!1,disabled:n=!1,type:a="button",onClick:i,children:l,className:o="",...c})=>{const u="inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2",h={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},x={primary:"border border-transparent text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500 disabled:bg-indigo-300",secondary:"border border-transparent text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:ring-indigo-500 disabled:bg-indigo-50",outline:"border border-gray-300 text-gray-700 bg-white hover:bg-gray-50 focus:ring-indigo-500 disabled:bg-gray-100",danger:"border border-transparent text-white bg-red-600 hover:bg-red-700 focus:ring-red-500 disabled:bg-red-300"},f=`
    ${u}
    ${h[r]||h.md}
    ${x[e]||x.primary}
    ${n?"cursor-not-allowed":""}
    ${o}
  `;return t.jsxs("button",{type:a,className:f,disabled:n||s,onClick:i,...c,children:[s&&t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l]})};Rt.propTypes={variant:re.oneOf(["primary","secondary","outline","danger"]),size:re.oneOf(["sm","md","lg"]),isLoading:re.bool,disabled:re.bool,type:re.string,onClick:re.func,children:re.node.isRequired,className:re.string};const lo=({size:e="md",color:r="indigo",text:s,fullScreen:n=!1,className:a=""})=>{const i={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"},l={indigo:"text-indigo-500",gray:"text-gray-500",red:"text-red-500",green:"text-green-500",blue:"text-blue-500"},o=()=>t.jsxs("svg",{className:`animate-spin ${i[e]||i.md} ${l[r]||l.indigo} ${a}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});return n?t.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 z-50",children:t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl flex flex-col items-center",children:[t.jsx(o,{}),s&&t.jsx("p",{className:"mt-4 text-gray-700",children:s})]})}):t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx(o,{}),s&&t.jsx("p",{className:"ml-3 text-gray-700",children:s})]})};lo.propTypes={size:re.oneOf(["sm","md","lg"]),color:re.oneOf(["indigo","gray","red","green","blue"]),text:re.string,fullScreen:re.bool,className:re.string};const Zn=({message:e,type:r="info",title:s,dismissible:n=!1,onDismiss:a,className:i=""})=>{const[l,o]=v.useState(!1);if(l)return null;const c={info:{containerClass:"bg-blue-50 border-blue-400 text-blue-700",iconClass:"text-blue-400",icon:t.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})},success:{containerClass:"bg-green-50 border-green-400 text-green-700",iconClass:"text-green-400",icon:t.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})},warning:{containerClass:"bg-yellow-50 border-yellow-400 text-yellow-700",iconClass:"text-yellow-400",icon:t.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})},error:{containerClass:"bg-red-50 border-red-400 text-red-700",iconClass:"text-red-400",icon:t.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}},u=c[r]||c.info,h=()=>{o(!0),a&&a()};return t.jsx("div",{className:`border-l-4 p-4 ${u.containerClass} ${i}`,role:"alert",children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:u.iconClass,children:u.icon})}),t.jsxs("div",{className:"ml-3",children:[s&&t.jsx("h3",{className:"text-sm font-medium",children:s}),t.jsx("div",{className:"text-sm",children:e})]}),n&&t.jsx("div",{className:"ml-auto pl-3",children:t.jsx("div",{className:"-mx-1.5 -my-1.5",children:t.jsxs("button",{type:"button",className:`inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2 ${r==="info"?"focus:ring-blue-500":r==="success"?"focus:ring-green-500":r==="warning"?"focus:ring-yellow-500":"focus:ring-red-500"}`,onClick:h,children:[t.jsx("span",{className:"sr-only",children:"Dismiss"}),t.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})})]})})};Zn.propTypes={message:re.string.isRequired,type:re.oneOf(["info","success","warning","error"]),title:re.string,dismissible:re.bool,onDismiss:re.func,className:re.string};const Vg=()=>{const{id:e}=ve(),r=W(),[s,n]=v.useState(null),[a,i]=v.useState(!0),[l,o]=v.useState(null),[c,u]=v.useState(!1);v.useEffect(()=>{(async()=>{try{i(!0);const f=await Q.get(`/api/library/documents/${e}/`);n(f.data),o(null)}catch(f){o("Error al cargar los detalles del documento. Por favor, intente nuevamente."),console.error("Error fetching document details:",f)}finally{i(!1)}})()},[e]);const h=async()=>{try{i(!0),await Q.delete(`/api/library/documents/${e}/`),r("/library")}catch(x){o("Error al eliminar el documento. Por favor, intente nuevamente."),console.error("Error deleting document:",x),i(!1)}};return a?t.jsx(lo,{}):l?t.jsx(Zn,{type:"error",message:l}):s?t.jsxs("div",{className:"p-4",children:[t.jsx(io,{title:"Detalle de Documento",backLink:"/library",backLabel:"Volver a Biblioteca"}),t.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold mb-2",children:s.title}),t.jsxs("div",{className:"flex items-center text-gray-500 mb-4",children:[t.jsxs("span",{children:["Subido por ",s.uploaded_by]}),t.jsx("span",{className:"mx-2",children:"•"}),t.jsx("span",{children:new Date(s.upload_date).toLocaleDateString()})]}),s.categories&&s.categories.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.categories.map(x=>t.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:x},x))}),s.description&&t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-gray-500 text-sm font-medium mb-1",children:"Descripción"}),t.jsx("p",{className:"text-gray-700",children:s.description})]}),t.jsxs("div",{className:"mt-6 flex flex-wrap gap-2",children:[t.jsx(Rt,{label:"Descargar",icon:"download",variant:"primary",as:"a",href:s.file_url,target:"_blank",rel:"noopener noreferrer"}),t.jsx(Rt,{label:"Editar",icon:"edit",variant:"secondary",as:T,to:`/library/documents/edit/${e}`})]})]}),t.jsx("div",{className:"flex justify-end",children:c?t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(Rt,{label:"Cancelar",variant:"secondary",onClick:()=>u(!1)}),t.jsx(Rt,{label:"Confirmar Eliminación",variant:"danger",onClick:h})]}):t.jsx(Rt,{label:"Eliminar",icon:"trash",variant:"danger",onClick:()=>u(!0)})})]}):t.jsx(Zn,{type:"warning",message:"Documento no encontrado"})},Wc=()=>{const{id:e}=ve(),r=W(),s=!!e,[n,a]=v.useState({title:"",description:"",categories:[],file:null}),[i,l]=v.useState(s),[o,c]=v.useState(!1),[u,h]=v.useState(null),[x,f]=v.useState([]),[j,b]=v.useState("");v.useEffect(()=>{(async()=>{try{const m=await Q.get("/api/library/categories/?type=documents");f(m.data)}catch(m){console.error("Error fetching categories:",m),f([{id:1,name:"Administrativo"},{id:2,name:"Ritual"},{id:3,name:"Educativo"},{id:4,name:"Histórico"},{id:5,name:"Legal"}])}})(),s&&(async()=>{try{const d=await Q.get(`/api/library/documents/${e}/`),{title:g,description:w,categories:k,file_url:C}=d.data;if(a({title:g,description:w||"",categories:k||[],file:null}),C){const R=C.split("/");b(R[R.length-1])}l(!1)}catch(d){h("Error al cargar los datos del documento. Por favor, intente nuevamente."),console.error("Error fetching document:",d),l(!1)}})()},[e,s]);const N=p=>{const{name:m,value:d,type:g,files:w,checked:k}=p.target;if(g==="file")a(C=>({...C,[m]:w[0]})),w[0]&&b(w[0].name);else if(g==="checkbox"){const C=[...n.categories];if(k)C.push(d);else{const R=C.indexOf(d);R>-1&&C.splice(R,1)}a(R=>({...R,categories:C}))}else a(C=>({...C,[m]:d}))},y=async p=>{if(p.preventDefault(),!n.title){h("Por favor complete el título del documento.");return}if(!s&&!n.file){h("Por favor seleccione un archivo para subir.");return}const m=new FormData;m.append("title",n.title),n.description&&m.append("description",n.description),n.categories.length>0&&m.append("categories",JSON.stringify(n.categories)),n.file&&m.append("file",n.file);try{c(!0),s?await Q.put(`/api/library/documents/${e}/`,m,{headers:{"Content-Type":"multipart/form-data"}}):await Q.post("/api/library/documents/",m,{headers:{"Content-Type":"multipart/form-data"}}),r("/library")}catch(d){h(`Error al ${s?"actualizar":"subir"} el documento. Por favor, intente nuevamente.`),console.error("Error submitting form:",d),c(!1)}};return i?t.jsx(lo,{}):t.jsxs("div",{className:"p-4",children:[t.jsx(io,{title:s?"Editar Documento":"Subir Nuevo Documento",backLink:"/library",backLabel:"Volver a Biblioteca"}),u&&t.jsx(Zn,{type:"error",message:u,className:"mb-4"}),t.jsxs("form",{onSubmit:y,className:"bg-white shadow-md rounded-lg p-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"title",children:"Título *"}),t.jsx("input",{id:"title",name:"title",type:"text",value:n.title,onChange:N,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description",children:"Descripción"}),t.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:N,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",rows:"4"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Categorías"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:x.map(p=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{id:`category-${p.id}`,name:"categories",type:"checkbox",value:p.name,checked:n.categories.includes(p.name),onChange:N,className:"mr-2"}),t.jsx("label",{htmlFor:`category-${p.id}`,children:p.name})]},p.id))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"file",children:["Archivo ",s?"(opcional)":"*"]}),t.jsx("input",{id:"file",name:"file",type:"file",onChange:N,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!s}),s&&j&&!n.file&&t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Archivo actual: ",j,". Seleccione un nuevo archivo solo si desea reemplazarlo."]})]})]}),t.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[t.jsx(Rt,{type:"button",label:"Cancelar",variant:"secondary",onClick:()=>r("/library")}),t.jsx(Rt,{type:"submit",label:s?"Actualizar":"Subir",variant:"primary",disabled:o})]})]})]})},Ug=()=>{const e=W(),{currentUser:r}=G(),{showNotification:s}=je(),[n,a]=v.useState(!0),[i,l]=v.useState(null),[o,c]=v.useState(null),[u,h]=v.useState(null),[x,f]=v.useState([]),[j,b]=v.useState([]);v.useEffect(()=>{(async()=>{try{a(!0);const g=await de.getSystemHealthSummary();l(g.data);const w=await de.getLodgeConfiguration();c(w.data);const k=await de.getBackupConfiguration();h(k.data);const C=await de.getSystemLogs({limit:5});f(C.data.results||[]);const R=await de.getAllBackups({limit:5});b(R.data.results||[])}catch(g){console.error("Error al cargar datos de administración:",g),s("Error al cargar datos de administración","error")}finally{a(!1)}})()},[s]);const N=async()=>{try{await de.createBackup(),s("Respaldo iniciado correctamente","success");const d=await de.getAllBackups({limit:5});b(d.data.results||[])}catch(d){console.error("Error al crear respaldo:",d),s("Error al crear respaldo","error")}},y=d=>{switch(d){case"healthy":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Saludable"});case"warning":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Advertencia"});case"critical":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Crítico"});default:return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"Desconocido"})}},p=d=>{switch(d){case"info":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:"Info"});case"warning":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Advertencia"});case"error":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Error"});case"critical":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-100 text-purple-800",children:"Crítico"});case"security":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-indigo-100 text-indigo-800",children:"Seguridad"});default:return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"Desconocido"})}},m=d=>{switch(d){case"success":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Éxito"});case"failure":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Fallido"});case"in_progress":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:"En progreso"});default:return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"Desconocido"})}};return n?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Panel de Administración"}),t.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[t.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[t.jsx("div",{className:"px-4 py-5 sm:p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:t.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Estado del Sistema"}),t.jsx("dd",{children:t.jsx("div",{className:"text-lg font-medium text-gray-900",children:i&&y(i.status)})})]})})]})}),t.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:t.jsx("div",{className:"text-sm",children:t.jsx("button",{onClick:()=>e("/admin/system-health"),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Ver detalles"})})})]}),t.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[t.jsx("div",{className:"px-4 py-5 sm:p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:t.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Uso de CPU"}),t.jsx("dd",{children:t.jsx("div",{className:"text-lg font-medium text-gray-900",children:i?`${i.cpu_usage}%`:"N/A"})})]})})]})}),t.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:t.jsx("div",{className:"text-sm",children:t.jsx("button",{onClick:()=>e("/admin/system-health"),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Ver detalles"})})})]}),t.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[t.jsx("div",{className:"px-4 py-5 sm:p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:t.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Uso de Memoria"}),t.jsx("dd",{children:t.jsx("div",{className:"text-lg font-medium text-gray-900",children:i?`${i.memory_usage}%`:"N/A"})})]})})]})}),t.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:t.jsx("div",{className:"text-sm",children:t.jsx("button",{onClick:()=>e("/admin/system-health"),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Ver detalles"})})})]}),t.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[t.jsx("div",{className:"px-4 py-5 sm:p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-yellow-500 rounded-md p-3",children:t.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Uso de Disco"}),t.jsx("dd",{children:t.jsx("div",{className:"text-lg font-medium text-gray-900",children:i?`${i.disk_usage}%`:"N/A"})})]})})]})}),t.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:t.jsx("div",{className:"text-sm",children:t.jsx("button",{onClick:()=>e("/admin/system-health"),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Ver detalles"})})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[t.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Configuración de la Logia"}),t.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Información general y configuración de la Logia."})]}),t.jsx("button",{onClick:()=>e("/admin/lodge-configuration"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Editar"})]}),t.jsx("div",{className:"border-t border-gray-200",children:t.jsxs("dl",{children:[t.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Nombre de la Logia"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(o==null?void 0:o.lodge_name)||"No configurado"})]}),t.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Número de la Logia"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(o==null?void 0:o.lodge_number)||"No configurado"})]}),t.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Gran Logia"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(o==null?void 0:o.grand_lodge_name)||"No configurado"})]}),t.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Fecha de fundación"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:o!=null&&o.foundation_date?new Date(o.foundation_date).toLocaleDateString():"No configurado"})]})]})})]}),t.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[t.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Configuración de respaldos"}),t.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Configuración de respaldos automáticos del sistema."})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:N,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Crear respaldo"}),t.jsx("button",{onClick:()=>e("/admin/backup-configuration"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Editar"})]})]}),t.jsx("div",{className:"border-t border-gray-200",children:t.jsxs("dl",{children:[t.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Estado"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:u!=null&&u.is_active?t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Activo"}):t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Inactivo"})})]}),t.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Frecuencia"}),t.jsxs("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[(u==null?void 0:u.frequency)==="daily"&&"Diario",(u==null?void 0:u.frequency)==="weekly"&&"Semanal",(u==null?void 0:u.frequency)==="monthly"&&"Mensual",!(u!=null&&u.frequency)&&"No configurado"]})]}),t.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Hora programada"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:u?`${u.hour}:${u.minute.toString().padStart(2,"0")}`:"No configurado"})]}),t.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Ruta de respaldos"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(u==null?void 0:u.backup_path)||"No configurado"})]})]})})]}),t.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[t.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Registros del sistema"}),t.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Últimos registros de actividad del sistema."})]}),t.jsx("button",{onClick:()=>e("/admin/system-logs"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ver todos"})]}),t.jsx("div",{className:"border-t border-gray-200",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Módulo"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mensaje"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.length>0?x.map(d=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p(d.log_type)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.module}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 truncate max-w-xs",children:d.message}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(d.created_at).toLocaleString()})]},d.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No hay registros disponibles"})})})]})})})]}),t.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[t.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Respaldos recientes"}),t.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Últimos respaldos del sistema."})]}),t.jsx("button",{onClick:()=>e("/admin/backups"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ver todos"})]}),t.jsx("div",{className:"border-t border-gray-200",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Archivo"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.length>0?j.map(d=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 truncate max-w-xs",children:d.filename}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.backup_type==="manual"?"Manual":"Programado"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m(d.status)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(d.created_at).toLocaleString()})]},d.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No hay respaldos disponibles"})})})]})})})]})]})]})},Hg=()=>{const e=W(),{currentUser:r}=G(),{showNotification:s}=je(),[n,a]=v.useState(!0),[i,l]=v.useState([]),[o,c]=v.useState(0),[u,h]=v.useState({page:1,limit:20,log_type:"",module:"",user_id:"",date_from:"",date_to:"",search:""});v.useEffect(()=>{(async()=>{try{a(!0);const p=await de.getSystemLogs(u);l(p.data.results||[]),c(p.data.count||0)}catch(p){console.error("Error al cargar logs del sistema:",p),s("Error al cargar logs del sistema","error")}finally{a(!1)}})()},[u,s]);const x=y=>{const{name:p,value:m}=y.target;h(d=>({...d,[p]:m,page:1}))},f=y=>{y.preventDefault()},j=y=>{h(p=>({...p,page:y}))},b=y=>{switch(y){case"info":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:"Info"});case"warning":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Advertencia"});case"error":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Error"});case"critical":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-100 text-purple-800",children:"Crítico"});case"security":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-indigo-100 text-indigo-800",children:"Seguridad"});default:return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"Desconocido"})}},N=Math.ceil(o/u.limit);return n&&i.length===0?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("button",{onClick:()=>e("/admin"),className:"mr-4 text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Registros del Sistema"})]}),t.jsx("div",{className:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6 mb-6",children:t.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[t.jsxs("div",{className:"md:col-span-1",children:[t.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Filtros"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Utiliza estos filtros para encontrar registros específicos."})]}),t.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:t.jsxs("form",{onSubmit:f,children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[t.jsxs("div",{className:"col-span-1",children:[t.jsx("label",{htmlFor:"log_type",className:"block text-sm font-medium text-gray-700",children:"Tipo de registro"}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"log_type",name:"log_type",value:u.log_type,onChange:x,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"",children:"Todos"}),t.jsx("option",{value:"info",children:"Información"}),t.jsx("option",{value:"warning",children:"Advertencia"}),t.jsx("option",{value:"error",children:"Error"}),t.jsx("option",{value:"critical",children:"Crítico"}),t.jsx("option",{value:"security",children:"Seguridad"})]})})]}),t.jsxs("div",{className:"col-span-1",children:[t.jsx("label",{htmlFor:"module",className:"block text-sm font-medium text-gray-700",children:"Módulo"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"text",name:"module",id:"module",value:u.module,onChange:x,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Nombre del módulo"})})]}),t.jsxs("div",{className:"col-span-1",children:[t.jsx("label",{htmlFor:"date_from",className:"block text-sm font-medium text-gray-700",children:"Fecha desde"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"date",name:"date_from",id:"date_from",value:u.date_from,onChange:x,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),t.jsxs("div",{className:"col-span-1",children:[t.jsx("label",{htmlFor:"date_to",className:"block text-sm font-medium text-gray-700",children:"Fecha hasta"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"date",name:"date_to",id:"date_to",value:u.date_to,onChange:x,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Buscar"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"text",name:"search",id:"search",value:u.search,onChange:x,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Buscar en mensaje o detalles"})})]})]}),t.jsxs("div",{className:"mt-4 flex justify-end",children:[t.jsx("button",{type:"button",onClick:()=>h({page:1,limit:20,log_type:"",module:"",user_id:"",date_from:"",date_to:"",search:""}),className:"mr-3 px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Limpiar"}),t.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Buscar"})]})]})})]})}),t.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[t.jsx("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Registros del sistema"}),t.jsxs("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:[o," registros encontrados"]})]})}),t.jsx("div",{className:"border-t border-gray-200",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Módulo"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mensaje"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.length>0?i.map(y=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b(y.log_type)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.module}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 truncate max-w-xs",children:y.message}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.user_name||"Sistema"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.ip_address||"-"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(y.created_at).toLocaleString()}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.jsx("button",{onClick:()=>{alert(`Detalles del log:
${y.details||"Sin detalles adicionales"}`)},className:"text-indigo-600 hover:text-indigo-900",children:"Ver detalles"})})]},y.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No hay registros disponibles"})})})]})})})]}),N>1&&t.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-6",children:[t.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[t.jsx("button",{onClick:()=>j(Math.max(1,u.page-1)),disabled:u.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:"Anterior"}),t.jsx("button",{onClick:()=>j(Math.min(N,u.page+1)),disabled:u.page===N,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:"Siguiente"})]}),t.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[t.jsx("div",{children:t.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando ",t.jsx("span",{className:"font-medium",children:(u.page-1)*u.limit+1})," a"," ",t.jsx("span",{className:"font-medium",children:Math.min(u.page*u.limit,o)})," ","de ",t.jsx("span",{className:"font-medium",children:o})," resultados"]})}),t.jsx("div",{children:t.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[t.jsxs("button",{onClick:()=>j(1),disabled:u.page===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:[t.jsx("span",{className:"sr-only",children:"Primera"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),t.jsxs("button",{onClick:()=>j(Math.max(1,u.page-1)),disabled:u.page===1,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:[t.jsx("span",{className:"sr-only",children:"Anterior"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),[...Array(N)].map((y,p)=>{const m=p+1;return m===1||m===N||m>=u.page-1&&m<=u.page+1?t.jsx("button",{onClick:()=>j(m),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${m===u.page?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:m},m):m===u.page-2&&m>1||m===u.page+2&&m<N?t.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."},m):null}),t.jsxs("button",{onClick:()=>j(Math.min(N,u.page+1)),disabled:u.page===N,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:[t.jsx("span",{className:"sr-only",children:"Siguiente"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]}),t.jsxs("button",{onClick:()=>j(N),disabled:u.page===N,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:[t.jsx("span",{className:"sr-only",children:"Última"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})},Wg=()=>{const e=W(),{currentUser:r}=G(),{showNotification:s}=je(),[n,a]=v.useState(!0),[i,l]=v.useState(!1),[o,c]=v.useState(null),[u,h]=v.useState(null);v.useEffect(()=>{(async()=>{try{a(!0);const N=await de.getLodgeConfiguration();c(N.data),N.data.logo&&h(N.data.logo)}catch(N){console.error("Error al cargar configuración de la Logia:",N),s("Error al cargar configuración de la Logia","error")}finally{a(!1)}})()},[s]);const x=b=>{const{name:N,value:y,type:p,checked:m}=b.target;c(d=>({...d,[N]:p==="checkbox"?m:y}))},f=b=>{const N=b.target.files[0];if(N){c(p=>({...p,logo:N}));const y=new FileReader;y.onloadend=()=>{h(y.result)},y.readAsDataURL(N)}},j=async b=>{b.preventDefault();try{l(!0);const N=new FormData;for(const y in o)y==="logo"&&typeof o[y]=="object"?N.append("logo",o[y]):o[y]!==null&&o[y]!==void 0&&N.append(y,o[y]);await de.updateLodgeConfiguration(N),s("Configuración actualizada correctamente","success")}catch(N){console.error("Error al actualizar configuración:",N),s("Error al actualizar configuración","error")}finally{l(!1)}};return n?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("button",{onClick:()=>e("/admin"),className:"mr-4 text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuración de la Logia"})]}),t.jsx("div",{className:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6",children:t.jsxs("form",{onSubmit:j,children:[t.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[t.jsxs("div",{className:"md:col-span-1",children:[t.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Información General"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Información básica de la Logia."})]}),t.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:t.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[t.jsxs("div",{className:"col-span-6 sm:col-span-4",children:[t.jsx("label",{htmlFor:"lodge_name",className:"block text-sm font-medium text-gray-700",children:"Nombre de la Logia"}),t.jsx("input",{type:"text",name:"lodge_name",id:"lodge_name",value:(o==null?void 0:o.lodge_name)||"",onChange:x,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",required:!0})]}),t.jsxs("div",{className:"col-span-6 sm:col-span-2",children:[t.jsx("label",{htmlFor:"lodge_number",className:"block text-sm font-medium text-gray-700",children:"Número de la Logia"}),t.jsx("input",{type:"text",name:"lodge_number",id:"lodge_number",value:(o==null?void 0:o.lodge_number)||"",onChange:x,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),t.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[t.jsx("label",{htmlFor:"foundation_date",className:"block text-sm font-medium text-gray-700",children:"Fecha de fundación"}),t.jsx("input",{type:"date",name:"foundation_date",id:"foundation_date",value:(o==null?void 0:o.foundation_date)||"",onChange:x,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),t.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[t.jsx("label",{htmlFor:"grand_lodge_name",className:"block text-sm font-medium text-gray-700",children:"Nombre de la Gran Logia"}),t.jsx("input",{type:"text",name:"grand_lodge_name",id:"grand_lodge_name",value:(o==null?void 0:o.grand_lodge_name)||"",onChange:x,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),t.jsxs("div",{className:"col-span-6",children:[t.jsx("label",{htmlFor:"jurisdiction",className:"block text-sm font-medium text-gray-700",children:"Jurisdicción"}),t.jsx("input",{type:"text",name:"jurisdiction",id:"jurisdiction",value:(o==null?void 0:o.jurisdiction)||"",onChange:x,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]})})]}),t.jsx("div",{className:"hidden sm:block","aria-hidden":"true",children:t.jsx("div",{className:"py-5",children:t.jsx("div",{className:"border-t border-gray-200"})})}),t.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[t.jsxs("div",{className:"md:col-span-1",children:[t.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Apariencia"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Configuración visual de la plataforma."})]}),t.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:t.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[t.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[t.jsx("label",{htmlFor:"logo",className:"block text-sm font-medium text-gray-700",children:"Logo"}),t.jsxs("div",{className:"mt-2 flex items-center",children:[u&&t.jsx("div",{className:"mr-4",children:t.jsx("img",{src:u,alt:"Logo de la Logia",className:"h-16 w-16 object-contain"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("input",{type:"file",name:"logo",id:"logo",accept:"image/*",onChange:f,className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Recomendado: PNG o JPG, máximo 2MB"})]})]})]}),t.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[t.jsx("label",{htmlFor:"primary_color",className:"block text-sm font-medium text-gray-700",children:"Color primario"}),t.jsxs("div",{className:"mt-1 flex items-center",children:[t.jsx("input",{type:"color",name:"primary_color",id:"primary_color",value:(o==null?void 0:o.primary_color)||"#1a237e",onChange:x,className:"h-8 w-8 mr-2 border-gray-300 rounded-md"}),t.jsx("input",{type:"text",name:"primary_color",value:(o==null?void 0:o.primary_color)||"#1a237e",onChange:x,className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]}),t.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[t.jsx("label",{htmlFor:"secondary_color",className:"block text-sm font-medium text-gray-700",children:"Color secundario"}),t.jsxs("div",{className:"mt-1 flex items-center",children:[t.jsx("input",{type:"color",name:"secondary_color",id:"secondary_color",value:(o==null?void 0:o.secondary_color)||"#ffc107",onChange:x,className:"h-8 w-8 mr-2 border-gray-300 rounded-md"}),t.jsx("input",{type:"text",name:"secondary_color",value:(o==null?void 0:o.secondary_color)||"#ffc107",onChange:x,className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]})]})})]}),t.jsx("div",{className:"hidden sm:block","aria-hidden":"true",children:t.jsx("div",{className:"py-5",children:t.jsx("div",{className:"border-t border-gray-200"})})}),t.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[t.jsxs("div",{className:"md:col-span-1",children:[t.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Correo electrónico"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Configuración para comunicaciones por correo."})]}),t.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:t.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[t.jsxs("div",{className:"col-span-6 sm:col-span-4",children:[t.jsx("label",{htmlFor:"email_from",className:"block text-sm font-medium text-gray-700",children:"Correo electrónico remitente"}),t.jsx("input",{type:"email",name:"email_from",id:"email_from",value:(o==null?void 0:o.email_from)||"",onChange:x,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),t.jsxs("div",{className:"col-span-6",children:[t.jsx("label",{htmlFor:"email_signature",className:"block text-sm font-medium text-gray-700",children:"Firma de correo electrónico"}),t.jsx("textarea",{name:"email_signature",id:"email_signature",rows:"4",value:(o==null?void 0:o.email_signature)||"",onChange:x,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]})})]}),t.jsx("div",{className:"hidden sm:block","aria-hidden":"true",children:t.jsx("div",{className:"py-5",children:t.jsx("div",{className:"border-t border-gray-200"})})}),t.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[t.jsxs("div",{className:"md:col-span-1",children:[t.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Configuración del sistema"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Opciones avanzadas del sistema."})]}),t.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:t.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[t.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[t.jsx("label",{htmlFor:"calendar_start_month",className:"block text-sm font-medium text-gray-700",children:"Mes de inicio del calendario"}),t.jsxs("select",{id:"calendar_start_month",name:"calendar_start_month",value:(o==null?void 0:o.calendar_start_month)||1,onChange:x,className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[t.jsx("option",{value:"1",children:"Enero"}),t.jsx("option",{value:"2",children:"Febrero"}),t.jsx("option",{value:"3",children:"Marzo"}),t.jsx("option",{value:"4",children:"Abril"}),t.jsx("option",{value:"5",children:"Mayo"}),t.jsx("option",{value:"6",children:"Junio"}),t.jsx("option",{value:"7",children:"Julio"}),t.jsx("option",{value:"8",children:"Agosto"}),t.jsx("option",{value:"9",children:"Septiembre"}),t.jsx("option",{value:"10",children:"Octubre"}),t.jsx("option",{value:"11",children:"Noviembre"}),t.jsx("option",{value:"12",children:"Diciembre"})]})]}),t.jsx("div",{className:"col-span-6 sm:col-span-3",children:t.jsxs("div",{className:"flex items-start mt-6",children:[t.jsx("div",{className:"flex items-center h-5",children:t.jsx("input",{id:"maintenance_mode",name:"maintenance_mode",type:"checkbox",checked:(o==null?void 0:o.maintenance_mode)||!1,onChange:x,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),t.jsxs("div",{className:"ml-3 text-sm",children:[t.jsx("label",{htmlFor:"maintenance_mode",className:"font-medium text-gray-700",children:"Modo mantenimiento"}),t.jsx("p",{className:"text-gray-500",children:"Activa el modo mantenimiento para realizar actualizaciones."})]})]})}),t.jsx("div",{className:"col-span-6 sm:col-span-3",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex items-center h-5",children:t.jsx("input",{id:"debug_mode",name:"debug_mode",type:"checkbox",checked:(o==null?void 0:o.debug_mode)||!1,onChange:x,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),t.jsxs("div",{className:"ml-3 text-sm",children:[t.jsx("label",{htmlFor:"debug_mode",className:"font-medium text-gray-700",children:"Modo depuración"}),t.jsx("p",{className:"text-gray-500",children:"Activa el modo depuración para obtener información detallada."})]})]})})]})})]}),t.jsx("div",{className:"pt-5",children:t.jsxs("div",{className:"flex justify-end",children:[t.jsx("button",{type:"button",onClick:()=>e("/admin"),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:i,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400",children:i?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):"Guardar"})]})})]})})]})},qg=()=>{const e=W(),{currentUser:r}=G(),{showNotification:s}=je(),[n,a]=v.useState(!0),[i,l]=v.useState(!1),[o,c]=v.useState(null);v.useEffect(()=>{(async()=>{try{a(!0);const f=await de.getBackupConfiguration();c(f.data)}catch(f){console.error("Error al cargar configuración de respaldos:",f),s("Error al cargar configuración de respaldos","error")}finally{a(!1)}})()},[s]);const u=x=>{const{name:f,value:j,type:b,checked:N}=x.target;c(y=>({...y,[f]:b==="checkbox"?N:j}))},h=async x=>{x.preventDefault();try{l(!0),await de.updateBackupConfiguration(o),s("Configuración de respaldos actualizada correctamente","success")}catch(f){console.error("Error al actualizar configuración de respaldos:",f),s("Error al actualizar configuración de respaldos","error")}finally{l(!1)}};return n?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("button",{onClick:()=>e("/admin"),className:"mr-4 text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuración de Respaldos"})]}),t.jsx("div",{className:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6",children:t.jsxs("form",{onSubmit:h,children:[t.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[t.jsxs("div",{className:"md:col-span-1",children:[t.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Configuración General"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Configuración básica de respaldos automáticos."})]}),t.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:t.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[t.jsx("div",{className:"col-span-6",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex items-center h-5",children:t.jsx("input",{id:"is_active",name:"is_active",type:"checkbox",checked:(o==null?void 0:o.is_active)||!1,onChange:u,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),t.jsxs("div",{className:"ml-3 text-sm",children:[t.jsx("label",{htmlFor:"is_active",className:"font-medium text-gray-700",children:"Activar respaldos automáticos"}),t.jsx("p",{className:"text-gray-500",children:"Habilita la creación automática de respaldos según la programación."})]})]})}),t.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[t.jsx("label",{htmlFor:"frequency",className:"block text-sm font-medium text-gray-700",children:"Frecuencia"}),t.jsxs("select",{id:"frequency",name:"frequency",value:(o==null?void 0:o.frequency)||"weekly",onChange:u,className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[t.jsx("option",{value:"daily",children:"Diario"}),t.jsx("option",{value:"weekly",children:"Semanal"}),t.jsx("option",{value:"monthly",children:"Mensual"})]})]}),(o==null?void 0:o.frequency)==="weekly"&&t.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[t.jsx("label",{htmlFor:"weekday",className:"block text-sm font-medium text-gray-700",children:"Día de la semana"}),t.jsxs("select",{id:"weekday",name:"weekday",value:(o==null?void 0:o.weekday)||0,onChange:u,className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[t.jsx("option",{value:"0",children:"Lunes"}),t.jsx("option",{value:"1",children:"Martes"}),t.jsx("option",{value:"2",children:"Miércoles"}),t.jsx("option",{value:"3",children:"Jueves"}),t.jsx("option",{value:"4",children:"Viernes"}),t.jsx("option",{value:"5",children:"Sábado"}),t.jsx("option",{value:"6",children:"Domingo"})]})]}),(o==null?void 0:o.frequency)==="monthly"&&t.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[t.jsx("label",{htmlFor:"day_of_month",className:"block text-sm font-medium text-gray-700",children:"Día del mes"}),t.jsx("input",{type:"number",name:"day_of_month",id:"day_of_month",min:"1",max:"28",value:(o==null?void 0:o.day_of_month)||1,onChange:u,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Recomendado: 1-28 para evitar problemas con meses cortos"})]}),t.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[t.jsx("label",{htmlFor:"hour",className:"block text-sm font-medium text-gray-700",children:"Hora"}),t.jsx("input",{type:"number",name:"hour",id:"hour",min:"0",max:"23",value:(o==null?void 0:o.hour)||0,onChange:u,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),t.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[t.jsx("label",{htmlFor:"minute",className:"block text-sm font-medium text-gray-700",children:"Minuto"}),t.jsx("input",{type:"number",name:"minute",id:"minute",min:"0",max:"59",value:(o==null?void 0:o.minute)||0,onChange:u,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]})})]}),t.jsx("div",{className:"hidden sm:block","aria-hidden":"true",children:t.jsx("div",{className:"py-5",children:t.jsx("div",{className:"border-t border-gray-200"})})}),t.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[t.jsxs("div",{className:"md:col-span-1",children:[t.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Retención"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Configuración de retención de respaldos."})]}),t.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:t.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[t.jsxs("div",{className:"col-span-6 sm:col-span-2",children:[t.jsx("label",{htmlFor:"keep_daily",className:"block text-sm font-medium text-gray-700",children:"Mantener respaldos diarios"}),t.jsx("input",{type:"number",name:"keep_daily",id:"keep_daily",min:"1",value:(o==null?void 0:o.keep_daily)||7,onChange:u,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),t.jsxs("div",{className:"col-span-6 sm:col-span-2",children:[t.jsx("label",{htmlFor:"keep_weekly",className:"block text-sm font-medium text-gray-700",children:"Mantener respaldos semanales"}),t.jsx("input",{type:"number",name:"keep_weekly",id:"keep_weekly",min:"1",value:(o==null?void 0:o.keep_weekly)||4,onChange:u,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),t.jsxs("div",{className:"col-span-6 sm:col-span-2",children:[t.jsx("label",{htmlFor:"keep_monthly",className:"block text-sm font-medium text-gray-700",children:"Mantener respaldos mensuales"}),t.jsx("input",{type:"number",name:"keep_monthly",id:"keep_monthly",min:"1",value:(o==null?void 0:o.keep_monthly)||12,onChange:u,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]})})]}),t.jsx("div",{className:"hidden sm:block","aria-hidden":"true",children:t.jsx("div",{className:"py-5",children:t.jsx("div",{className:"border-t border-gray-200"})})}),t.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[t.jsxs("div",{className:"md:col-span-1",children:[t.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Almacenamiento"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Configuración de almacenamiento de respaldos."})]}),t.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:t.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[t.jsxs("div",{className:"col-span-6",children:[t.jsx("label",{htmlFor:"backup_path",className:"block text-sm font-medium text-gray-700",children:"Ruta de respaldos"}),t.jsx("input",{type:"text",name:"backup_path",id:"backup_path",value:(o==null?void 0:o.backup_path)||"/backups",onChange:u,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),t.jsx("div",{className:"col-span-6 sm:col-span-2",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex items-center h-5",children:t.jsx("input",{id:"include_media",name:"include_media",type:"checkbox",checked:(o==null?void 0:o.include_media)||!1,onChange:u,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),t.jsx("div",{className:"ml-3 text-sm",children:t.jsx("label",{htmlFor:"include_media",className:"font-medium text-gray-700",children:"Incluir archivos multimedia"})})]})}),t.jsx("div",{className:"col-span-6 sm:col-span-2",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex items-center h-5",children:t.jsx("input",{id:"compress",name:"compress",type:"checkbox",checked:(o==null?void 0:o.compress)||!1,onChange:u,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),t.jsx("div",{className:"ml-3 text-sm",children:t.jsx("label",{htmlFor:"compress",className:"font-medium text-gray-700",children:"Comprimir respaldo"})})]})}),t.jsx("div",{className:"col-span-6 sm:col-span-2",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex items-center h-5",children:t.jsx("input",{id:"encrypt",name:"encrypt",type:"checkbox",checked:(o==null?void 0:o.encrypt)||!1,onChange:u,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),t.jsx("div",{className:"ml-3 text-sm",children:t.jsx("label",{htmlFor:"encrypt",className:"font-medium text-gray-700",children:"Cifrar respaldo"})})]})})]})})]}),t.jsx("div",{className:"hidden sm:block","aria-hidden":"true",children:t.jsx("div",{className:"py-5",children:t.jsx("div",{className:"border-t border-gray-200"})})}),t.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[t.jsxs("div",{className:"md:col-span-1",children:[t.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Notificaciones"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Configuración de notificaciones por correo."})]}),t.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:t.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[t.jsx("div",{className:"col-span-6 sm:col-span-3",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex items-center h-5",children:t.jsx("input",{id:"notify_on_success",name:"notify_on_success",type:"checkbox",checked:(o==null?void 0:o.notify_on_success)||!1,onChange:u,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),t.jsxs("div",{className:"ml-3 text-sm",children:[t.jsx("label",{htmlFor:"notify_on_success",className:"font-medium text-gray-700",children:"Notificar en éxito"}),t.jsx("p",{className:"text-gray-500",children:"Enviar notificación cuando un respaldo se complete con éxito."})]})]})}),t.jsx("div",{className:"col-span-6 sm:col-span-3",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex items-center h-5",children:t.jsx("input",{id:"notify_on_failure",name:"notify_on_failure",type:"checkbox",checked:(o==null?void 0:o.notify_on_failure)||!1,onChange:u,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),t.jsxs("div",{className:"ml-3 text-sm",children:[t.jsx("label",{htmlFor:"notify_on_failure",className:"font-medium text-gray-700",children:"Notificar en fallo"}),t.jsx("p",{className:"text-gray-500",children:"Enviar notificación cuando un respaldo falle."})]})]})}),t.jsxs("div",{className:"col-span-6 sm:col-span-4",children:[t.jsx("label",{htmlFor:"notification_email",className:"block text-sm font-medium text-gray-700",children:"Correo electrónico para notificaciones"}),t.jsx("input",{type:"email",name:"notification_email",id:"notification_email",value:(o==null?void 0:o.notification_email)||"",onChange:u,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]})})]}),t.jsx("div",{className:"pt-5",children:t.jsxs("div",{className:"flex justify-end",children:[t.jsx("button",{type:"button",onClick:()=>e("/admin"),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:i,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400",children:i?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):"Guardar"})]})})]})})]})},Gg=()=>{const e=W(),{currentUser:r}=G(),{showNotification:s}=je(),[n,a]=v.useState(!0),[i,l]=v.useState(!1),[o,c]=v.useState(!1),[u,h]=v.useState([]),[x,f]=v.useState(0),[j,b]=v.useState(null),[N,y]=v.useState(!1),[p,m]=v.useState({page:1,limit:20,backup_type:"",status:"",date_from:"",date_to:""});v.useEffect(()=>{(async()=>{try{a(!0);const $=await de.getAllBackups(p);h($.data.results||[]),f($.data.count||0)}catch($){console.error("Error al cargar respaldos:",$),s("Error al cargar respaldos","error")}finally{a(!1)}})()},[p,s]);const d=L=>{const{name:$,value:V}=L.target;m(he=>({...he,[$]:V,page:1}))},g=L=>{L.preventDefault()},w=L=>{m($=>({...$,page:L}))},k=async()=>{try{l(!0),await de.createBackup(),s("Respaldo iniciado correctamente","success");const L=await de.getAllBackups(p);h(L.data.results||[]),f(L.data.count||0)}catch(L){console.error("Error al crear respaldo:",L),s("Error al crear respaldo","error")}finally{l(!1)}},C=L=>{b(L),y(!0)},R=()=>{b(null),y(!1)},z=async()=>{if(j)try{c(!0),await de.restoreBackup(j.id),s("Restauración iniciada correctamente","success"),R()}catch(L){console.error("Error al restaurar respaldo:",L),s("Error al restaurar respaldo","error")}finally{c(!1)}},P=L=>{switch(L){case"success":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Éxito"});case"failure":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Fallido"});case"in_progress":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:"En progreso"});default:return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"Desconocido"})}},I=L=>{if(L===0)return"0 Bytes";const $=1024,V=["Bytes","KB","MB","GB","TB"],he=Math.floor(Math.log(L)/Math.log($));return parseFloat((L/Math.pow($,he)).toFixed(2))+" "+V[he]},A=Math.ceil(x/p.limit);return n&&u.length===0?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("button",{onClick:()=>e("/admin"),className:"mr-4 text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Respaldos del Sistema"})]}),t.jsx("div",{className:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6 mb-6",children:t.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[t.jsxs("div",{className:"md:col-span-1",children:[t.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Filtros"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Utiliza estos filtros para encontrar respaldos específicos."}),t.jsx("div",{className:"mt-4",children:t.jsx("button",{onClick:k,disabled:i,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-green-400",children:i?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creando..."]}):"Crear respaldo"})})]}),t.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:t.jsxs("form",{onSubmit:g,children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[t.jsxs("div",{className:"col-span-1",children:[t.jsx("label",{htmlFor:"backup_type",className:"block text-sm font-medium text-gray-700",children:"Tipo de respaldo"}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"backup_type",name:"backup_type",value:p.backup_type,onChange:d,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"",children:"Todos"}),t.jsx("option",{value:"manual",children:"Manual"}),t.jsx("option",{value:"scheduled",children:"Programado"})]})})]}),t.jsxs("div",{className:"col-span-1",children:[t.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Estado"}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"status",name:"status",value:p.status,onChange:d,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"",children:"Todos"}),t.jsx("option",{value:"success",children:"Éxito"}),t.jsx("option",{value:"failure",children:"Fallido"}),t.jsx("option",{value:"in_progress",children:"En progreso"})]})})]}),t.jsxs("div",{className:"col-span-1",children:[t.jsx("label",{htmlFor:"date_from",className:"block text-sm font-medium text-gray-700",children:"Fecha desde"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"date",name:"date_from",id:"date_from",value:p.date_from,onChange:d,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),t.jsxs("div",{className:"col-span-1",children:[t.jsx("label",{htmlFor:"date_to",className:"block text-sm font-medium text-gray-700",children:"Fecha hasta"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"date",name:"date_to",id:"date_to",value:p.date_to,onChange:d,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]})]}),t.jsxs("div",{className:"mt-4 flex justify-end",children:[t.jsx("button",{type:"button",onClick:()=>m({page:1,limit:20,backup_type:"",status:"",date_from:"",date_to:""}),className:"mr-3 px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Limpiar"}),t.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Buscar"})]})]})})]})}),t.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[t.jsx("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Respaldos del sistema"}),t.jsxs("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:[x," respaldos encontrados"]})]})}),t.jsx("div",{className:"border-t border-gray-200",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Archivo"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tamaño"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Creado por"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.length>0?u.map(L=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 truncate max-w-xs",children:L.filename}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.backup_type==="manual"?"Manual":"Programado"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I(L.file_size)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:P(L.status)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.created_by_name||"Sistema"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(L.created_at).toLocaleString()}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[L.status==="success"&&t.jsx("button",{onClick:()=>C(L),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Restaurar"}),t.jsx("button",{onClick:()=>{alert(`Detalles del respaldo:
Archivo: ${L.filename}
Ruta: ${L.file_path}
Tamaño: ${I(L.file_size)}
Estado: ${L.status}
Fecha: ${new Date(L.created_at).toLocaleString()}
Completado: ${L.completed_at?new Date(L.completed_at).toLocaleString():"En progreso"}
Error: ${L.error_message||"Ninguno"}`)},className:"text-gray-600 hover:text-gray-900",children:"Detalles"})]})]},L.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No hay respaldos disponibles"})})})]})})})]}),A>1&&t.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-6",children:[t.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[t.jsx("button",{onClick:()=>w(Math.max(1,p.page-1)),disabled:p.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:"Anterior"}),t.jsx("button",{onClick:()=>w(Math.min(A,p.page+1)),disabled:p.page===A,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:"Siguiente"})]}),t.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[t.jsx("div",{children:t.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando ",t.jsx("span",{className:"font-medium",children:(p.page-1)*p.limit+1})," a"," ",t.jsx("span",{className:"font-medium",children:Math.min(p.page*p.limit,x)})," ","de ",t.jsx("span",{className:"font-medium",children:x})," resultados"]})}),t.jsx("div",{children:t.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[t.jsxs("button",{onClick:()=>w(1),disabled:p.page===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:[t.jsx("span",{className:"sr-only",children:"Primera"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),t.jsxs("button",{onClick:()=>w(Math.max(1,p.page-1)),disabled:p.page===1,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:[t.jsx("span",{className:"sr-only",children:"Anterior"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),[...Array(A)].map((L,$)=>{const V=$+1;return V===1||V===A||V>=p.page-1&&V<=p.page+1?t.jsx("button",{onClick:()=>w(V),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${V===p.page?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:V},V):V===p.page-2&&V>1||V===p.page+2&&V<A?t.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."},V):null}),t.jsxs("button",{onClick:()=>w(Math.min(A,p.page+1)),disabled:p.page===A,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:[t.jsx("span",{className:"sr-only",children:"Siguiente"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]}),t.jsxs("button",{onClick:()=>w(A),disabled:p.page===A,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:[t.jsx("span",{className:"sr-only",children:"Última"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]}),N&&t.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:t.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[t.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),t.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),t.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[t.jsxs("div",{className:"sm:flex sm:items-start",children:[t.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:t.jsx("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),t.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[t.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:"Confirmar restauración"}),t.jsx("div",{className:"mt-2",children:t.jsxs("p",{className:"text-sm text-gray-500",children:["¿Está seguro de que desea restaurar el sistema a partir del respaldo ",t.jsx("strong",{children:j==null?void 0:j.filename}),"? Esta acción reemplazará todos los datos actuales con los del respaldo."]})})]})]}),t.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[t.jsx("button",{type:"button",onClick:z,disabled:o,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:bg-red-400",children:o?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Restaurando..."]}):"Restaurar"}),t.jsx("button",{type:"button",onClick:R,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm",children:"Cancelar"})]})]})]})})]})},Qg=()=>{const e=W(),{currentUser:r}=G(),{showNotification:s}=je(),[n,a]=v.useState(!0),[i,l]=v.useState(!1),[o,c]=v.useState(null),[u,h]=v.useState([]),[x,f]=v.useState(0),[j,b]=v.useState({page:1,limit:10,status:"",date_from:"",date_to:""});v.useEffect(()=>{const g=async()=>{try{a(!0);const k=await de.getSystemHealth();c(k.data)}catch(k){console.error("Error al cargar datos de salud del sistema:",k),s("Error al cargar datos de salud del sistema","error")}finally{a(!1)}};g();const w=setInterval(()=>{g()},3e4);return()=>clearInterval(w)},[s]),v.useEffect(()=>{(async()=>{try{const w=await de.getSystemLogs({...j,module:"core.health"});h(w.data.results||[]),f(w.data.count||0)}catch(w){console.error("Error al cargar historial de salud:",w),s("Error al cargar historial de salud","error")}})()},[j,s]);const N=g=>{const{name:w,value:k}=g.target;b(C=>({...C,[w]:k,page:1}))},y=g=>{b(w=>({...w,page:g}))},p=async()=>{try{l(!0);const g=await de.getSystemHealth();c(g.data),s("Datos de salud actualizados","success")}catch(g){console.error("Error al actualizar datos de salud:",g),s("Error al actualizar datos de salud","error")}finally{l(!1)}},m=g=>{switch(g){case"healthy":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Saludable"});case"warning":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Advertencia"});case"critical":return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Crítico"});default:return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"Desconocido"})}},d=Math.ceil(x/j.limit);return n&&!o?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("button",{onClick:()=>e("/admin"),className:"mr-4 text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Estado del Sistema"}),t.jsx("button",{onClick:p,disabled:i,className:"ml-auto inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400",children:i?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Actualizando..."]}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Actualizar"]})})]}),t.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[t.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[t.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Estado actual del sistema"}),t.jsxs("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:["Última actualización: ",o?new Date(o.created_at).toLocaleString():"Desconocido"]})]}),t.jsxs("div",{className:"border-t border-gray-200",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4",children:[t.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:t.jsx("div",{className:"px-4 py-5 sm:p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:t.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Estado General"}),t.jsx("dd",{children:t.jsx("div",{className:"text-lg font-medium text-gray-900",children:o&&m(o.status)})})]})})]})})}),t.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:t.jsx("div",{className:"px-4 py-5 sm:p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:t.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Uso de CPU"}),t.jsxs("dd",{children:[t.jsx("div",{className:"text-lg font-medium text-gray-900",children:o?`${o.cpu_usage}%`:"N/A"}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:t.jsx("div",{className:`h-2.5 rounded-full ${o&&o.cpu_usage>90?"bg-red-600":o&&o.cpu_usage>70?"bg-yellow-500":"bg-green-600"}`,style:{width:`${o?o.cpu_usage:0}%`}})})]})]})})]})})}),t.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:t.jsx("div",{className:"px-4 py-5 sm:p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:t.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Uso de Memoria"}),t.jsxs("dd",{children:[t.jsx("div",{className:"text-lg font-medium text-gray-900",children:o?`${o.memory_usage}%`:"N/A"}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:t.jsx("div",{className:`h-2.5 rounded-full ${o&&o.memory_usage>90?"bg-red-600":o&&o.memory_usage>70?"bg-yellow-500":"bg-green-600"}`,style:{width:`${o?o.memory_usage:0}%`}})})]})]})})]})})}),t.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:t.jsx("div",{className:"px-4 py-5 sm:p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-yellow-500 rounded-md p-3",children:t.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Uso de Disco"}),t.jsxs("dd",{children:[t.jsx("div",{className:"text-lg font-medium text-gray-900",children:o?`${o.disk_usage}%`:"N/A"}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:t.jsx("div",{className:`h-2.5 rounded-full ${o&&o.disk_usage>90?"bg-red-600":o&&o.disk_usage>70?"bg-yellow-500":"bg-green-600"}`,style:{width:`${o?o.disk_usage:0}%`}})})]})]})})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 border-t border-gray-200",children:[t.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:t.jsx("div",{className:"px-4 py-5 sm:p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-purple-500 rounded-md p-3",children:t.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Tamaño de Base de Datos"}),t.jsx("dd",{children:t.jsx("div",{className:"text-lg font-medium text-gray-900",children:o?`${(o.db_size/(1024*1024)).toFixed(2)} MB`:"N/A"})})]})})]})})}),t.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:t.jsx("div",{className:"px-4 py-5 sm:p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-pink-500 rounded-md p-3",children:t.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Conexiones a BD"}),t.jsx("dd",{children:t.jsx("div",{className:"text-lg font-medium text-gray-900",children:o?o.db_connections:"N/A"})})]})})]})})}),t.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:t.jsx("div",{className:"px-4 py-5 sm:p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-teal-500 rounded-md p-3",children:t.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Usuarios Activos"}),t.jsx("dd",{children:t.jsx("div",{className:"text-lg font-medium text-gray-900",children:o?o.active_users:"N/A"})})]})})]})})}),t.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:t.jsx("div",{className:"px-4 py-5 sm:p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-orange-500 rounded-md p-3",children:t.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Tiempo de Respuesta"}),t.jsx("dd",{children:t.jsx("div",{className:"text-lg font-medium text-gray-900",children:o?`${o.response_time.toFixed(2)} ms`:"N/A"})})]})})]})})})]}),o&&o.status_message&&t.jsx("div",{className:"p-4 border-t border-gray-200",children:t.jsx("div",{className:`p-4 rounded-md ${o.status==="critical"?"bg-red-50 text-red-800":o.status==="warning"?"bg-yellow-50 text-yellow-800":"bg-green-50 text-green-800"}`,children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"flex-shrink-0",children:o.status==="critical"?t.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}):o.status==="warning"?t.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}):t.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),t.jsx("div",{className:"ml-3",children:t.jsx("p",{className:"text-sm font-medium",children:o.status_message})})]})})})]})]}),t.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[t.jsx("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Historial de salud del sistema"}),t.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Registros históricos del estado del sistema"})]})}),t.jsxs("div",{className:"border-t border-gray-200",children:[t.jsx("div",{className:"p-4 border-b border-gray-200",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[t.jsxs("div",{className:"col-span-1",children:[t.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Estado"}),t.jsx("div",{className:"mt-1",children:t.jsxs("select",{id:"status",name:"status",value:j.status,onChange:N,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[t.jsx("option",{value:"",children:"Todos"}),t.jsx("option",{value:"healthy",children:"Saludable"}),t.jsx("option",{value:"warning",children:"Advertencia"}),t.jsx("option",{value:"critical",children:"Crítico"})]})})]}),t.jsxs("div",{className:"col-span-1",children:[t.jsx("label",{htmlFor:"date_from",className:"block text-sm font-medium text-gray-700",children:"Fecha desde"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"date",name:"date_from",id:"date_from",value:j.date_from,onChange:N,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),t.jsxs("div",{className:"col-span-1",children:[t.jsx("label",{htmlFor:"date_to",className:"block text-sm font-medium text-gray-700",children:"Fecha hasta"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"date",name:"date_to",id:"date_to",value:j.date_to,onChange:N,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]})]})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CPU"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Memoria"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Disco"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuarios"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mensaje"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.length>0?u.map(g=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(g.created_at).toLocaleString()}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m(g.status)}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[g.cpu_usage,"%"]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[g.memory_usage,"%"]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[g.disk_usage,"%"]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.active_users}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 truncate max-w-xs",children:g.status_message})]},g.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No hay registros disponibles"})})})]})})]})]}),d>1&&t.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-6",children:[t.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[t.jsx("button",{onClick:()=>y(Math.max(1,j.page-1)),disabled:j.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:"Anterior"}),t.jsx("button",{onClick:()=>y(Math.min(d,j.page+1)),disabled:j.page===d,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:"Siguiente"})]}),t.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[t.jsx("div",{children:t.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando ",t.jsx("span",{className:"font-medium",children:(j.page-1)*j.limit+1})," a"," ",t.jsx("span",{className:"font-medium",children:Math.min(j.page*j.limit,x)})," ","de ",t.jsx("span",{className:"font-medium",children:x})," resultados"]})}),t.jsx("div",{children:t.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[t.jsxs("button",{onClick:()=>y(1),disabled:j.page===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:[t.jsx("span",{className:"sr-only",children:"Primera"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),t.jsxs("button",{onClick:()=>y(Math.max(1,j.page-1)),disabled:j.page===1,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:[t.jsx("span",{className:"sr-only",children:"Anterior"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),[...Array(d)].map((g,w)=>{const k=w+1;return k===1||k===d||k>=j.page-1&&k<=j.page+1?t.jsx("button",{onClick:()=>y(k),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${k===j.page?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:k},k):k===j.page-2&&k>1||k===j.page+2&&k<d?t.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."},k):null}),t.jsxs("button",{onClick:()=>y(Math.min(d,j.page+1)),disabled:j.page===d,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:[t.jsx("span",{className:"sr-only",children:"Siguiente"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]}),t.jsxs("button",{onClick:()=>y(d),disabled:j.page===d,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:bg-gray-100 disabled:text-gray-400",children:[t.jsx("span",{className:"sr-only",children:"Última"}),t.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})},Yt=({children:e,requiredRole:r})=>{const{currentUser:s,isAuthenticated:n,userRole:a}=G();return n?r&&a!==r?t.jsx(Jn,{to:"/dashboard"}):e:t.jsx(Jn,{to:"/login"})},Kg=()=>t.jsxs(fp,{children:[t.jsxs(F,{path:"/",element:t.jsx(ug,{}),children:[t.jsx(F,{index:!0,element:t.jsx(Jn,{to:"/login"})}),t.jsx(F,{path:"login",element:t.jsx(mg,{})}),t.jsx(F,{path:"forgot-password",element:t.jsx(xg,{})}),t.jsx(F,{path:"reset-password/:token",element:t.jsx(hg,{})})]}),t.jsxs(F,{path:"/",element:t.jsx(Yt,{children:t.jsx(dg,{})}),children:[t.jsx(F,{path:"dashboard",element:t.jsx(pg,{})}),t.jsxs(F,{path:"members",children:[t.jsx(F,{index:!0,element:t.jsx(fg,{})}),t.jsx(F,{path:":id",element:t.jsx(gg,{})}),t.jsx(F,{path:"new",element:t.jsx(Bc,{})}),t.jsx(F,{path:"edit/:id",element:t.jsx(Bc,{})})]}),t.jsxs(F,{path:"treasury",children:[t.jsx(F,{index:!0,element:t.jsx(yg,{})}),t.jsxs(F,{path:"payments",children:[t.jsx(F,{index:!0,element:t.jsx(vg,{})}),t.jsx(F,{path:"new",element:t.jsx(Oc,{})}),t.jsx(F,{path:"edit/:id",element:t.jsx(Oc,{})})]}),t.jsxs(F,{path:"invoices",children:[t.jsx(F,{index:!0,element:t.jsx(jg,{})}),t.jsx(F,{path:":id",element:t.jsx(bg,{})})]}),t.jsx(F,{path:"reports",element:t.jsx(Ng,{})})]}),t.jsxs(F,{path:"communications",children:[t.jsx(F,{path:"notifications",element:t.jsx(wg,{})}),t.jsxs(F,{path:"events",children:[t.jsx(F,{index:!0,element:t.jsx(kg,{})}),t.jsx(F,{path:":id",element:t.jsx(_g,{})}),t.jsx(F,{path:"new",element:t.jsx(Ic,{})}),t.jsx(F,{path:"edit/:id",element:t.jsx(Ic,{})})]}),t.jsxs(F,{path:"messages",children:[t.jsx(F,{index:!0,element:t.jsx(Cg,{})}),t.jsx(F,{path:":id",element:t.jsx(Sg,{})}),t.jsx(F,{path:"new",element:t.jsx(Vc,{})}),t.jsx(F,{path:"reply/:id",element:t.jsx(Vc,{})})]})]}),t.jsxs(F,{path:"rituals",children:[t.jsx(F,{index:!0,element:t.jsx(Eg,{})}),t.jsx(F,{path:":id",element:t.jsx(Lg,{})}),t.jsx(F,{path:"new",element:t.jsx(Uc,{})}),t.jsx(F,{path:"edit/:id",element:t.jsx(Uc,{})}),t.jsx(F,{path:":planId/roles",element:t.jsx(Rg,{})}),t.jsx(F,{path:":planId/works",element:t.jsx(Mg,{})}),t.jsx(F,{path:":planId/minutes",element:t.jsx(Pg,{})})]}),t.jsxs(F,{path:"library",children:[t.jsx(F,{index:!0,element:t.jsx(Dg,{})}),t.jsxs(F,{path:"categories",children:[t.jsx(F,{index:!0,element:t.jsx(Fg,{})}),t.jsx(F,{path:":id",element:t.jsx(zg,{})}),t.jsx(F,{path:"new",element:t.jsx(Hc,{})}),t.jsx(F,{path:"edit/:id",element:t.jsx(Hc,{})})]}),t.jsxs(F,{path:"documents",children:[t.jsx(F,{index:!0,element:t.jsx(Tg,{})}),t.jsx(F,{path:":id",element:t.jsx(Vg,{})}),t.jsx(F,{path:"new",element:t.jsx(Wc,{})}),t.jsx(F,{path:"edit/:id",element:t.jsx(Wc,{})})]})]}),t.jsxs(F,{path:"admin",children:[t.jsx(F,{index:!0,element:t.jsx(Yt,{requiredRole:"worshipful_master",children:t.jsx(Ug,{})})}),t.jsx(F,{path:"system-logs",element:t.jsx(Yt,{requiredRole:"worshipful_master",children:t.jsx(Hg,{})})}),t.jsx(F,{path:"lodge-configuration",element:t.jsx(Yt,{requiredRole:"worshipful_master",children:t.jsx(Wg,{})})}),t.jsx(F,{path:"backup-configuration",element:t.jsx(Yt,{requiredRole:"worshipful_master",children:t.jsx(qg,{})})}),t.jsx(F,{path:"backups",element:t.jsx(Yt,{requiredRole:"worshipful_master",children:t.jsx(Gg,{})})}),t.jsx(F,{path:"system-health",element:t.jsx(Yt,{requiredRole:"worshipful_master",children:t.jsx(Qg,{})})})]}),t.jsx(F,{path:"*",element:t.jsx(Jn,{to:"/dashboard",replace:!0})})]})]});function Jg(){return t.jsx(wp,{children:t.jsx(lg,{children:t.jsx(cg,{children:t.jsx(og,{children:t.jsx(Kg,{})})})})})}am(document.getElementById("root")).render(t.jsx(v.StrictMode,{children:t.jsx(Jg,{})}));
